function __vite__mapDeps(indexes) {
  if (!__vite__mapDeps.viteFileDeps) {
    __vite__mapDeps.viteFileDeps = ["../chunks/browser.CezFTwf3.js","../chunks/misc.DtdNzmrH.js","../chunks/index.CJ5pUW9h.js","../chunks/scheduler.IdCzA-zq.js","../chunks/paths.Y7olstn6.js"]
  }
  return indexes.map((i) => __vite__mapDeps.viteFileDeps[i])
}
import{s as de,e as w,k as Q,Z as At,c as k,d as m,p as _,f as p,n as ie,S as ke,i as P,_ as nr,D as $s,U as ht,a as R,B as Ce,$ as Ht,V as dt,W as ft,X as _t,o as mt,a0 as Mt,r as Ye,a1 as oe,q as M,a2 as Fs,A as It,a3 as Ms,h as se,a4 as je,a5 as Xe,a6 as xe,a7 as Tt,a8 as or,a9 as Qe,t as ee,b as te,aa as we,g as be,w as Gt,ab as zs,j as q,l as V,P as ms,Y as ge,T as gs,ac as ar,Q as ps,R as vs,ad as Jt}from"../chunks/scheduler.IdCzA-zq.js";import{S as fe,i as _e,a as j,t as N,g as Se,c as Ee,b as le,d as ce,m as ue,e as he,f as Kt,h as Bs,j as Wt,k as lr}from"../chunks/index.CJ5pUW9h.js";import{e as Z,v as bs,c as Ue,i as St,b as Et,d as ys,f as qs,a as nt,t as Yt,u as Xt,l as Me,s as Fe,h as bt,o as Vs}from"../chunks/misc.DtdNzmrH.js";import{b as pe,w as st}from"../chunks/paths.Y7olstn6.js";import{_ as Ze}from"../chunks/preload-helper.BQ24v_F8.js";function jt(i,e){const t={},r={},s={$$scope:1};let n=i.length;for(;n--;){const o=i[n],a=e[n];if(a){for(const l in o)l in a||(r[l]=1);for(const l in a)s[l]||(t[l]=a[l],s[l]=1);i[n]=a}else for(const l in o)s[l]=1}for(const o in r)o in t||(t[o]=void 0);return t}function ws(i){return typeof i=="object"&&i!==null?i:{}}function cr(i,e,t){const r=i.slice();return r[5]=e[t],r}function ur(i){let e,t;return{c(){e=w("link"),this.h()},l(r){e=k(r,"LINK",{rel:!0,href:!0,as:!0,type:!0,crossorigin:!0}),this.h()},h(){_(e,"rel","preload"),_(e,"href",t=i[5]),_(e,"as","font"),_(e,"type","font/woff2"),_(e,"crossorigin","")},m(r,s){P(r,e,s)},p(r,s){s&16&&t!==(t=r[5])&&_(e,"href",t)},d(r){r&&m(e)}}}function Hs(i){let e,t,r,s,n,o,a,l,c,u,d,h,f,g,v,y,O,E,S,T,b,C,X,H,K,z,U;document.title=e=i[0];let F=Z(i[4]),Y=[];for(let $=0;$<F.length;$+=1)Y[$]=ur(cr(i,F,$));return{c(){t=w("meta"),r=w("meta"),s=w("meta"),n=w("link"),o=w("meta"),a=w("meta"),l=w("meta"),c=w("meta"),u=w("meta"),d=w("meta"),h=w("meta"),g=w("meta"),v=w("meta"),y=w("meta"),O=w("meta"),E=w("meta"),S=w("meta"),T=w("meta"),b=w("meta"),C=w("meta"),H=w("meta"),K=w("link");for(let $=0;$<Y.length;$+=1)Y[$].c();U=Q(),this.h()},l($){const I=At("svelte-up0d4s",document.head);t=k(I,"META",{name:!0,content:!0}),r=k(I,"META",{name:!0,content:!0}),s=k(I,"META",{name:!0,content:!0}),n=k(I,"LINK",{rel:!0,href:!0,sizes:!0}),o=k(I,"META",{property:!0,content:!0}),a=k(I,"META",{property:!0,content:!0}),l=k(I,"META",{property:!0,content:!0}),c=k(I,"META",{property:!0,content:!0}),u=k(I,"META",{property:!0,content:!0}),d=k(I,"META",{property:!0,content:!0}),h=k(I,"META",{property:!0,content:!0}),g=k(I,"META",{property:!0,content:!0}),v=k(I,"META",{property:!0,content:!0}),y=k(I,"META",{property:!0,content:!0}),O=k(I,"META",{name:!0,content:!0}),E=k(I,"META",{name:!0,content:!0}),S=k(I,"META",{name:!0,content:!0}),T=k(I,"META",{name:!0,content:!0}),b=k(I,"META",{name:!0,content:!0}),C=k(I,"META",{name:!0,content:!0}),H=k(I,"META",{name:!0,content:!0}),K=k(I,"LINK",{rel:!0,href:!0});for(let L=0;L<Y.length;L+=1)Y[L].l(I);U=Q(),I.forEach(m),this.h()},h(){_(t,"name","description"),_(t,"content",i[1]),_(r,"name","author"),_(r,"content","The Pudding"),_(s,"name","news_keywords"),_(s,"content",i[3]),_(n,"rel","icon"),_(n,"href",pe+"/favicon.ico"),_(n,"sizes","any"),_(o,"property","og:title"),_(o,"content",i[0]),_(a,"property","og:site_name"),_(a,"content","The Pudding"),_(l,"property","og:url"),_(l,"content",i[2]),_(c,"property","og:description"),_(c,"content",i[1]),_(u,"property","og:type"),_(u,"content","article"),_(d,"property","og:locale"),_(d,"content","en_US"),_(h,"property","og:image"),_(h,"content",f=i[2]+"/assets/social-facebook.jpg"),_(g,"property","og:image:type"),_(g,"content","image/jpeg"),_(v,"property","og:image:width"),_(v,"content","1200"),_(y,"property","og:image:height"),_(y,"content","600"),_(O,"name","twitter:card"),_(O,"content","summary_large_image"),_(E,"name","twitter:site"),_(E,"content","https://pudding.cool"),_(S,"name","twitter:creator"),_(S,"content","@puddingviz"),_(T,"name","twitter:title"),_(T,"content",i[0]),_(b,"name","twitter:description"),_(b,"content",i[1]),_(C,"name","twitter:image:src"),_(C,"content",X=i[2]+"/assets/social-twitter.jpg"),_(H,"name","robots"),_(H,"content","max-image-preview:large"),_(K,"rel","canonical"),_(K,"href",z=i[2]+"/")},m($,I){p(document.head,t),p(document.head,r),p(document.head,s),p(document.head,n),p(document.head,o),p(document.head,a),p(document.head,l),p(document.head,c),p(document.head,u),p(document.head,d),p(document.head,h),p(document.head,g),p(document.head,v),p(document.head,y),p(document.head,O),p(document.head,E),p(document.head,S),p(document.head,T),p(document.head,b),p(document.head,C),p(document.head,H),p(document.head,K);for(let L=0;L<Y.length;L+=1)Y[L]&&Y[L].m(document.head,null);p(document.head,U)},p($,[I]){if(I&1&&e!==(e=$[0])&&(document.title=e),I&2&&_(t,"content",$[1]),I&8&&_(s,"content",$[3]),I&1&&_(o,"content",$[0]),I&4&&_(l,"content",$[2]),I&2&&_(c,"content",$[1]),I&4&&f!==(f=$[2]+"/assets/social-facebook.jpg")&&_(h,"content",f),I&1&&_(T,"content",$[0]),I&2&&_(b,"content",$[1]),I&4&&X!==(X=$[2]+"/assets/social-twitter.jpg")&&_(C,"content",X),I&4&&z!==(z=$[2]+"/")&&_(K,"href",z),I&16){F=Z($[4]);let L;for(L=0;L<F.length;L+=1){const G=cr($,F,L);Y[L]?Y[L].p(G,I):(Y[L]=ur(G),Y[L].c(),Y[L].m(U.parentNode,U))}for(;L<Y.length;L+=1)Y[L].d(1);Y.length=F.length}},i:ie,o:ie,d($){m(t),m(r),m(s),m(n),m(o),m(a),m(l),m(c),m(u),m(d),m(h),m(g),m(v),m(y),m(O),m(E),m(S),m(T),m(b),m(C),m(H),m(K),ke(Y,$),m(U)}}}function Gs(i,e,t){let{title:r="Title TK"}=e,{description:s="Description TK"}=e,{url:n="https://pudding.cool"}=e,{keywords:o=""}=e,{preloadFont:a=[]}=e;return i.$$set=l=>{"title"in l&&t(0,r=l.title),"description"in l&&t(1,s=l.description),"url"in l&&t(2,n=l.url),"keywords"in l&&t(3,o=l.keywords),"preloadFont"in l&&t(4,a=l.preloadFont)},[r,s,n,o,a]}class Js extends fe{constructor(e){super(),_e(this,e,Gs,Hs,de,{title:0,description:1,url:2,keywords:3,preloadFont:4})}}function ks(i){const e=i-1;return e*e*e+1}function Ss(i,{delay:e=0,duration:t=400,easing:r=$s}={}){const s=+getComputedStyle(i).opacity;return{delay:e,duration:t,easing:r,css:n=>`opacity: ${n*s}`}}function hr(i,{delay:e=0,duration:t=400,easing:r=ks,x:s=0,y:n=0,opacity:o=0}={}){const a=getComputedStyle(i),l=+a.opacity,c=a.transform==="none"?"":a.transform,u=l*(1-o),[d,h]=nr(s),[f,g]=nr(n);return{delay:e,duration:t,easing:r,css:(v,y)=>`
			transform: ${c} translate(${(1-v)*d}${h}, ${(1-v)*f}${g});
			opacity: ${l-u*y}`}}function dr(i,{delay:e=0,duration:t=400,easing:r=ks,axis:s="y"}={}){const n=getComputedStyle(i),o=+n.opacity,a=s==="y"?"height":"width",l=parseFloat(n[a]),c=s==="y"?["top","bottom"]:["left","right"],u=c.map(O=>`${O[0].toUpperCase()}${O.slice(1)}`),d=parseFloat(n[`padding${u[0]}`]),h=parseFloat(n[`padding${u[1]}`]),f=parseFloat(n[`margin${u[0]}`]),g=parseFloat(n[`margin${u[1]}`]),v=parseFloat(n[`border${u[0]}Width`]),y=parseFloat(n[`border${u[1]}Width`]);return{delay:e,duration:t,easing:r,css:O=>`overflow: hidden;opacity: ${Math.min(O*20,1)*o};${a}: ${O*l}px;padding-${c[0]}: ${O*d}px;padding-${c[1]}: ${O*h}px;margin-${c[0]}: ${O*f}px;margin-${c[1]}: ${O*g}px;border-${c[0]}-width: ${O*v}px;border-${c[1]}-width: ${O*y}px;`}}const Ks={title:"Defining Generations in K-pop",description:"We want fans to have the opportunity to vote and determine the answers.",url:"https://pudding.cool/2024/10/kpop-survey"},Ws={index:[{type:"section",value:[{type:"text",value:"This is an experiment to define <span class=intro-highlight>K-pop</span> generations."}]},{type:"section",value:[{type:"text",value:"Sort 35 artists into generations to help us find the answer"}]},{type:"voting",value:{}}]},Ys={title:"In your opinion, which of the following factors are most relevant in defining a generation?",text:"Select up to 3.",factors:["Debut year","Peak active periods","Association with other groups","Length of contracts","Member age ranges","Member racial diversity","Member positions (or lack thereof)","Fashion trends","Music genre trends","Promotion models","Fan interaction models","Influence on industry","Target audience","Makeup of fanbase","Other"]},Xs={title:"Thank you for submitting the survey, and stay tuned for part II.",text:`We're looking for K-pop fans to interview. Drop your email if you're interested in keeping in touch.\r
\r
\r
Survey by: <a href=https://pudding.cool/author/eunice-lee target=_blank rel=noreferrer>Eunice Lee</a>, <a href=https://pudding.cool/author/minji-kim target=_blank rel=noreferrer>Minji Kim</a>, <a href=https://pudding.cool/author/caitlyn-ralph target=_blank rel=noreferrer>Caitlyn Ralph</a> (I.N ult, Hyunjin wrecker), and <a href=https://pudding.cool/author/jared-whalen target=_blank rel=noreferrer>Jared Whalen</a>.`,methodology:"The K-pop groups present in this survey are big 4 company debuts and smaller company groups that were nominated for MAMA Artist of the Year since 2018. To make the survey more digestible, we further narrowed the list by removing groups who debuted at similar times to another group in the same company (e.g. WINNER and iKON)."},ct={meta:Ks,body:Ws,survey:Ys,results:Xs};function xs(i){let e,t,r,s,n;const o=i[26].default,a=ht(o,i,i[25],null);return{c(){e=w("section"),t=w("div"),a&&a.c(),this.h()},l(l){e=k(l,"SECTION",{"aria-label":!0,class:!0});var c=R(e);t=k(c,"DIV",{class:!0,style:!0});var u=R(t);a&&a.l(u),u.forEach(m),c.forEach(m),this.h()},h(){_(t,"class","slides svelte-1ceqw5z"),_(t,"style",i[5]),_(e,"aria-label","carousel"),_(e,"class",r="slider "+i[0]+" svelte-1ceqw5z"),Ce(()=>i[29].call(e))},m(l,c){P(l,e,c),p(e,t),a&&a.m(t,null),i[27](t),i[28](e),s=Ht(e,i[29].bind(e)),n=!0},p(l,c){a&&a.p&&(!n||c[0]&33554432)&&dt(a,o,l,l[25],n?_t(o,l[25],c,null):ft(l[25]),null),(!n||c[0]&32)&&_(t,"style",l[5]),(!n||c[0]&1&&r!==(r="slider "+l[0]+" svelte-1ceqw5z"))&&_(e,"class",r)},i(l){n||(j(a,l),n=!0)},o(l){N(a,l),n=!1},d(l){l&&m(e),a&&a.d(l),i[27](null),i[28](null),s()}}}function Qs(i,e,t){let r,s,n,o,a,l,c,u,d,h,f,{$$slots:g={},$$scope:v}=e,{direction:y="horizontal"}=e,{duration:O="500ms"}=e,{timing:E="ease"}=e,{count:S=0}=e,{current:T=0}=e;const b=()=>B(1),C=()=>B(-1),X=x=>B(x,!0);let H=0,K=0,z,U,F=!1,Y,$,I,L=st(),G=st(),Te=st(),D=st(),A=st();const B=(x,vt)=>{if(!F)return!1;const rt=vt?x:K+x;t(14,K=Math.max(0,Math.min(H-1,rt))),t(6,T=K)},ne=x=>{F=x[0].isIntersecting};mt(()=>{t(13,H=$.children.length),t(7,S=H),A.set(S),I=new IntersectionObserver(ne,{root:null,rootMargin:"-1px"}),I.observe(Y),t(2,U),t(1,z)});function ae(x){Ye[x?"unshift":"push"](()=>{$=x,t(4,$)})}function me(x){Ye[x?"unshift":"push"](()=>{Y=x,t(3,Y)})}function pt(){z=this.clientWidth,U=this.clientHeight,t(1,z),t(2,U)}return i.$$set=x=>{"direction"in x&&t(0,y=x.direction),"duration"in x&&t(8,O=x.duration),"timing"in x&&t(9,E=x.timing),"count"in x&&t(7,S=x.count),"current"in x&&t(6,T=x.current),"$$scope"in x&&t(25,v=x.$$scope)},i.$$.update=()=>{i.$$.dirty[0]&8195&&t(24,r=y==="horizontal"?`${H*z}px`:"100%"),i.$$.dirty[0]&8197&&t(23,s=y==="vertical"?`${H*U}px`:"100%"),i.$$.dirty[0]&16387&&t(22,n=y==="horizontal"?`${K*z*-1}px`:0),i.$$.dirty[0]&16389&&t(21,o=y==="vertical"?`${K*U*-1}px`:0),i.$$.dirty[0]&16777216&&t(20,a=`width: ${r};`),i.$$.dirty[0]&8388608&&t(19,l=`height: ${s};`),i.$$.dirty[0]&6291456&&t(18,c=`transform: translate3d(${n}, ${o}, 0);`),i.$$.dirty[0]&256&&t(17,u=`transition-duration: ${O};`),i.$$.dirty[0]&512&&t(16,d=`transition-timing-function: ${E};`),i.$$.dirty[0]&2031616&&t(5,h=`${a} ${l} ${c} ${u} ${d}`),i.$$.dirty[0]&1&&L.set(y),i.$$.dirty[0]&2&&G.set(z),i.$$.dirty[0]&4&&Te.set(U),i.$$.dirty[0]&64&&D.set(T),i.$$.dirty[0]&32768&&Mt("Slider",f)},t(15,f={dir:L,cur:D,w:G,h:Te,count:A}),[y,z,U,Y,$,h,T,S,O,E,b,C,X,H,K,f,d,u,c,l,a,o,n,s,r,v,g,ae,me,pt]}class Zs extends fe{constructor(e){super(),_e(this,e,Qs,xs,de,{direction:0,duration:8,timing:9,count:7,current:6,next:10,prev:11,jump:12},null,[-1,-1])}get next(){return this.$$.ctx[10]}get prev(){return this.$$.ctx[11]}get jump(){return this.$$.ctx[12]}}function ei(i,e){const t=["a","button","input","textarea","select","details","[tabindex]:not([tabindex='-1'])"],r=o=>{n.forEach(a=>{o&&o.disable?a.setAttribute("tabindex",-1):a.removeAttribute("tabindex")})},s=t.join(", "),n=[...i.querySelectorAll(s)];return r(e),{update(o){r(o)},destroy(){n.forEach(o=>o.removeAttribute("tabindex"))}}}function ti(i){let e,t,r,s,n,o,a,l;const c=i[17].default,u=ht(c,i,i[16],null);return{c(){e=w("div"),u&&u.c(),this.h()},l(d){e=k(d,"DIV",{id:!0,class:!0,role:!0,"aria-label":!0,"aria-current":!0});var h=R(e);u&&u.l(h),h.forEach(m),this.h()},h(){_(e,"id",t="slide-"+i[0]),_(e,"class",r="slide "+i[1]+" svelte-1h814z3"),_(e,"role","group"),_(e,"aria-label",s="slide "+(i[0]+1)+" of "+i[6]),_(e,"aria-current",i[2]),oe(e,"visible",i[2]),M(e,"width",i[5]),M(e,"height",i[4])},m(d,h){P(d,e,h),u&&u.m(e,null),o=!0,a||(l=Fs(n=ei.call(null,e,{disable:i[3]})),a=!0)},p(d,[h]){u&&u.p&&(!o||h&65536)&&dt(u,c,d,d[16],o?_t(c,d[16],h,null):ft(d[16]),null),(!o||h&1&&t!==(t="slide-"+d[0]))&&_(e,"id",t),(!o||h&2&&r!==(r="slide "+d[1]+" svelte-1h814z3"))&&_(e,"class",r),(!o||h&65&&s!==(s="slide "+(d[0]+1)+" of "+d[6]))&&_(e,"aria-label",s),(!o||h&4)&&_(e,"aria-current",d[2]),n&&It(n.update)&&h&8&&n.update.call(null,{disable:d[3]}),(!o||h&6)&&oe(e,"visible",d[2]),h&32&&M(e,"width",d[5]),h&16&&M(e,"height",d[4])},i(d){o||(j(u,d),o=!0)},o(d){N(u,d),o=!1},d(d){d&&m(e),u&&u.d(d),a=!1,l()}}}function ri(i,e,t){let r,s,n,o,a,l,c,u,d,{$$slots:h={},$$scope:f}=e;const{dir:g,cur:v,w:y,h:O,count:E}=Ms("Slider");se(i,g,b=>t(14,c=b)),se(i,v,b=>t(12,a=b)),se(i,y,b=>t(15,u=b)),se(i,O,b=>t(13,l=b)),se(i,E,b=>t(6,d=b));let{index:S}=e,{cls:T=""}=e;return i.$$set=b=>{"index"in b&&t(0,S=b.index),"cls"in b&&t(1,T=b.cls),"$$scope"in b&&t(16,f=b.$$scope)},i.$$.update=()=>{i.$$.dirty&49152&&t(5,r=c==="horizontal"?`${u}px`:"100%"),i.$$.dirty&24576&&t(4,s=c==="vertical"?`${l}px`:"100%"),i.$$.dirty&4097&&t(2,n=S===a),i.$$.dirty&4&&t(3,o=!n)},[S,T,n,o,s,r,d,g,v,y,O,E,a,l,c,u,f,h]}class si extends fe{constructor(e){super(),_e(this,e,ri,ti,de,{index:0,cls:1})}}/**
 * @license lucide-svelte v0.358.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ii={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":2,"stroke-linecap":"round","stroke-linejoin":"round"},fr=ii;function _r(i,e,t){const r=i.slice();return r[10]=e[t][0],r[11]=e[t][1],r}function Ct(i){let e,t=[i[11]],r={};for(let s=0;s<t.length;s+=1)r=je(r,t[s]);return{c(){e=Xe(i[10]),this.h()},l(s){e=xe(s,i[10],{}),R(e).forEach(m),this.h()},h(){Tt(e,r)},m(s,n){P(s,e,n)},p(s,n){Tt(e,r=jt(t,[n&32&&s[11]]))},d(s){s&&m(e)}}}function mr(i){let e=i[10],t,r=i[10]&&Ct(i);return{c(){r&&r.c(),t=Q()},l(s){r&&r.l(s),t=Q()},m(s,n){r&&r.m(s,n),P(s,t,n)},p(s,n){s[10]?e?de(e,s[10])?(r.d(1),r=Ct(s),e=s[10],r.c(),r.m(t.parentNode,t)):r.p(s,n):(r=Ct(s),e=s[10],r.c(),r.m(t.parentNode,t)):e&&(r.d(1),r=null,e=s[10])},d(s){s&&m(t),r&&r.d(s)}}}function ni(i){let e,t,r,s,n,o=Z(i[5]),a=[];for(let h=0;h<o.length;h+=1)a[h]=mr(_r(i,o,h));const l=i[9].default,c=ht(l,i,i[8],null);let u=[fr,i[6],{width:i[2]},{height:i[2]},{stroke:i[1]},{"stroke-width":r=i[4]?Number(i[3])*24/Number(i[2]):i[3]},{class:s=`lucide-icon lucide lucide-${i[0]} ${i[7].class??""}`}],d={};for(let h=0;h<u.length;h+=1)d=je(d,u[h]);return{c(){e=Xe("svg");for(let h=0;h<a.length;h+=1)a[h].c();t=Q(),c&&c.c(),this.h()},l(h){e=xe(h,"svg",{width:!0,height:!0,stroke:!0,"stroke-width":!0,class:!0});var f=R(e);for(let g=0;g<a.length;g+=1)a[g].l(f);t=Q(),c&&c.l(f),f.forEach(m),this.h()},h(){Tt(e,d)},m(h,f){P(h,e,f);for(let g=0;g<a.length;g+=1)a[g]&&a[g].m(e,null);p(e,t),c&&c.m(e,null),n=!0},p(h,[f]){if(f&32){o=Z(h[5]);let g;for(g=0;g<o.length;g+=1){const v=_r(h,o,g);a[g]?a[g].p(v,f):(a[g]=mr(v),a[g].c(),a[g].m(e,t))}for(;g<a.length;g+=1)a[g].d(1);a.length=o.length}c&&c.p&&(!n||f&256)&&dt(c,l,h,h[8],n?_t(l,h[8],f,null):ft(h[8]),null),Tt(e,d=jt(u,[fr,f&64&&h[6],(!n||f&4)&&{width:h[2]},(!n||f&4)&&{height:h[2]},(!n||f&2)&&{stroke:h[1]},(!n||f&28&&r!==(r=h[4]?Number(h[3])*24/Number(h[2]):h[3]))&&{"stroke-width":r},(!n||f&129&&s!==(s=`lucide-icon lucide lucide-${h[0]} ${h[7].class??""}`))&&{class:s}]))},i(h){n||(j(c,h),n=!0)},o(h){N(c,h),n=!1},d(h){h&&m(e),ke(a,h),c&&c.d(h)}}}function oi(i,e,t){const r=["name","color","size","strokeWidth","absoluteStrokeWidth","iconNode"];let s=or(e,r),{$$slots:n={},$$scope:o}=e,{name:a}=e,{color:l="currentColor"}=e,{size:c=24}=e,{strokeWidth:u=2}=e,{absoluteStrokeWidth:d=!1}=e,{iconNode:h}=e;return i.$$set=f=>{t(7,e=je(je({},e),Qe(f))),t(6,s=or(e,r)),"name"in f&&t(0,a=f.name),"color"in f&&t(1,l=f.color),"size"in f&&t(2,c=f.size),"strokeWidth"in f&&t(3,u=f.strokeWidth),"absoluteStrokeWidth"in f&&t(4,d=f.absoluteStrokeWidth),"iconNode"in f&&t(5,h=f.iconNode),"$$scope"in f&&t(8,o=f.$$scope)},e=Qe(e),[a,l,c,u,d,h,s,e,o,n]}class Es extends fe{constructor(e){super(),_e(this,e,oi,ni,de,{name:0,color:1,size:2,strokeWidth:3,absoluteStrokeWidth:4,iconNode:5})}}function Ot(i,e){const t=i.match(/^(\d+)(\D+)$/);if(!t)throw new Error("Invalid CSS value");const[,r,s]=t;return`${parseFloat(r)*e}${s}`}function ai(i){let e,t,r,s;return{c(){e=w("button"),t=ee(i[0]),this.h()},l(n){e=k(n,"BUTTON",{class:!0});var o=R(e);t=te(o,i[0]),o.forEach(m),this.h()},h(){_(e,"class","svelte-oh8kvo"),oe(e,"fixed",i[2]),M(e,"--font-size",Ot(i[3],i[4].width>800?1:.5))},m(n,o){P(n,e,o),p(e,t),r||(s=we(e,"click",function(){It(i[1])&&i[1].apply(this,arguments)}),r=!0)},p(n,[o]){i=n,o&1&&be(t,i[0]),o&4&&oe(e,"fixed",i[2]),o&24&&M(e,"--font-size",Ot(i[3],i[4].width>800?1:.5))},i:ie,o:ie,d(n){n&&m(e),r=!1,s()}}}function li(i,e,t){let r;se(i,bs,l=>t(4,r=l));let{text:s="Next"}=e,{onClick:n=()=>{}}=e,{fixed:o=!0}=e,{fontSize:a="80px"}=e;return i.$$set=l=>{"text"in l&&t(0,s=l.text),"onClick"in l&&t(1,n=l.onClick),"fixed"in l&&t(2,o=l.fixed),"fontSize"in l&&t(3,a=l.fontSize)},[s,n,o,a,r]}class Ts extends fe{constructor(e){super(),_e(this,e,li,ai,de,{text:0,onClick:1,fixed:2,fontSize:3})}}function gr(i,e,t){const r=i.slice();return r[18]=e[t],r}function pr(i){let e,t,r,s;const n=[ui,ci],o=[];function a(l,c){return l[18]==="left"?0:l[18]==="right"?1:-1}return~(t=a(i))&&(r=o[t]=n[t](i)),{c(){e=w("span"),r&&r.c(),this.h()},l(l){e=k(l,"SPAN",{class:!0,style:!0});var c=R(e);r&&r.l(c),c.forEach(m),this.h()},h(){_(e,"class","arrows svelte-1sf6xr9"),M(e,"font-size",i[4])},m(l,c){P(l,e,c),~t&&o[t].m(e,null),s=!0},p(l,c){let u=t;t=a(l),t!==u&&(r&&(Se(),N(o[u],1,1,()=>{o[u]=null}),Ee()),~t?(r=o[t],r||(r=o[t]=n[t](l),r.c()),j(r,1),r.m(e,null)):r=null),(!s||c&16)&&M(e,"font-size",l[4])},i(l){s||(j(r),s=!0)},o(l){N(r),s=!1},d(l){l&&m(e),~t&&o[t].d()}}}function ci(i){let e,t;return e=new Ts({}),{c(){le(e.$$.fragment)},l(r){ce(e.$$.fragment,r)},m(r,s){ue(e,r,s),t=!0},i(r){t||(j(e.$$.fragment,r),t=!0)},o(r){N(e.$$.fragment,r),t=!1},d(r){he(e,r)}}}function ui(i){return{c:ie,l:ie,m:ie,i:ie,o:ie,d:ie}}function vr(i){let e,t=i[7].includes(i[18]),r,s,n,o,a,l,c,u=t&&pr(i);return{c(){e=w("button"),u&&u.c(),r=q(),this.h()},l(d){e=k(d,"BUTTON",{style:!0,"aria-label":!0,class:!0});var h=R(e);u&&u.l(h),r=V(h),h.forEach(m),this.h()},h(){M(e,"width",i[10](i[18])),M(e,"height",i[9](i[18])),_(e,"aria-label",s=i[18]),_(e,"class",n=i[18]+" "+i[5]+" svelte-1sf6xr9"),e.disabled=o=i[2].includes(i[18]),oe(e,"full",i[1])},m(d,h){P(d,e,h),u&&u.m(e,null),p(e,r),a=!0,l||(c=we(e,"click",function(){It(i[11]("tap",i[18]))&&i[11]("tap",i[18]).apply(this,arguments)}),l=!0)},p(d,h){i=d,h&136&&(t=i[7].includes(i[18])),t?u?(u.p(i,h),h&136&&j(u,1)):(u=pr(i),u.c(),j(u,1),u.m(e,r)):u&&(Se(),N(u,1,1,()=>{u=null}),Ee()),(!a||h&1032)&&M(e,"width",i[10](i[18])),(!a||h&520)&&M(e,"height",i[9](i[18])),(!a||h&8&&s!==(s=i[18]))&&_(e,"aria-label",s),(!a||h&40&&n!==(n=i[18]+" "+i[5]+" svelte-1sf6xr9"))&&_(e,"class",n),(!a||h&12&&o!==(o=i[2].includes(i[18])))&&(e.disabled=o),(!a||h&42)&&oe(e,"full",i[1])},i(d){a||(j(u),a=!0)},o(d){N(u),a=!1},d(d){d&&m(e),u&&u.d(),l=!1,c()}}}function hi(i){let e,t,r,s;Ce(i[17]);let n=Z(i[3]),o=[];for(let l=0;l<n.length;l+=1)o[l]=vr(gr(i,n,l));const a=l=>N(o[l],1,1,()=>{o[l]=null});return{c(){e=w("section");for(let l=0;l<o.length;l+=1)o[l].c();this.h()},l(l){e=k(l,"SECTION",{style:!0,class:!0});var c=R(e);for(let u=0;u<o.length;u+=1)o[u].l(c);c.forEach(m),this.h()},h(){M(e,"height",i[6]+"px"),_(e,"class","svelte-1sf6xr9"),oe(e,"debug",i[0])},m(l,c){P(l,e,c);for(let u=0;u<o.length;u+=1)o[u]&&o[u].m(e,null);t=!0,r||(s=[we(window,"keydown",function(){It(i[8])&&i[8].apply(this,arguments)}),we(window,"resize",i[17])],r=!0)},p(l,[c]){if(i=l,c&3774){n=Z(i[3]);let u;for(u=0;u<n.length;u+=1){const d=gr(i,n,u);o[u]?(o[u].p(d,c),j(o[u],1)):(o[u]=vr(d),o[u].c(),j(o[u],1),o[u].m(e,null))}for(Se(),u=n.length;u<o.length;u+=1)a(u);Ee()}(!t||c&64)&&M(e,"height",i[6]+"px"),(!t||c&1)&&oe(e,"debug",i[0])},i(l){if(!t){for(let c=0;c<n.length;c+=1)j(o[c]);t=!0}},o(l){o=o.filter(Boolean);for(let c=0;c<o.length;c+=1)N(o[c]);t=!1},d(l){l&&m(e),ke(o,l),r=!1,Gt(s)}}}function di(i,e,t){let r,s,n,o,{debug:a=!1}=e,{enableKeyboard:l=!1}=e,{full:c=!1}=e,{showArrows:u=!1}=e,{disable:d=[]}=e,{directions:h=["left","right"]}=e,{size:f="64px"}=e,{arrowSize:g="48px"}=e,{arrowStroke:v="rgba(120, 120, 120, 1)"}=e,{arrowStrokeWidth:y="3"}=e,{arrowPosition:O="center"}=e;const E=zs();let S;function T(){t(6,S=window.innerHeight)}return i.$$set=b=>{"debug"in b&&t(0,a=b.debug),"enableKeyboard"in b&&t(12,l=b.enableKeyboard),"full"in b&&t(1,c=b.full),"showArrows"in b&&t(13,u=b.showArrows),"disable"in b&&t(2,d=b.disable),"directions"in b&&t(3,h=b.directions),"size"in b&&t(14,f=b.size),"arrowSize"in b&&t(4,g=b.arrowSize),"arrowStroke"in b&&t(15,v=b.arrowStroke),"arrowStrokeWidth"in b&&t(16,y=b.arrowStrokeWidth),"arrowPosition"in b&&t(5,O=b.arrowPosition)},i.$$.update=()=>{i.$$.dirty&16394&&t(10,r=b=>Array.isArray(f)?f[h.indexOf(b)]:c?"100%":f),i.$$.dirty&16386&&t(9,s=b=>["up","down"].includes(b)?f:c?"100%":f),i.$$.dirty&4104&&t(8,n=b=>{const C=b.key.replace("Arrow","").toLowerCase(),X=h.includes(C);l&&X&&(b.preventDefault(),E("tap",C))}),i.$$.dirty&8200&&t(7,o=h.filter(b=>typeof u=="boolean"?u:u.includes(b)))},[a,c,d,h,g,O,S,o,n,s,r,E,l,u,f,v,y,T]}class fi extends fe{constructor(e){super(),_e(this,e,di,hi,de,{debug:0,enableKeyboard:12,full:1,showArrows:13,disable:2,directions:3,size:14,arrowSize:4,arrowStroke:15,arrowStrokeWidth:16,arrowPosition:5})}}function _i(i){let e,t=i[1]+1+"",r,s,n;return{c(){e=w("p"),r=ee(t),s=ee(" of "),n=ee(i[0]),this.h()},l(o){e=k(o,"P",{class:!0});var a=R(e);r=te(a,t),s=te(a," of "),n=te(a,i[0]),a.forEach(m),this.h()},h(){_(e,"class","count title-font svelte-1wc3fxb")},m(o,a){P(o,e,a),p(e,r),p(e,s),p(e,n)},p(o,[a]){a&2&&t!==(t=o[1]+1+"")&&be(r,t),a&1&&be(n,o[0])},i:ie,o:ie,d(o){o&&m(e)}}}function mi(i,e,t){let r;se(i,Ue,n=>t(1,r=n));let{maxArtistIndex:s}=e;return i.$$set=n=>{"maxArtistIndex"in n&&t(0,s=n.maxArtistIndex)},[s,r]}class gi extends fe{constructor(e){super(),_e(this,e,mi,_i,de,{maxArtistIndex:0})}}function pi(i){let e;const t=i[2].default,r=ht(t,i,i[3],null);return{c(){r&&r.c()},l(s){r&&r.l(s)},m(s,n){r&&r.m(s,n),e=!0},p(s,n){r&&r.p&&(!e||n&8)&&dt(r,t,s,s[3],e?_t(t,s[3],n,null):ft(s[3]),null)},i(s){e||(j(r,s),e=!0)},o(s){N(r,s),e=!1},d(s){r&&r.d(s)}}}function vi(i){let e,t;const r=[{name:"chevron-down"},i[1],{iconNode:i[0]}];let s={$$slots:{default:[pi]},$$scope:{ctx:i}};for(let n=0;n<r.length;n+=1)s=je(s,r[n]);return e=new Es({props:s}),{c(){le(e.$$.fragment)},l(n){ce(e.$$.fragment,n)},m(n,o){ue(e,n,o),t=!0},p(n,[o]){const a=o&3?jt(r,[r[0],o&2&&ws(n[1]),o&1&&{iconNode:n[0]}]):{};o&8&&(a.$$scope={dirty:o,ctx:n}),e.$set(a)},i(n){t||(j(e.$$.fragment,n),t=!0)},o(n){N(e.$$.fragment,n),t=!1},d(n){he(e,n)}}}function bi(i,e,t){let{$$slots:r={},$$scope:s}=e;const n=[["path",{d:"m6 9 6 6 6-6"}]];return i.$$set=o=>{t(1,e=je(je({},e),Qe(o))),"$$scope"in o&&t(3,s=o.$$scope)},e=Qe(e),[n,e,r,s]}class yi extends fe{constructor(e){super(),_e(this,e,bi,vi,de,{})}}const wi=yi;function ki(i){let e;const t=i[2].default,r=ht(t,i,i[3],null);return{c(){r&&r.c()},l(s){r&&r.l(s)},m(s,n){r&&r.m(s,n),e=!0},p(s,n){r&&r.p&&(!e||n&8)&&dt(r,t,s,s[3],e?_t(t,s[3],n,null):ft(s[3]),null)},i(s){e||(j(r,s),e=!0)},o(s){N(r,s),e=!1},d(s){r&&r.d(s)}}}function Si(i){let e,t;const r=[{name:"chevron-up"},i[1],{iconNode:i[0]}];let s={$$slots:{default:[ki]},$$scope:{ctx:i}};for(let n=0;n<r.length;n+=1)s=je(s,r[n]);return e=new Es({props:s}),{c(){le(e.$$.fragment)},l(n){ce(e.$$.fragment,n)},m(n,o){ue(e,n,o),t=!0},p(n,[o]){const a=o&3?jt(r,[r[0],o&2&&ws(n[1]),o&1&&{iconNode:n[0]}]):{};o&8&&(a.$$scope={dirty:o,ctx:n}),e.$set(a)},i(n){t||(j(e.$$.fragment,n),t=!0)},o(n){N(e.$$.fragment,n),t=!1},d(n){he(e,n)}}}function Ei(i,e,t){let{$$slots:r={},$$scope:s}=e;const n=[["path",{d:"m18 15-6-6-6 6"}]];return i.$$set=o=>{t(1,e=je(je({},e),Qe(o))),"$$scope"in o&&t(3,s=o.$$scope)},e=Qe(e),[n,e,r,s]}class Ti extends fe{constructor(e){super(),_e(this,e,Ei,Si,de,{})}}const Oi=Ti;function Ai(i){let e,t;return{c(){e=Xe("svg"),t=Xe("path"),this.h()},l(r){e=xe(r,"svg",{xmlns:!0,version:!0,viewBox:!0,class:!0});var s=R(e);t=xe(s,"path",{d:!0}),R(t).forEach(m),s.forEach(m),this.h()},h(){_(t,"d","m600 223.2c-207.6 0-376.8 169.2-376.8 376.8s169.2 376.8 376.8 376.8 376.8-169.2 376.8-376.8-169.2-376.8-376.8-376.8zm159.6 408-219.6 130.8c-16.801 9.6016-39.602 4.8008-49.199-13.199-3.6016-6-4.8008-12-4.8008-18v-261.6c0-20.398 15.602-36 36-36 6 0 13.199 1.1992 18 4.8008l219.6 130.8c16.801 9.6016 22.801 32.398 12 49.199-2.4023 6-7.2031 9.6016-12 13.199z"),_(e,"xmlns","http://www.w3.org/2000/svg"),_(e,"version","1.1"),_(e,"viewBox","223.2 223.2 753.6 753.6"),_(e,"class","svelte-ow6s80")},m(r,s){P(r,e,s),p(e,t)},d(r){r&&m(e)}}}function Ii(i){let e,t;return{c(){e=Xe("svg"),t=Xe("path"),this.h()},l(r){e=xe(r,"svg",{xmlns:!0,version:!0,viewBox:!0,class:!0});var s=R(e);t=xe(s,"path",{d:!0}),R(t).forEach(m),s.forEach(m),this.h()},h(){_(t,"d","m600 30c-314.39 0-570 255.61-570 570s255.61 570 570 570 570-255.61 570-570-255.61-570-570-570zm-96 788.39c0 30-25.219 55.219-55.219 55.219s-55.219-25.219-55.219-55.219l0.046875-436.78c0-30 25.219-55.219 55.219-55.219s55.219 25.219 55.219 55.219zm302.39 0c0 30-25.219 55.219-55.219 55.219s-55.219-25.219-55.219-55.219l0.046875-436.78c0-30 25.219-55.219 55.219-55.219s55.219 25.219 55.219 55.219z"),_(e,"xmlns","http://www.w3.org/2000/svg"),_(e,"version","1.1"),_(e,"viewBox","30 30 1140 1140"),_(e,"class","svelte-ow6s80")},m(r,s){P(r,e,s),p(e,t)},d(r){r&&m(e)}}}function ji(i){let e,t,r,s=i[0].song+"",n,o,a,l;function c(h,f){return h[1]?Ii:Ai}let u=c(i),d=u(i);return{c(){e=w("button"),d.c(),t=q(),r=w("span"),n=ee(s),this.h()},l(h){e=k(h,"BUTTON",{class:!0,"aria-label":!0,tabindex:!0});var f=R(e);d.l(f),t=V(f),r=k(f,"SPAN",{class:!0});var g=R(r);n=te(g,s),g.forEach(m),f.forEach(m),this.h()},h(){_(r,"class","svelte-ow6s80"),_(e,"class","artist__player title-font svelte-ow6s80"),_(e,"aria-label",o=i[0].song+". Click to play a sample."),_(e,"tabindex","0")},m(h,f){P(h,e,f),d.m(e,null),p(e,t),p(e,r),p(r,n),a||(l=we(e,"click",i[2]),a=!0)},p(h,[f]){u!==(u=c(h))&&(d.d(1),d=u(h),d&&(d.c(),d.m(e,t))),f&1&&s!==(s=h[0].song+"")&&be(n,s),f&1&&o!==(o=h[0].song+". Click to play a sample.")&&_(e,"aria-label",o)},i:ie,o:ie,d(h){h&&m(e),d.d(),a=!1,l()}}}function Ri(i,e,t){let{artist:r}=e,s,n=!1,o;function a(){n?l():(t(1,n=!0),s||(s=new Audio(`${pe}/assets/audio/${r.id}.mp3`),s.play()))}function l(){t(1,n=!1),s&&(s.pause(),s=null)}return i.$$set=c=>{"artist"in c&&t(0,r=c.artist)},i.$$.update=()=>{i.$$.dirty&11&&(o&&o.id!==r.id&&n&&l(),t(3,o=r))},[r,n,a,o]}class Pi extends fe{constructor(e){super(),_e(this,e,Ri,ji,de,{artist:0})}}function br(i){var s;let e,t,r=`url(${pe}/assets/toploaders/${(s=i[1])==null?void 0:s.gen}.png)`;return{c(){e=w("div"),this.h()},l(n){e=k(n,"DIV",{class:!0,"aria-hidden":!0}),R(e).forEach(m),this.h()},h(){_(e,"class","layer toploader svelte-u6zir5"),_(e,"aria-hidden","true"),M(e,"--image",r)},m(n,o){P(n,e,o)},p(n,o){var a;o&2&&r!==(r=`url(${pe}/assets/toploaders/${(a=n[1])==null?void 0:a.gen}.png)`)&&M(e,"--image",r)},i(n){n&&(t||Ce(()=>{t=Kt(e,Ss,{duration:0}),t.start()}))},o:ie,d(n){n&&m(e)}}}function yr(i){let e,t,r=`url(${pe}/assets/toploaders/${i[5]}.png)`;return{c(){e=w("div"),this.h()},l(s){e=k(s,"DIV",{class:!0,"aria-hidden":!0}),R(e).forEach(m),this.h()},h(){_(e,"class","layer toploader svelte-u6zir5"),_(e,"aria-hidden","true"),M(e,"--image",r)},m(s,n){P(s,e,n)},p(s,n){n&32&&r!==(r=`url(${pe}/assets/toploaders/${s[5]}.png)`)&&M(e,"--image",r)},i(s){s&&(t||Ce(()=>{t=Kt(e,Ss,{duration:500}),t.start()}))},o:ie,d(s){s&&m(e)}}}function Ci(i){var Te;let e,t,r=i[0].name+"",s,n,o,a,l=i[0]["debut year"]+"",c,u,d=i[0].company+"",h,f,g,v,y,O,E,S,T,b,C,X=`url(${pe}/assets/images/${i[0].id}.jpg)`,H,K,z=`url(${pe}/assets/toploaders/plastic.png)`,U,F,Y,$,I;v=new Pi({props:{artist:i[0]}});let L=((Te=i[1])==null?void 0:Te.gen)&&br(i),G=i[4]&&yr(i);return{c(){e=w("div"),t=w("div"),s=ee(r),n=q(),o=w("p"),a=ee("Debuted in "),c=ee(l),u=ee(" under "),h=ee(d),f=ee(` and their highest streaming
		song is`),g=q(),le(v.$$.fragment),y=q(),O=w("div"),E=w("div"),S=w("div"),T=q(),b=w("div"),H=q(),K=w("div"),U=q(),L&&L.c(),F=q(),G&&G.c(),this.h()},l(D){e=k(D,"DIV",{class:!0,tabindex:!0});var A=R(e);t=k(A,"DIV",{class:!0});var B=R(t);s=te(B,r),B.forEach(m),n=V(A),o=k(A,"P",{class:!0});var ne=R(o);a=te(ne,"Debuted in "),c=te(ne,l),u=te(ne," under "),h=te(ne,d),f=te(ne,` and their highest streaming
		song is`),ne.forEach(m),g=V(A),ce(v.$$.fragment,A),y=V(A),O=k(A,"DIV",{class:!0});var ae=R(O);E=k(ae,"DIV",{class:!0});var me=R(E);S=k(me,"DIV",{class:!0,"aria-hidden":!0}),R(S).forEach(m),T=V(me),b=k(me,"DIV",{class:!0,"aria-label":!0}),R(b).forEach(m),H=V(me),K=k(me,"DIV",{class:!0,"aria-hidden":!0}),R(K).forEach(m),U=V(me),L&&L.l(me),F=V(me),G&&G.l(me),me.forEach(m),ae.forEach(m),A.forEach(m),this.h()},h(){_(t,"class","artist__title svelte-u6zir5"),_(o,"class","artist__description svelte-u6zir5"),_(S,"class","layer back svelte-u6zir5"),_(S,"aria-hidden","true"),_(b,"class","layer image svelte-u6zir5"),_(b,"aria-label",C="Artist image for "+i[0].name),M(b,"--image",X),_(K,"class","layer plastic svelte-u6zir5"),_(K,"aria-hidden","true"),M(K,"--image",z),_(E,"class",Y="inner "+(i[2]<i[3]?"use-width":"use-height")+" svelte-u6zir5"),_(O,"class","artist__art svelte-u6zir5"),Ce(()=>i[6].call(O)),_(e,"class","artist title-font svelte-u6zir5"),_(e,"tabindex","0")},m(D,A){P(D,e,A),p(e,t),p(t,s),p(e,n),p(e,o),p(o,a),p(o,c),p(o,u),p(o,h),p(o,f),p(e,g),ue(v,e,null),p(e,y),p(e,O),p(O,E),p(E,S),p(E,T),p(E,b),p(E,H),p(E,K),p(E,U),L&&L.m(E,null),p(E,F),G&&G.m(E,null),$=Ht(O,i[6].bind(O)),I=!0},p(D,[A]){var ne;(!I||A&1)&&r!==(r=D[0].name+"")&&be(s,r),(!I||A&1)&&l!==(l=D[0]["debut year"]+"")&&be(c,l),(!I||A&1)&&d!==(d=D[0].company+"")&&be(h,d);const B={};A&1&&(B.artist=D[0]),v.$set(B),(!I||A&1&&C!==(C="Artist image for "+D[0].name))&&_(b,"aria-label",C),A&1&&X!==(X=`url(${pe}/assets/images/${D[0].id}.jpg)`)&&M(b,"--image",X),(ne=D[1])!=null&&ne.gen?L?(L.p(D,A),A&2&&j(L,1)):(L=br(D),L.c(),j(L,1),L.m(E,F)):L&&(L.d(1),L=null),D[4]?G?(G.p(D,A),A&16&&j(G,1)):(G=yr(D),G.c(),j(G,1),G.m(E,null)):G&&(G.d(1),G=null),(!I||A&12&&Y!==(Y="inner "+(D[2]<D[3]?"use-width":"use-height")+" svelte-u6zir5"))&&_(E,"class",Y)},i(D){I||(j(v.$$.fragment,D),j(L),j(G),I=!0)},o(D){N(v.$$.fragment,D),I=!1},d(D){D&&m(e),he(v),L&&L.d(),G&&G.d(),$()}}}function Li(i,e,t){let r,s;se(i,St,u=>t(4,r=u)),se(i,Et,u=>t(5,s=u));let{artist:n}=e,{previousSubmission:o=void 0}=e,a,l;function c(){a=this.clientWidth,l=this.clientHeight,t(2,a),t(3,l)}return i.$$set=u=>{"artist"in u&&t(0,n=u.artist),"previousSubmission"in u&&t(1,o=u.previousSubmission)},[n,o,a,l,r,s,c]}class Ni extends fe{constructor(e){super(),_e(this,e,Li,Ci,de,{artist:0,previousSubmission:1})}}const Di=i=>{let e;return i?e=i:typeof fetch>"u"?e=(...t)=>Ze(()=>Promise.resolve().then(()=>gt),void 0,import.meta.url).then(({default:r})=>r(...t)):e=fetch,(...t)=>e(...t)};class xt extends Error{constructor(e,t="FunctionsError",r){super(e),this.name=t,this.context=r}}class Ui extends xt{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class $i extends xt{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class Fi extends xt{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var Mi=function(i,e,t,r){function s(n){return n instanceof t?n:new t(function(o){o(n)})}return new(t||(t=Promise))(function(n,o){function a(u){try{c(r.next(u))}catch(d){o(d)}}function l(u){try{c(r.throw(u))}catch(d){o(d)}}function c(u){u.done?n(u.value):s(u.value).then(a,l)}c((r=r.apply(i,e||[])).next())})};class zi{constructor(e,{headers:t={},customFetch:r}={}){this.url=e,this.headers=t,this.fetch=Di(r)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e,t={}){var r;return Mi(this,void 0,void 0,function*(){try{const{headers:s,method:n,body:o}=t;let a={},l;o&&(s&&!Object.prototype.hasOwnProperty.call(s,"Content-Type")||!s)&&(typeof Blob<"u"&&o instanceof Blob||o instanceof ArrayBuffer?(a["Content-Type"]="application/octet-stream",l=o):typeof o=="string"?(a["Content-Type"]="text/plain",l=o):typeof FormData<"u"&&o instanceof FormData?l=o:(a["Content-Type"]="application/json",l=JSON.stringify(o)));const c=yield this.fetch(`${this.url}/${e}`,{method:n||"POST",headers:Object.assign(Object.assign(Object.assign({},a),this.headers),s),body:l}).catch(f=>{throw new Ui(f)}),u=c.headers.get("x-relay-error");if(u&&u==="true")throw new $i(c);if(!c.ok)throw new Fi(c);let d=((r=c.headers.get("Content-Type"))!==null&&r!==void 0?r:"text/plain").split(";")[0].trim(),h;return d==="application/json"?h=yield c.json():d==="application/octet-stream"?h=yield c.blob():d==="multipart/form-data"?h=yield c.formData():h=yield c.text(),{data:h,error:null}}catch(s){return{data:null,error:s}}})}}var Bi=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},et=Bi();const qi=et.fetch,Qt=et.fetch.bind(et),Os=et.Headers,Vi=et.Request,Hi=et.Response,gt=Object.freeze(Object.defineProperty({__proto__:null,Headers:Os,Request:Vi,Response:Hi,default:Qt,fetch:qi},Symbol.toStringTag,{value:"Module"}));class Gi extends Error{constructor(e){super(e.message),this.name="PostgrestError",this.details=e.details,this.hint=e.hint,this.code=e.code}}class Ji{constructor(e){this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=e.headers,this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=e.shouldThrowOnError,this.signal=e.signal,this.isMaybeSingle=e.isMaybeSingle,e.fetch?this.fetch=e.fetch:typeof fetch>"u"?this.fetch=Qt:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}then(e,t){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const r=this.fetch;let s=r(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async n=>{var o,a,l;let c=null,u=null,d=null,h=n.status,f=n.statusText;if(n.ok){if(this.method!=="HEAD"){const O=await n.text();O===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?u=O:u=JSON.parse(O))}const v=(o=this.headers.Prefer)===null||o===void 0?void 0:o.match(/count=(exact|planned|estimated)/),y=(a=n.headers.get("content-range"))===null||a===void 0?void 0:a.split("/");v&&y&&y.length>1&&(d=parseInt(y[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(u)&&(u.length>1?(c={code:"PGRST116",details:`Results contain ${u.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},u=null,d=null,h=406,f="Not Acceptable"):u.length===1?u=u[0]:u=null)}else{const v=await n.text();try{c=JSON.parse(v),Array.isArray(c)&&n.status===404&&(u=[],c=null,h=200,f="OK")}catch{n.status===404&&v===""?(h=204,f="No Content"):c={message:v}}if(c&&this.isMaybeSingle&&(!((l=c==null?void 0:c.details)===null||l===void 0)&&l.includes("0 rows"))&&(c=null,h=200,f="OK"),c&&this.shouldThrowOnError)throw new Gi(c)}return{error:c,data:u,count:d,status:h,statusText:f}});return this.shouldThrowOnError||(s=s.catch(n=>{var o,a,l;return{error:{message:`${(o=n==null?void 0:n.name)!==null&&o!==void 0?o:"FetchError"}: ${n==null?void 0:n.message}`,details:`${(a=n==null?void 0:n.stack)!==null&&a!==void 0?a:""}`,hint:"",code:`${(l=n==null?void 0:n.code)!==null&&l!==void 0?l:""}`},data:null,count:null,status:0,statusText:""}})),s.then(e,t)}}class Ki extends Ji{select(e){let t=!1;const r=(e??"*").split("").map(s=>/\s/.test(s)&&!t?"":(s==='"'&&(t=!t),s)).join("");return this.url.searchParams.set("select",r),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(e,{ascending:t=!0,nullsFirst:r,foreignTable:s,referencedTable:n=s}={}){const o=n?`${n}.order`:"order",a=this.url.searchParams.get(o);return this.url.searchParams.set(o,`${a?`${a},`:""}${e}.${t?"asc":"desc"}${r===void 0?"":r?".nullsfirst":".nullslast"}`),this}limit(e,{foreignTable:t,referencedTable:r=t}={}){const s=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(s,`${e}`),this}range(e,t,{foreignTable:r,referencedTable:s=r}={}){const n=typeof s>"u"?"offset":`${s}.offset`,o=typeof s>"u"?"limit":`${s}.limit`;return this.url.searchParams.set(n,`${e}`),this.url.searchParams.set(o,`${t-e+1}`),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:e=!1,verbose:t=!1,settings:r=!1,buffers:s=!1,wal:n=!1,format:o="text"}={}){var a;const l=[e?"analyze":null,t?"verbose":null,r?"settings":null,s?"buffers":null,n?"wal":null].filter(Boolean).join("|"),c=(a=this.headers.Accept)!==null&&a!==void 0?a:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${o}; for="${c}"; options=${l};`,o==="json"?this:this}rollback(){var e;return((e=this.headers.Prefer)!==null&&e!==void 0?e:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}}class Je extends Ki{eq(e,t){return this.url.searchParams.append(e,`eq.${t}`),this}neq(e,t){return this.url.searchParams.append(e,`neq.${t}`),this}gt(e,t){return this.url.searchParams.append(e,`gt.${t}`),this}gte(e,t){return this.url.searchParams.append(e,`gte.${t}`),this}lt(e,t){return this.url.searchParams.append(e,`lt.${t}`),this}lte(e,t){return this.url.searchParams.append(e,`lte.${t}`),this}like(e,t){return this.url.searchParams.append(e,`like.${t}`),this}likeAllOf(e,t){return this.url.searchParams.append(e,`like(all).{${t.join(",")}}`),this}likeAnyOf(e,t){return this.url.searchParams.append(e,`like(any).{${t.join(",")}}`),this}ilike(e,t){return this.url.searchParams.append(e,`ilike.${t}`),this}ilikeAllOf(e,t){return this.url.searchParams.append(e,`ilike(all).{${t.join(",")}}`),this}ilikeAnyOf(e,t){return this.url.searchParams.append(e,`ilike(any).{${t.join(",")}}`),this}is(e,t){return this.url.searchParams.append(e,`is.${t}`),this}in(e,t){const r=t.map(s=>typeof s=="string"&&new RegExp("[,()]").test(s)?`"${s}"`:`${s}`).join(",");return this.url.searchParams.append(e,`in.(${r})`),this}contains(e,t){return typeof t=="string"?this.url.searchParams.append(e,`cs.${t}`):Array.isArray(t)?this.url.searchParams.append(e,`cs.{${t.join(",")}}`):this.url.searchParams.append(e,`cs.${JSON.stringify(t)}`),this}containedBy(e,t){return typeof t=="string"?this.url.searchParams.append(e,`cd.${t}`):Array.isArray(t)?this.url.searchParams.append(e,`cd.{${t.join(",")}}`):this.url.searchParams.append(e,`cd.${JSON.stringify(t)}`),this}rangeGt(e,t){return this.url.searchParams.append(e,`sr.${t}`),this}rangeGte(e,t){return this.url.searchParams.append(e,`nxl.${t}`),this}rangeLt(e,t){return this.url.searchParams.append(e,`sl.${t}`),this}rangeLte(e,t){return this.url.searchParams.append(e,`nxr.${t}`),this}rangeAdjacent(e,t){return this.url.searchParams.append(e,`adj.${t}`),this}overlaps(e,t){return typeof t=="string"?this.url.searchParams.append(e,`ov.${t}`):this.url.searchParams.append(e,`ov.{${t.join(",")}}`),this}textSearch(e,t,{config:r,type:s}={}){let n="";s==="plain"?n="pl":s==="phrase"?n="ph":s==="websearch"&&(n="w");const o=r===void 0?"":`(${r})`;return this.url.searchParams.append(e,`${n}fts${o}.${t}`),this}match(e){return Object.entries(e).forEach(([t,r])=>{this.url.searchParams.append(t,`eq.${r}`)}),this}not(e,t,r){return this.url.searchParams.append(e,`not.${t}.${r}`),this}or(e,{foreignTable:t,referencedTable:r=t}={}){const s=r?`${r}.or`:"or";return this.url.searchParams.append(s,`(${e})`),this}filter(e,t,r){return this.url.searchParams.append(e,`${t}.${r}`),this}}class Wi{constructor(e,{headers:t={},schema:r,fetch:s}){this.url=e,this.headers=t,this.schema=r,this.fetch=s}select(e,{head:t=!1,count:r}={}){const s=t?"HEAD":"GET";let n=!1;const o=(e??"*").split("").map(a=>/\s/.test(a)&&!n?"":(a==='"'&&(n=!n),a)).join("");return this.url.searchParams.set("select",o),r&&(this.headers.Prefer=`count=${r}`),new Je({method:s,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(e,{count:t,defaultToNull:r=!0}={}){const s="POST",n=[];if(this.headers.Prefer&&n.push(this.headers.Prefer),t&&n.push(`count=${t}`),r||n.push("missing=default"),this.headers.Prefer=n.join(","),Array.isArray(e)){const o=e.reduce((a,l)=>a.concat(Object.keys(l)),[]);if(o.length>0){const a=[...new Set(o)].map(l=>`"${l}"`);this.url.searchParams.set("columns",a.join(","))}}return new Je({method:s,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}upsert(e,{onConflict:t,ignoreDuplicates:r=!1,count:s,defaultToNull:n=!0}={}){const o="POST",a=[`resolution=${r?"ignore":"merge"}-duplicates`];if(t!==void 0&&this.url.searchParams.set("on_conflict",t),this.headers.Prefer&&a.push(this.headers.Prefer),s&&a.push(`count=${s}`),n||a.push("missing=default"),this.headers.Prefer=a.join(","),Array.isArray(e)){const l=e.reduce((c,u)=>c.concat(Object.keys(u)),[]);if(l.length>0){const c=[...new Set(l)].map(u=>`"${u}"`);this.url.searchParams.set("columns",c.join(","))}}return new Je({method:o,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}update(e,{count:t}={}){const r="PATCH",s=[];return this.headers.Prefer&&s.push(this.headers.Prefer),t&&s.push(`count=${t}`),this.headers.Prefer=s.join(","),new Je({method:r,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}delete({count:e}={}){const t="DELETE",r=[];return e&&r.push(`count=${e}`),this.headers.Prefer&&r.unshift(this.headers.Prefer),this.headers.Prefer=r.join(","),new Je({method:t,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}}const Yi="1.9.2",Xi={"X-Client-Info":`postgrest-js/${Yi}`};class Zt{constructor(e,{headers:t={},schema:r,fetch:s}={}){this.url=e,this.headers=Object.assign(Object.assign({},Xi),t),this.schemaName=r,this.fetch=s}from(e){const t=new URL(`${this.url}/${e}`);return new Wi(t,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(e){return new Zt(this.url,{headers:this.headers,schema:e,fetch:this.fetch})}rpc(e,t={},{head:r=!1,count:s}={}){let n;const o=new URL(`${this.url}/rpc/${e}`);let a;r?(n="HEAD",Object.entries(t).forEach(([c,u])=>{o.searchParams.append(c,`${u}`)})):(n="POST",a=t);const l=Object.assign({},this.headers);return s&&(l.Prefer=`count=${s}`),new Je({method:n,url:o,headers:l,schema:this.schemaName,body:a,fetch:this.fetch,allowEmpty:!1})}}const xi="2.9.3",Qi={"X-Client-Info":`realtime-js/${xi}`},Zi="1.0.0",As=1e4,en=1e3;var We;(function(i){i[i.connecting=0]="connecting",i[i.open=1]="open",i[i.closing=2]="closing",i[i.closed=3]="closed"})(We||(We={}));var ye;(function(i){i.closed="closed",i.errored="errored",i.joined="joined",i.joining="joining",i.leaving="leaving"})(ye||(ye={}));var Ie;(function(i){i.close="phx_close",i.error="phx_error",i.join="phx_join",i.reply="phx_reply",i.leave="phx_leave",i.access_token="access_token"})(Ie||(Ie={}));var zt;(function(i){i.websocket="websocket"})(zt||(zt={}));var $e;(function(i){i.Connecting="connecting",i.Open="open",i.Closing="closing",i.Closed="closed"})($e||($e={}));class Is{constructor(e,t){this.callback=e,this.timerCalc=t,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=t}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}class tn{constructor(){this.HEADER_LENGTH=1}decode(e,t){return e.constructor===ArrayBuffer?t(this._binaryDecode(e)):t(typeof e=="string"?JSON.parse(e):{})}_binaryDecode(e){const t=new DataView(e),r=new TextDecoder;return this._decodeBroadcast(e,t,r)}_decodeBroadcast(e,t,r){const s=t.getUint8(1),n=t.getUint8(2);let o=this.HEADER_LENGTH+2;const a=r.decode(e.slice(o,o+s));o=o+s;const l=r.decode(e.slice(o,o+n));o=o+n;const c=JSON.parse(r.decode(e.slice(o,e.byteLength)));return{ref:null,topic:a,event:l,payload:c}}}class Lt{constructor(e,t,r={},s=As){this.channel=e,this.event=t,this.payload=r,this.timeout=s,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,t){var r;return this._hasReceived(e)&&t((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:e,callback:t}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=t=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=t,this._matchReceive(t)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,t){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:t})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:t}){this.recHooks.filter(r=>r.status===e).forEach(r=>r.callback(t))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var wr;(function(i){i.SYNC="sync",i.JOIN="join",i.LEAVE="leave"})(wr||(wr={}));class at{constructor(e,t){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=(t==null?void 0:t.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},s=>{const{onJoin:n,onLeave:o,onSync:a}=this.caller;this.joinRef=this.channel._joinRef(),this.state=at.syncState(this.state,s,n,o),this.pendingDiffs.forEach(l=>{this.state=at.syncDiff(this.state,l,n,o)}),this.pendingDiffs=[],a()}),this.channel._on(r.diff,{},s=>{const{onJoin:n,onLeave:o,onSync:a}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(s):(this.state=at.syncDiff(this.state,s,n,o),a())}),this.onJoin((s,n,o)=>{this.channel._trigger("presence",{event:"join",key:s,currentPresences:n,newPresences:o})}),this.onLeave((s,n,o)=>{this.channel._trigger("presence",{event:"leave",key:s,currentPresences:n,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,t,r,s){const n=this.cloneDeep(e),o=this.transformState(t),a={},l={};return this.map(n,(c,u)=>{o[c]||(l[c]=u)}),this.map(o,(c,u)=>{const d=n[c];if(d){const h=u.map(y=>y.presence_ref),f=d.map(y=>y.presence_ref),g=u.filter(y=>f.indexOf(y.presence_ref)<0),v=d.filter(y=>h.indexOf(y.presence_ref)<0);g.length>0&&(a[c]=g),v.length>0&&(l[c]=v)}else a[c]=u}),this.syncDiff(n,{joins:a,leaves:l},r,s)}static syncDiff(e,t,r,s){const{joins:n,leaves:o}={joins:this.transformState(t.joins),leaves:this.transformState(t.leaves)};return r||(r=()=>{}),s||(s=()=>{}),this.map(n,(a,l)=>{var c;const u=(c=e[a])!==null&&c!==void 0?c:[];if(e[a]=this.cloneDeep(l),u.length>0){const d=e[a].map(f=>f.presence_ref),h=u.filter(f=>d.indexOf(f.presence_ref)<0);e[a].unshift(...h)}r(a,u,l)}),this.map(o,(a,l)=>{let c=e[a];if(!c)return;const u=l.map(d=>d.presence_ref);c=c.filter(d=>u.indexOf(d.presence_ref)<0),e[a]=c,s(a,c,l),c.length===0&&delete e[a]}),e}static map(e,t){return Object.getOwnPropertyNames(e).map(r=>t(r,e[r]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((t,r)=>{const s=e[r];return"metas"in s?t[r]=s.metas.map(n=>(n.presence_ref=n.phx_ref,delete n.phx_ref,delete n.phx_ref_prev,n)):t[r]=s,t},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var re;(function(i){i.abstime="abstime",i.bool="bool",i.date="date",i.daterange="daterange",i.float4="float4",i.float8="float8",i.int2="int2",i.int4="int4",i.int4range="int4range",i.int8="int8",i.int8range="int8range",i.json="json",i.jsonb="jsonb",i.money="money",i.numeric="numeric",i.oid="oid",i.reltime="reltime",i.text="text",i.time="time",i.timestamp="timestamp",i.timestamptz="timestamptz",i.timetz="timetz",i.tsrange="tsrange",i.tstzrange="tstzrange"})(re||(re={}));const kr=(i,e,t={})=>{var r;const s=(r=t.skipTypes)!==null&&r!==void 0?r:[];return Object.keys(e).reduce((n,o)=>(n[o]=rn(o,i,e,s),n),{})},rn=(i,e,t,r)=>{const s=e.find(a=>a.name===i),n=s==null?void 0:s.type,o=t[i];return n&&!r.includes(n)?js(n,o):Bt(o)},js=(i,e)=>{if(i.charAt(0)==="_"){const t=i.slice(1,i.length);return an(e,t)}switch(i){case re.bool:return sn(e);case re.float4:case re.float8:case re.int2:case re.int4:case re.int8:case re.numeric:case re.oid:return nn(e);case re.json:case re.jsonb:return on(e);case re.timestamp:return ln(e);case re.abstime:case re.date:case re.daterange:case re.int4range:case re.int8range:case re.money:case re.reltime:case re.text:case re.time:case re.timestamptz:case re.timetz:case re.tsrange:case re.tstzrange:return Bt(e);default:return Bt(e)}},Bt=i=>i,sn=i=>{switch(i){case"t":return!0;case"f":return!1;default:return i}},nn=i=>{if(typeof i=="string"){const e=parseFloat(i);if(!Number.isNaN(e))return e}return i},on=i=>{if(typeof i=="string")try{return JSON.parse(i)}catch(e){return console.log(`JSON parse error: ${e}`),i}return i},an=(i,e)=>{if(typeof i!="string")return i;const t=i.length-1,r=i[t];if(i[0]==="{"&&r==="}"){let n;const o=i.slice(1,t);try{n=JSON.parse("["+o+"]")}catch{n=o?o.split(","):[]}return n.map(a=>js(e,a))}return i},ln=i=>typeof i=="string"?i.replace(" ","T"):i;var Sr;(function(i){i.ALL="*",i.INSERT="INSERT",i.UPDATE="UPDATE",i.DELETE="DELETE"})(Sr||(Sr={}));var Er;(function(i){i.BROADCAST="broadcast",i.PRESENCE="presence",i.POSTGRES_CHANGES="postgres_changes"})(Er||(Er={}));var Tr;(function(i){i.SUBSCRIBED="SUBSCRIBED",i.TIMED_OUT="TIMED_OUT",i.CLOSED="CLOSED",i.CHANNEL_ERROR="CHANNEL_ERROR"})(Tr||(Tr={}));class er{constructor(e,t={config:{}},r){this.topic=e,this.params=t,this.socket=r,this.bindings={},this.state=ye.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""}},t.config),this.timeout=this.socket.timeout,this.joinPush=new Lt(this,Ie.join,this.params,this.timeout),this.rejoinTimer=new Is(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=ye.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(s=>s.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=ye.closed,this.socket._remove(this)}),this._onError(s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=ye.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=ye.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Ie.reply,{},(s,n)=>{this._trigger(this._replyEventName(n),s)}),this.presence=new at(this),this.broadcastEndpointURL=this._broadcastEndpointURL()}subscribe(e,t=this.timeout){var r,s;if(this.socket.isConnected()||this.socket.connect(),this.joinedOnce)throw"tried to subscribe multiple times. 'subscribe' can only be called a single time per channel instance";{const{config:{broadcast:n,presence:o}}=this.params;this._onError(c=>e&&e("CHANNEL_ERROR",c)),this._onClose(()=>e&&e("CLOSED"));const a={},l={broadcast:n,presence:o,postgres_changes:(s=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(c=>c.filter))!==null&&s!==void 0?s:[]};this.socket.accessToken&&(a.access_token=this.socket.accessToken),this.updateJoinPayload(Object.assign({config:l},a)),this.joinedOnce=!0,this._rejoin(t),this.joinPush.receive("ok",({postgres_changes:c})=>{var u;if(this.socket.accessToken&&this.socket.setAuth(this.socket.accessToken),c===void 0){e&&e("SUBSCRIBED");return}else{const d=this.bindings.postgres_changes,h=(u=d==null?void 0:d.length)!==null&&u!==void 0?u:0,f=[];for(let g=0;g<h;g++){const v=d[g],{filter:{event:y,schema:O,table:E,filter:S}}=v,T=c&&c[g];if(T&&T.event===y&&T.schema===O&&T.table===E&&T.filter===S)f.push(Object.assign(Object.assign({},v),{id:T.id}));else{this.unsubscribe(),e&&e("CHANNEL_ERROR",new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=f,e&&e("SUBSCRIBED");return}}).receive("error",c=>{e&&e("CHANNEL_ERROR",new Error(JSON.stringify(Object.values(c).join(", ")||"error")))}).receive("timeout",()=>{e&&e("TIMED_OUT")})}return this}presenceState(){return this.presence.state}async track(e,t={}){return await this.send({type:"presence",event:"track",payload:e},t.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,t,r){return this._on(e,t,r)}async send(e,t={}){var r,s;if(!this._canPush()&&e.type==="broadcast"){const{event:n,payload:o}=e,a={method:"POST",headers:{apikey:(r=this.socket.apiKey)!==null&&r!==void 0?r:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:n,payload:o}]})};try{return(await this._fetchWithTimeout(this.broadcastEndpointURL,a,(s=t.timeout)!==null&&s!==void 0?s:this.timeout)).ok?"ok":"error"}catch(l){return l.name==="AbortError"?"timed out":"error"}}else return new Promise(n=>{var o,a,l;const c=this._push(e.type,e,t.timeout||this.timeout);e.type==="broadcast"&&!(!((l=(a=(o=this.params)===null||o===void 0?void 0:o.config)===null||a===void 0?void 0:a.broadcast)===null||l===void 0)&&l.ack)&&n("ok"),c.receive("ok",()=>n("ok")),c.receive("timeout",()=>n("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=ye.leaving;const t=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Ie.close,"leave",this._joinRef())};return this.rejoinTimer.reset(),this.joinPush.destroy(),new Promise(r=>{const s=new Lt(this,Ie.leave,{},e);s.receive("ok",()=>{t(),r("ok")}).receive("timeout",()=>{t(),r("timed out")}).receive("error",()=>{r("error")}),s.send(),this._canPush()||s.trigger("ok",{})})}_broadcastEndpointURL(){let e=this.socket.endPoint;return e=e.replace(/^ws/i,"http"),e=e.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),e.replace(/\/+$/,"")+"/api/broadcast"}async _fetchWithTimeout(e,t,r){const s=new AbortController,n=setTimeout(()=>s.abort(),r),o=await this.socket.fetch(e,Object.assign(Object.assign({},t),{signal:s.signal}));return clearTimeout(n),o}_push(e,t,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let s=new Lt(this,e,t,r);return this._canPush()?s.send():(s.startTimeout(),this.pushBuffer.push(s)),s}_onMessage(e,t,r){return t}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,t,r){var s,n;const o=e.toLocaleLowerCase(),{close:a,error:l,leave:c,join:u}=Ie;if(r&&[a,l,c,u].indexOf(o)>=0&&r!==this._joinRef())return;let h=this._onMessage(o,t,r);if(t&&!h)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(s=this.bindings.postgres_changes)===null||s===void 0||s.filter(f=>{var g,v,y;return((g=f.filter)===null||g===void 0?void 0:g.event)==="*"||((y=(v=f.filter)===null||v===void 0?void 0:v.event)===null||y===void 0?void 0:y.toLocaleLowerCase())===o}).map(f=>f.callback(h,r)):(n=this.bindings[o])===null||n===void 0||n.filter(f=>{var g,v,y,O,E,S;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in f){const T=f.id,b=(g=f.filter)===null||g===void 0?void 0:g.event;return T&&((v=t.ids)===null||v===void 0?void 0:v.includes(T))&&(b==="*"||(b==null?void 0:b.toLocaleLowerCase())===((y=t.data)===null||y===void 0?void 0:y.type.toLocaleLowerCase()))}else{const T=(E=(O=f==null?void 0:f.filter)===null||O===void 0?void 0:O.event)===null||E===void 0?void 0:E.toLocaleLowerCase();return T==="*"||T===((S=t==null?void 0:t.event)===null||S===void 0?void 0:S.toLocaleLowerCase())}else return f.type.toLocaleLowerCase()===o}).map(f=>{if(typeof h=="object"&&"ids"in h){const g=h.data,{schema:v,table:y,commit_timestamp:O,type:E,errors:S}=g;h=Object.assign(Object.assign({},{schema:v,table:y,commit_timestamp:O,eventType:E,new:{},old:{},errors:S}),this._getPayloadRecords(g))}f.callback(h,r)})}_isClosed(){return this.state===ye.closed}_isJoined(){return this.state===ye.joined}_isJoining(){return this.state===ye.joining}_isLeaving(){return this.state===ye.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,t,r){const s=e.toLocaleLowerCase(),n={type:s,filter:t,callback:r};return this.bindings[s]?this.bindings[s].push(n):this.bindings[s]=[n],this}_off(e,t){const r=e.toLocaleLowerCase();return this.bindings[r]=this.bindings[r].filter(s=>{var n;return!(((n=s.type)===null||n===void 0?void 0:n.toLocaleLowerCase())===r&&er.isEqual(s.filter,t))}),this}static isEqual(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const r in e)if(e[r]!==t[r])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(Ie.close,{},e)}_onError(e){this._on(Ie.error,{},t=>e(t))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=ye.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const t={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(t.new=kr(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(t.old=kr(e.columns,e.old_record)),t}}const cn=()=>{},un=typeof WebSocket<"u";class hn{constructor(e,t){var r;this.accessToken=null,this.apiKey=null,this.channels=[],this.endPoint="",this.headers=Qi,this.params={},this.timeout=As,this.heartbeatIntervalMs=3e4,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.ref=0,this.logger=cn,this.conn=null,this.sendBuffer=[],this.serializer=new tn,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this._resolveFetch=n=>{let o;return n?o=n:typeof fetch>"u"?o=(...a)=>Ze(()=>Promise.resolve().then(()=>gt),void 0,import.meta.url).then(({default:l})=>l(...a)):o=fetch,(...a)=>o(...a)},this.endPoint=`${e}/${zt.websocket}`,t!=null&&t.transport?this.transport=t.transport:this.transport=null,t!=null&&t.params&&(this.params=t.params),t!=null&&t.headers&&(this.headers=Object.assign(Object.assign({},this.headers),t.headers)),t!=null&&t.timeout&&(this.timeout=t.timeout),t!=null&&t.logger&&(this.logger=t.logger),t!=null&&t.heartbeatIntervalMs&&(this.heartbeatIntervalMs=t.heartbeatIntervalMs);const s=(r=t==null?void 0:t.params)===null||r===void 0?void 0:r.apikey;s&&(this.accessToken=s,this.apiKey=s),this.reconnectAfterMs=t!=null&&t.reconnectAfterMs?t.reconnectAfterMs:n=>[1e3,2e3,5e3,1e4][n-1]||1e4,this.encode=t!=null&&t.encode?t.encode:(n,o)=>o(JSON.stringify(n)),this.decode=t!=null&&t.decode?t.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new Is(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(t==null?void 0:t.fetch)}connect(){if(!this.conn){if(this.transport){this.conn=new this.transport(this._endPointURL(),void 0,{headers:this.headers});return}if(un){this.conn=new WebSocket(this._endPointURL()),this.setupConnection();return}this.conn=new dn(this._endPointURL(),void 0,{close:()=>{this.conn=null}}),Ze(()=>import("../chunks/browser.CezFTwf3.js").then(e=>e.b),__vite__mapDeps([0,1,2,3,4]),import.meta.url).then(({default:e})=>{this.conn=new e(this._endPointURL(),void 0,{headers:this.headers}),this.setupConnection()})}}disconnect(e,t){this.conn&&(this.conn.onclose=function(){},e?this.conn.close(e,t??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset())}getChannels(){return this.channels}async removeChannel(e){const t=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),t}async removeAllChannels(){const e=await Promise.all(this.channels.map(t=>t.unsubscribe()));return this.disconnect(),e}log(e,t,r){this.logger(e,t,r)}connectionState(){switch(this.conn&&this.conn.readyState){case We.connecting:return $e.Connecting;case We.open:return $e.Open;case We.closing:return $e.Closing;default:return $e.Closed}}isConnected(){return this.connectionState()===$e.Open}channel(e,t={config:{}}){const r=new er(`realtime:${e}`,t,this);return this.channels.push(r),r}push(e){const{topic:t,event:r,payload:s,ref:n}=e,o=()=>{this.encode(e,a=>{var l;(l=this.conn)===null||l===void 0||l.send(a)})};this.log("push",`${t} ${r} (${n})`,s),this.isConnected()?o():this.sendBuffer.push(o)}setAuth(e){this.accessToken=e,this.channels.forEach(t=>{e&&t.updateJoinPayload({access_token:e}),t.joinedOnce&&t._isJoined()&&t._push(Ie.access_token,{access_token:e})})}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let t=this.channels.find(r=>r.topic===e&&(r._isJoined()||r._isJoining()));t&&(this.log("transport",`leaving duplicate topic "${e}"`),t.unsubscribe())}_remove(e){this.channels=this.channels.filter(t=>t._joinRef()!==e._joinRef())}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_endPointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:Zi}))}_onConnMessage(e){this.decode(e.data,t=>{let{topic:r,event:s,payload:n,ref:o}=t;(o&&o===this.pendingHeartbeatRef||s===(n==null?void 0:n.type))&&(this.pendingHeartbeatRef=null),this.log("receive",`${n.status||""} ${r} ${s} ${o&&"("+o+")"||""}`,n),this.channels.filter(a=>a._isMember(r)).forEach(a=>a._trigger(s,n,o)),this.stateChangeCallbacks.message.forEach(a=>a(t))})}_onConnOpen(){this.log("transport",`connected to ${this._endPointURL()}`),this._flushSendBuffer(),this.reconnectTimer.reset(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this._sendHeartbeat(),this.heartbeatIntervalMs),this.stateChangeCallbacks.open.forEach(e=>e())}_onConnClose(e){this.log("transport","close",e),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(t=>t(e))}_onConnError(e){this.log("transport",e.message),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(t=>t(e))}_triggerChanError(){this.channels.forEach(e=>e._trigger(Ie.error))}_appendParams(e,t){if(Object.keys(t).length===0)return e;const r=e.match(/\?/)?"&":"?",s=new URLSearchParams(t);return`${e}${r}${s}`}_flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_sendHeartbeat(){var e;if(this.isConnected()){if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),(e=this.conn)===null||e===void 0||e.close(en,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.setAuth(this.accessToken)}}}class dn{constructor(e,t,r){this.binaryType="arraybuffer",this.onclose=()=>{},this.onerror=()=>{},this.onmessage=()=>{},this.onopen=()=>{},this.readyState=We.connecting,this.send=()=>{},this.url=null,this.url=e,this.close=r.close}}class tr extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function ve(i){return typeof i=="object"&&i!==null&&"__isStorageError"in i}class fn extends tr{constructor(e,t){super(e),this.name="StorageApiError",this.status=t}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class Or extends tr{constructor(e,t){super(e),this.name="StorageUnknownError",this.originalError=t}}var _n=function(i,e,t,r){function s(n){return n instanceof t?n:new t(function(o){o(n)})}return new(t||(t=Promise))(function(n,o){function a(u){try{c(r.next(u))}catch(d){o(d)}}function l(u){try{c(r.throw(u))}catch(d){o(d)}}function c(u){u.done?n(u.value):s(u.value).then(a,l)}c((r=r.apply(i,e||[])).next())})};const Rs=i=>{let e;return i?e=i:typeof fetch>"u"?e=(...t)=>Ze(()=>Promise.resolve().then(()=>gt),void 0,import.meta.url).then(({default:r})=>r(...t)):e=fetch,(...t)=>e(...t)},mn=()=>_n(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield Ze(()=>Promise.resolve().then(()=>gt),void 0,import.meta.url)).Response:Response});var tt=function(i,e,t,r){function s(n){return n instanceof t?n:new t(function(o){o(n)})}return new(t||(t=Promise))(function(n,o){function a(u){try{c(r.next(u))}catch(d){o(d)}}function l(u){try{c(r.throw(u))}catch(d){o(d)}}function c(u){u.done?n(u.value):s(u.value).then(a,l)}c((r=r.apply(i,e||[])).next())})};const Nt=i=>i.msg||i.message||i.error_description||i.error||JSON.stringify(i),gn=(i,e)=>tt(void 0,void 0,void 0,function*(){const t=yield mn();i instanceof t?i.json().then(r=>{e(new fn(Nt(r),i.status||500))}).catch(r=>{e(new Or(Nt(r),r))}):e(new Or(Nt(i),i))}),pn=(i,e,t,r)=>{const s={method:i,headers:(e==null?void 0:e.headers)||{}};return i==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),s.body=JSON.stringify(r),Object.assign(Object.assign({},s),t))};function Rt(i,e,t,r,s,n){return tt(this,void 0,void 0,function*(){return new Promise((o,a)=>{i(t,pn(e,r,s,n)).then(l=>{if(!l.ok)throw l;return r!=null&&r.noResolveJson?l:l.json()}).then(l=>o(l)).catch(l=>gn(l,a))})})}function qt(i,e,t,r){return tt(this,void 0,void 0,function*(){return Rt(i,"GET",e,t,r)})}function Re(i,e,t,r,s){return tt(this,void 0,void 0,function*(){return Rt(i,"POST",e,r,s,t)})}function vn(i,e,t,r,s){return tt(this,void 0,void 0,function*(){return Rt(i,"PUT",e,r,s,t)})}function Ps(i,e,t,r,s){return tt(this,void 0,void 0,function*(){return Rt(i,"DELETE",e,r,s,t)})}var Oe=function(i,e,t,r){function s(n){return n instanceof t?n:new t(function(o){o(n)})}return new(t||(t=Promise))(function(n,o){function a(u){try{c(r.next(u))}catch(d){o(d)}}function l(u){try{c(r.throw(u))}catch(d){o(d)}}function c(u){u.done?n(u.value):s(u.value).then(a,l)}c((r=r.apply(i,e||[])).next())})};const bn={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Ar={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class yn{constructor(e,t={},r,s){this.url=e,this.headers=t,this.bucketId=r,this.fetch=Rs(s)}uploadOrUpdate(e,t,r,s){return Oe(this,void 0,void 0,function*(){try{let n;const o=Object.assign(Object.assign({},Ar),s),a=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(o.upsert)});typeof Blob<"u"&&r instanceof Blob?(n=new FormData,n.append("cacheControl",o.cacheControl),n.append("",r)):typeof FormData<"u"&&r instanceof FormData?(n=r,n.append("cacheControl",o.cacheControl)):(n=r,a["cache-control"]=`max-age=${o.cacheControl}`,a["content-type"]=o.contentType);const l=this._removeEmptyFolders(t),c=this._getFinalPath(l),u=yield this.fetch(`${this.url}/object/${c}`,Object.assign({method:e,body:n,headers:a},o!=null&&o.duplex?{duplex:o.duplex}:{})),d=yield u.json();return u.ok?{data:{path:l,id:d.Id,fullPath:d.Key},error:null}:{data:null,error:d}}catch(n){if(ve(n))return{data:null,error:n};throw n}})}upload(e,t,r){return Oe(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,t,r)})}uploadToSignedUrl(e,t,r,s){return Oe(this,void 0,void 0,function*(){const n=this._removeEmptyFolders(e),o=this._getFinalPath(n),a=new URL(this.url+`/object/upload/sign/${o}`);a.searchParams.set("token",t);try{let l;const c=Object.assign({upsert:Ar.upsert},s),u=Object.assign(Object.assign({},this.headers),{"x-upsert":String(c.upsert)});typeof Blob<"u"&&r instanceof Blob?(l=new FormData,l.append("cacheControl",c.cacheControl),l.append("",r)):typeof FormData<"u"&&r instanceof FormData?(l=r,l.append("cacheControl",c.cacheControl)):(l=r,u["cache-control"]=`max-age=${c.cacheControl}`,u["content-type"]=c.contentType);const d=yield this.fetch(a.toString(),{method:"PUT",body:l,headers:u}),h=yield d.json();return d.ok?{data:{path:n,fullPath:h.Key},error:null}:{data:null,error:h}}catch(l){if(ve(l))return{data:null,error:l};throw l}})}createSignedUploadUrl(e){return Oe(this,void 0,void 0,function*(){try{let t=this._getFinalPath(e);const r=yield Re(this.fetch,`${this.url}/object/upload/sign/${t}`,{},{headers:this.headers}),s=new URL(this.url+r.url),n=s.searchParams.get("token");if(!n)throw new tr("No token returned by API");return{data:{signedUrl:s.toString(),path:e,token:n},error:null}}catch(t){if(ve(t))return{data:null,error:t};throw t}})}update(e,t,r){return Oe(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,t,r)})}move(e,t){return Oe(this,void 0,void 0,function*(){try{return{data:yield Re(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:t},{headers:this.headers}),error:null}}catch(r){if(ve(r))return{data:null,error:r};throw r}})}copy(e,t){return Oe(this,void 0,void 0,function*(){try{return{data:{path:(yield Re(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:t},{headers:this.headers})).Key},error:null}}catch(r){if(ve(r))return{data:null,error:r};throw r}})}createSignedUrl(e,t,r){return Oe(this,void 0,void 0,function*(){try{let s=this._getFinalPath(e),n=yield Re(this.fetch,`${this.url}/object/sign/${s}`,Object.assign({expiresIn:t},r!=null&&r.transform?{transform:r.transform}:{}),{headers:this.headers});const o=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return n={signedUrl:encodeURI(`${this.url}${n.signedURL}${o}`)},{data:n,error:null}}catch(s){if(ve(s))return{data:null,error:s};throw s}})}createSignedUrls(e,t,r){return Oe(this,void 0,void 0,function*(){try{const s=yield Re(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:t,paths:e},{headers:this.headers}),n=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return{data:s.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${n}`):null})),error:null}}catch(s){if(ve(s))return{data:null,error:s};throw s}})}download(e,t){return Oe(this,void 0,void 0,function*(){const s=typeof(t==null?void 0:t.transform)<"u"?"render/image/authenticated":"object",n=this.transformOptsToQueryString((t==null?void 0:t.transform)||{}),o=n?`?${n}`:"";try{const a=this._getFinalPath(e);return{data:yield(yield qt(this.fetch,`${this.url}/${s}/${a}${o}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(a){if(ve(a))return{data:null,error:a};throw a}})}getPublicUrl(e,t){const r=this._getFinalPath(e),s=[],n=t!=null&&t.download?`download=${t.download===!0?"":t.download}`:"";n!==""&&s.push(n);const a=typeof(t==null?void 0:t.transform)<"u"?"render/image":"object",l=this.transformOptsToQueryString((t==null?void 0:t.transform)||{});l!==""&&s.push(l);let c=s.join("&");return c!==""&&(c=`?${c}`),{data:{publicUrl:encodeURI(`${this.url}/${a}/public/${r}${c}`)}}}remove(e){return Oe(this,void 0,void 0,function*(){try{return{data:yield Ps(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(t){if(ve(t))return{data:null,error:t};throw t}})}list(e,t,r){return Oe(this,void 0,void 0,function*(){try{const s=Object.assign(Object.assign(Object.assign({},bn),t),{prefix:e||""});return{data:yield Re(this.fetch,`${this.url}/object/list/${this.bucketId}`,s,{headers:this.headers},r),error:null}}catch(s){if(ve(s))return{data:null,error:s};throw s}})}_getFinalPath(e){return`${this.bucketId}/${e}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const t=[];return e.width&&t.push(`width=${e.width}`),e.height&&t.push(`height=${e.height}`),e.resize&&t.push(`resize=${e.resize}`),e.format&&t.push(`format=${e.format}`),e.quality&&t.push(`quality=${e.quality}`),t.join("&")}}const wn="2.5.5",kn={"X-Client-Info":`storage-js/${wn}`};var Be=function(i,e,t,r){function s(n){return n instanceof t?n:new t(function(o){o(n)})}return new(t||(t=Promise))(function(n,o){function a(u){try{c(r.next(u))}catch(d){o(d)}}function l(u){try{c(r.throw(u))}catch(d){o(d)}}function c(u){u.done?n(u.value):s(u.value).then(a,l)}c((r=r.apply(i,e||[])).next())})};class Sn{constructor(e,t={},r){this.url=e,this.headers=Object.assign(Object.assign({},kn),t),this.fetch=Rs(r)}listBuckets(){return Be(this,void 0,void 0,function*(){try{return{data:yield qt(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(e){if(ve(e))return{data:null,error:e};throw e}})}getBucket(e){return Be(this,void 0,void 0,function*(){try{return{data:yield qt(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(t){if(ve(t))return{data:null,error:t};throw t}})}createBucket(e,t={public:!1}){return Be(this,void 0,void 0,function*(){try{return{data:yield Re(this.fetch,`${this.url}/bucket`,{id:e,name:e,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(ve(r))return{data:null,error:r};throw r}})}updateBucket(e,t){return Be(this,void 0,void 0,function*(){try{return{data:yield vn(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(ve(r))return{data:null,error:r};throw r}})}emptyBucket(e){return Be(this,void 0,void 0,function*(){try{return{data:yield Re(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(t){if(ve(t))return{data:null,error:t};throw t}})}deleteBucket(e){return Be(this,void 0,void 0,function*(){try{return{data:yield Ps(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(t){if(ve(t))return{data:null,error:t};throw t}})}}class En extends Sn{constructor(e,t={},r){super(e,t,r)}from(e){return new yn(this.url,this.headers,e,this.fetch)}}const Tn="2.39.8";let ot="";typeof Deno<"u"?ot="deno":typeof document<"u"?ot="web":typeof navigator<"u"&&navigator.product==="ReactNative"?ot="react-native":ot="node";const On={"X-Client-Info":`supabase-js-${ot}/${Tn}`},An={headers:On},In={schema:"public"},jn={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},Rn={};var Pn=function(i,e,t,r){function s(n){return n instanceof t?n:new t(function(o){o(n)})}return new(t||(t=Promise))(function(n,o){function a(u){try{c(r.next(u))}catch(d){o(d)}}function l(u){try{c(r.throw(u))}catch(d){o(d)}}function c(u){u.done?n(u.value):s(u.value).then(a,l)}c((r=r.apply(i,e||[])).next())})};const Cn=i=>{let e;return i?e=i:typeof fetch>"u"?e=Qt:e=fetch,(...t)=>e(...t)},Ln=()=>typeof Headers>"u"?Os:Headers,Nn=(i,e,t)=>{const r=Cn(t),s=Ln();return(n,o)=>Pn(void 0,void 0,void 0,function*(){var a;const l=(a=yield e())!==null&&a!==void 0?a:i;let c=new s(o==null?void 0:o.headers);return c.has("apikey")||c.set("apikey",i),c.has("Authorization")||c.set("Authorization",`Bearer ${l}`),r(n,Object.assign(Object.assign({},o),{headers:c}))})};function Dn(i){return i.replace(/\/$/,"")}function Un(i,e){const{db:t,auth:r,realtime:s,global:n}=i,{db:o,auth:a,realtime:l,global:c}=e;return{db:Object.assign(Object.assign({},o),t),auth:Object.assign(Object.assign({},a),r),realtime:Object.assign(Object.assign({},l),s),global:Object.assign(Object.assign({},c),n)}}function $n(i){return Math.round(Date.now()/1e3)+i}function Fn(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(i){const e=Math.random()*16|0;return(i=="x"?e:e&3|8).toString(16)})}const Ae=()=>typeof document<"u",Le={tested:!1,writable:!1},lt=()=>{if(!Ae())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Le.tested)return Le.writable;const i=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(i,i),globalThis.localStorage.removeItem(i),Le.tested=!0,Le.writable=!0}catch{Le.tested=!0,Le.writable=!1}return Le.writable};function Dt(i){const e={},t=new URL(i);if(t.hash&&t.hash[0]==="#")try{new URLSearchParams(t.hash.substring(1)).forEach((s,n)=>{e[n]=s})}catch{}return t.searchParams.forEach((r,s)=>{e[s]=r}),e}const Cs=i=>{let e;return i?e=i:typeof fetch>"u"?e=(...t)=>Ze(()=>Promise.resolve().then(()=>gt),void 0,import.meta.url).then(({default:r})=>r(...t)):e=fetch,(...t)=>e(...t)},Mn=i=>typeof i=="object"&&i!==null&&"status"in i&&"ok"in i&&"json"in i&&typeof i.json=="function",Ne=async(i,e,t)=>{await i.setItem(e,JSON.stringify(t))},yt=async(i,e)=>{const t=await i.getItem(e);if(!t)return null;try{return JSON.parse(t)}catch{return t}},Ut=async(i,e)=>{await i.removeItem(e)};function zn(i){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";let t="",r,s,n,o,a,l,c,u=0;for(i=i.replace("-","+").replace("_","/");u<i.length;)o=e.indexOf(i.charAt(u++)),a=e.indexOf(i.charAt(u++)),l=e.indexOf(i.charAt(u++)),c=e.indexOf(i.charAt(u++)),r=o<<2|a>>4,s=(a&15)<<4|l>>2,n=(l&3)<<6|c,t=t+String.fromCharCode(r),l!=64&&s!=0&&(t=t+String.fromCharCode(s)),c!=64&&n!=0&&(t=t+String.fromCharCode(n));return t}class Pt{constructor(){this.promise=new Pt.promiseConstructor((e,t)=>{this.resolve=e,this.reject=t})}}Pt.promiseConstructor=Promise;function Ir(i){const e=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}=?$|[a-z0-9_-]{2}(==)?$)$/i,t=i.split(".");if(t.length!==3)throw new Error("JWT is not valid: not a JWT structure");if(!e.test(t[1]))throw new Error("JWT is not valid: payload is not in base64url format");const r=t[1];return JSON.parse(zn(r))}async function Bn(i){return await new Promise(e=>{setTimeout(()=>e(null),i)})}function qn(i,e){return new Promise((r,s)=>{(async()=>{for(let n=0;n<1/0;n++)try{const o=await i(n);if(!e(n,null,o)){r(o);return}}catch(o){if(!e(n,o)){s(o);return}}})()})}function Vn(i){return("0"+i.toString(16)).substr(-2)}function qe(){const e=new Uint32Array(56);if(typeof crypto>"u"){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=t.length;let s="";for(let n=0;n<56;n++)s+=t.charAt(Math.floor(Math.random()*r));return s}return crypto.getRandomValues(e),Array.from(e,Vn).join("")}async function Hn(i){const t=new TextEncoder().encode(i),r=await crypto.subtle.digest("SHA-256",t),s=new Uint8Array(r);return Array.from(s).map(n=>String.fromCharCode(n)).join("")}function Gn(i){return btoa(i).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Ve(i){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),i;const t=await Hn(i);return Gn(t)}class rr extends Error{constructor(e,t){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=t}}function J(i){return typeof i=="object"&&i!==null&&"__isAuthError"in i}class Jn extends rr{constructor(e,t){super(e,t),this.name="AuthApiError",this.status=t}toJSON(){return{name:this.name,message:this.message,status:this.status}}}function Kn(i){return J(i)&&i.name==="AuthApiError"}class Ls extends rr{constructor(e,t){super(e),this.name="AuthUnknownError",this.originalError=t}}class ze extends rr{constructor(e,t,r){super(e),this.name=t,this.status=r}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class He extends ze{constructor(){super("Auth session missing!","AuthSessionMissingError",400)}}class $t extends ze{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500)}}class wt extends ze{constructor(e){super(e,"AuthInvalidCredentialsError",400)}}class kt extends ze{constructor(e,t=null){super(e,"AuthImplicitGrantRedirectError",500),this.details=null,this.details=t}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class jr extends ze{constructor(e,t=null){super(e,"AuthPKCEGrantCodeExchangeError",500),this.details=null,this.details=t}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Vt extends ze{constructor(e,t){super(e,"AuthRetryableFetchError",t)}}function Ft(i){return J(i)&&i.name==="AuthRetryableFetchError"}class Wn extends ze{constructor(e,t,r){super(e,"AuthWeakPasswordError",t),this.reasons=r}}var Yn=function(i,e){var t={};for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&e.indexOf(r)<0&&(t[r]=i[r]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(i);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(i,r[s])&&(t[r[s]]=i[r[s]]);return t};const Ke=i=>i.msg||i.message||i.error_description||i.error||JSON.stringify(i),Xn=[502,503,504];async function Rr(i){if(!Mn(i))throw new Vt(Ke(i),0);if(Xn.includes(i.status))throw new Vt(Ke(i),i.status);let e;try{e=await i.json()}catch(t){throw new Ls(Ke(t),t)}throw typeof e=="object"&&e&&typeof e.weak_password=="object"&&e.weak_password&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.reasons.reduce((t,r)=>t&&typeof r=="string",!0)?new Wn(Ke(e),i.status,e.weak_password.reasons):new Jn(Ke(e),i.status||500)}const xn=(i,e,t,r)=>{const s={method:i,headers:(e==null?void 0:e.headers)||{}};return i==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),s.body=JSON.stringify(r),Object.assign(Object.assign({},s),t))};async function W(i,e,t,r){var s;const n=Object.assign({},r==null?void 0:r.headers);r!=null&&r.jwt&&(n.Authorization=`Bearer ${r.jwt}`);const o=(s=r==null?void 0:r.query)!==null&&s!==void 0?s:{};r!=null&&r.redirectTo&&(o.redirect_to=r.redirectTo);const a=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",l=await Qn(i,e,t+a,{headers:n,noResolveJson:r==null?void 0:r.noResolveJson},{},r==null?void 0:r.body);return r!=null&&r.xform?r==null?void 0:r.xform(l):{data:Object.assign({},l),error:null}}async function Qn(i,e,t,r,s,n){const o=xn(e,r,s,n);let a;try{a=await i(t,o)}catch(l){throw console.error(l),new Vt(Ke(l),0)}if(a.ok||await Rr(a),r!=null&&r.noResolveJson)return a;try{return await a.json()}catch(l){await Rr(l)}}function De(i){var e;let t=null;ro(i)&&(t=Object.assign({},i),i.expires_at||(t.expires_at=$n(i.expires_in)));const r=(e=i.user)!==null&&e!==void 0?e:i;return{data:{session:t,user:r},error:null}}function Pr(i){const e=De(i);return!e.error&&i.weak_password&&typeof i.weak_password=="object"&&Array.isArray(i.weak_password.reasons)&&i.weak_password.reasons.length&&i.weak_password.message&&typeof i.weak_password.message=="string"&&i.weak_password.reasons.reduce((t,r)=>t&&typeof r=="string",!0)&&(e.data.weak_password=i.weak_password),e}function Pe(i){var e;return{data:{user:(e=i.user)!==null&&e!==void 0?e:i},error:null}}function Zn(i){return{data:i,error:null}}function eo(i){const{action_link:e,email_otp:t,hashed_token:r,redirect_to:s,verification_type:n}=i,o=Yn(i,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),a={action_link:e,email_otp:t,hashed_token:r,redirect_to:s,verification_type:n},l=Object.assign({},o);return{data:{properties:a,user:l},error:null}}function to(i){return i}function ro(i){return i.access_token&&i.refresh_token&&i.expires_in}var so=function(i,e){var t={};for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&e.indexOf(r)<0&&(t[r]=i[r]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(i);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(i,r[s])&&(t[r[s]]=i[r[s]]);return t};class io{constructor({url:e="",headers:t={},fetch:r}){this.url=e,this.headers=t,this.fetch=Cs(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(e,t="global"){try{return await W(this.fetch,"POST",`${this.url}/logout?scope=${t}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(r){if(J(r))return{data:null,error:r};throw r}}async inviteUserByEmail(e,t={}){try{return await W(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:t.data},headers:this.headers,redirectTo:t.redirectTo,xform:Pe})}catch(r){if(J(r))return{data:{user:null},error:r};throw r}}async generateLink(e){try{const{options:t}=e,r=so(e,["options"]),s=Object.assign(Object.assign({},r),t);return"newEmail"in r&&(s.new_email=r==null?void 0:r.newEmail,delete s.newEmail),await W(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:s,headers:this.headers,xform:eo,redirectTo:t==null?void 0:t.redirectTo})}catch(t){if(J(t))return{data:{properties:null,user:null},error:t};throw t}}async createUser(e){try{return await W(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:Pe})}catch(t){if(J(t))return{data:{user:null},error:t};throw t}}async listUsers(e){var t,r,s,n,o,a,l;try{const c={nextPage:null,lastPage:0,total:0},u=await W(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(t=e==null?void 0:e.page)===null||t===void 0?void 0:t.toString())!==null&&r!==void 0?r:"",per_page:(n=(s=e==null?void 0:e.perPage)===null||s===void 0?void 0:s.toString())!==null&&n!==void 0?n:""},xform:to});if(u.error)throw u.error;const d=await u.json(),h=(o=u.headers.get("x-total-count"))!==null&&o!==void 0?o:0,f=(l=(a=u.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&l!==void 0?l:[];return f.length>0&&(f.forEach(g=>{const v=parseInt(g.split(";")[0].split("=")[1].substring(0,1)),y=JSON.parse(g.split(";")[1].split("=")[1]);c[`${y}Page`]=v}),c.total=parseInt(h)),{data:Object.assign(Object.assign({},d),c),error:null}}catch(c){if(J(c))return{data:{users:[]},error:c};throw c}}async getUserById(e){try{return await W(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:Pe})}catch(t){if(J(t))return{data:{user:null},error:t};throw t}}async updateUserById(e,t){try{return await W(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:t,headers:this.headers,xform:Pe})}catch(r){if(J(r))return{data:{user:null},error:r};throw r}}async deleteUser(e,t=!1){try{return await W(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:t},xform:Pe})}catch(r){if(J(r))return{data:{user:null},error:r};throw r}}async _listFactors(e){try{const{data:t,error:r}=await W(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:s=>({data:{factors:s},error:null})});return{data:t,error:r}}catch(t){if(J(t))return{data:null,error:t};throw t}}async _deleteFactor(e){try{return{data:await W(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(t){if(J(t))return{data:null,error:t};throw t}}}const Ns="0.0.0",no="http://localhost:9999",oo="supabase.auth.token",ao={"X-Client-Info":`gotrue-js/${Ns}`},Cr=10,lo={getItem:i=>lt()?globalThis.localStorage.getItem(i):null,setItem:(i,e)=>{lt()&&globalThis.localStorage.setItem(i,e)},removeItem:i=>{lt()&&globalThis.localStorage.removeItem(i)}};function Lr(i={}){return{getItem:e=>i[e]||null,setItem:(e,t)=>{i[e]=t},removeItem:e=>{delete i[e]}}}function co(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const Ge={debug:!!(globalThis&&lt()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class Ds extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class uo extends Ds{}async function ho(i,e,t){Ge.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",i,e);const r=new globalThis.AbortController;return e>0&&setTimeout(()=>{r.abort(),Ge.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",i)},e),await globalThis.navigator.locks.request(i,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async s=>{if(s){Ge.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",i,s.name);try{return await t()}finally{Ge.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",i,s.name)}}else{if(e===0)throw Ge.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",i),new uo(`Acquiring an exclusive Navigator LockManager lock "${i}" immediately failed`);if(Ge.debug)try{const n=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(n,null,"  "))}catch(n){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",n)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await t()}})}co();const fo={url:no,storageKey:oo,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:ao,flowType:"implicit",debug:!1},it=30*1e3,Nr=3;async function Dr(i,e,t){return await t()}class ut{constructor(e){var t,r;this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=ut.nextInstanceID,ut.nextInstanceID+=1,this.instanceID>0&&Ae()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const s=Object.assign(Object.assign({},fo),e);if(this.logDebugMessages=!!s.debug,typeof s.debug=="function"&&(this.logger=s.debug),this.persistSession=s.persistSession,this.storageKey=s.storageKey,this.autoRefreshToken=s.autoRefreshToken,this.admin=new io({url:s.url,headers:s.headers,fetch:s.fetch}),this.url=s.url,this.headers=s.headers,this.fetch=Cs(s.fetch),this.lock=s.lock||Dr,this.detectSessionInUrl=s.detectSessionInUrl,this.flowType=s.flowType,s.lock?this.lock=s.lock:Ae()&&(!((t=globalThis==null?void 0:globalThis.navigator)===null||t===void 0)&&t.locks)?this.lock=ho:this.lock=Dr,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?s.storage?this.storage=s.storage:lt()?this.storage=lo:(this.memoryStorage={},this.storage=Lr(this.memoryStorage)):(this.memoryStorage={},this.storage=Lr(this.memoryStorage)),Ae()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(n){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",n)}(r=this.broadcastChannel)===null||r===void 0||r.addEventListener("message",async n=>{this._debug("received broadcast notification from other tab or client",n),await this._notifyAllSubscribers(n.data.event,n.data.session,!1)})}this.initialize()}_debug(...e){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${Ns}) ${new Date().toISOString()}`,...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){try{const e=Ae()?await this._isPKCEFlow():!1;if(this._debug("#_initialize()","begin","is PKCE flow",e),e||this.detectSessionInUrl&&this._isImplicitGrantFlow()){const{data:t,error:r}=await this._getSessionFromURL(e);if(r)return this._debug("#_initialize()","error detecting session from URL",r),(r==null?void 0:r.message)==="Identity is already linked"||(r==null?void 0:r.message)==="Identity is already linked to another user"?{error:r}:(await this._removeSession(),{error:r});const{session:s,redirectType:n}=t;return this._debug("#_initialize()","detected session in URL",s,"redirect type",n),await this._saveSession(s),setTimeout(async()=>{n==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",s):await this._notifyAllSubscribers("SIGNED_IN",s)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(e){return J(e)?{error:e}:{error:new Ls("Unexpected error during initialization",e)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signUp(e){var t,r,s;try{await this._removeSession();let n;if("email"in e){const{email:u,password:d,options:h}=e;let f=null,g=null;if(this.flowType==="pkce"){const v=qe();await Ne(this.storage,`${this.storageKey}-code-verifier`,v),f=await Ve(v),g=v===f?"plain":"s256"}n=await W(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:h==null?void 0:h.emailRedirectTo,body:{email:u,password:d,data:(t=h==null?void 0:h.data)!==null&&t!==void 0?t:{},gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken},code_challenge:f,code_challenge_method:g},xform:De})}else if("phone"in e){const{phone:u,password:d,options:h}=e;n=await W(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:u,password:d,data:(r=h==null?void 0:h.data)!==null&&r!==void 0?r:{},channel:(s=h==null?void 0:h.channel)!==null&&s!==void 0?s:"sms",gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken}},xform:De})}else throw new wt("You must provide either an email or phone number and a password");const{data:o,error:a}=n;if(a||!o)return{data:{user:null,session:null},error:a};const l=o.session,c=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:c,session:l},error:null}}catch(n){if(J(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithPassword(e){try{await this._removeSession();let t;if("email"in e){const{email:n,password:o,options:a}=e;t=await W(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:n,password:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:Pr})}else if("phone"in e){const{phone:n,password:o,options:a}=e;t=await W(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:n,password:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:Pr})}else throw new wt("You must provide either an email or phone number and a password");const{data:r,error:s}=t;return s?{data:{user:null,session:null},error:s}:!r||!r.session||!r.user?{data:{user:null,session:null},error:new $t}:(r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),{data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:s})}catch(t){if(J(t))return{data:{user:null,session:null},error:t};throw t}}async signInWithOAuth(e){var t,r,s,n;return await this._removeSession(),await this._handleProviderSignIn(e.provider,{redirectTo:(t=e.options)===null||t===void 0?void 0:t.redirectTo,scopes:(r=e.options)===null||r===void 0?void 0:r.scopes,queryParams:(s=e.options)===null||s===void 0?void 0:s.queryParams,skipBrowserRedirect:(n=e.options)===null||n===void 0?void 0:n.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async _exchangeCodeForSession(e){const t=await yt(this.storage,`${this.storageKey}-code-verifier`),[r,s]=(t??"").split("/"),{data:n,error:o}=await W(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:r},xform:De});return await Ut(this.storage,`${this.storageKey}-code-verifier`),o?{data:{user:null,session:null,redirectType:null},error:o}:!n||!n.session||!n.user?{data:{user:null,session:null,redirectType:null},error:new $t}:(n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),{data:Object.assign(Object.assign({},n),{redirectType:s??null}),error:o})}async signInWithIdToken(e){await this._removeSession();try{const{options:t,provider:r,token:s,access_token:n,nonce:o}=e,a=await W(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:s,access_token:n,nonce:o,gotrue_meta_security:{captcha_token:t==null?void 0:t.captchaToken}},xform:De}),{data:l,error:c}=a;return c?{data:{user:null,session:null},error:c}:!l||!l.session||!l.user?{data:{user:null,session:null},error:new $t}:(l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),{data:l,error:c})}catch(t){if(J(t))return{data:{user:null,session:null},error:t};throw t}}async signInWithOtp(e){var t,r,s,n,o;try{if(await this._removeSession(),"email"in e){const{email:a,options:l}=e;let c=null,u=null;if(this.flowType==="pkce"){const h=qe();await Ne(this.storage,`${this.storageKey}-code-verifier`,h),c=await Ve(h),u=h===c?"plain":"s256"}const{error:d}=await W(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:a,data:(t=l==null?void 0:l.data)!==null&&t!==void 0?t:{},create_user:(r=l==null?void 0:l.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},code_challenge:c,code_challenge_method:u},redirectTo:l==null?void 0:l.emailRedirectTo});return{data:{user:null,session:null},error:d}}if("phone"in e){const{phone:a,options:l}=e,{data:c,error:u}=await W(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:a,data:(s=l==null?void 0:l.data)!==null&&s!==void 0?s:{},create_user:(n=l==null?void 0:l.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},channel:(o=l==null?void 0:l.channel)!==null&&o!==void 0?o:"sms"}});return{data:{user:null,session:null,messageId:c==null?void 0:c.message_id},error:u}}throw new wt("You must provide either an email or phone number.")}catch(a){if(J(a))return{data:{user:null,session:null},error:a};throw a}}async verifyOtp(e){var t,r;try{e.type!=="email_change"&&e.type!=="phone_change"&&await this._removeSession();let s,n;"options"in e&&(s=(t=e.options)===null||t===void 0?void 0:t.redirectTo,n=(r=e.options)===null||r===void 0?void 0:r.captchaToken);const{data:o,error:a}=await W(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:n}}),redirectTo:s,xform:De});if(a)throw a;if(!o)throw new Error("An error occurred on token verification.");const l=o.session,c=o.user;return l!=null&&l.access_token&&(await this._saveSession(l),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",l)),{data:{user:c,session:l},error:null}}catch(s){if(J(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithSSO(e){var t,r,s;try{await this._removeSession();let n=null,o=null;if(this.flowType==="pkce"){const a=qe();await Ne(this.storage,`${this.storageKey}-code-verifier`,a),n=await Ve(a),o=a===n?"plain":"s256"}return await W(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(r=(t=e.options)===null||t===void 0?void 0:t.redirectTo)!==null&&r!==void 0?r:void 0}),!((s=e==null?void 0:e.options)===null||s===void 0)&&s.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:n,code_challenge_method:o}),headers:this.headers,xform:Zn})}catch(n){if(J(n))return{data:null,error:n};throw n}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:t},error:r}=e;if(r)throw r;if(!t)throw new He;const{error:s}=await W(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:t.access_token});return{data:{user:null,session:null},error:s}})}catch(e){if(J(e))return{data:{user:null,session:null},error:e};throw e}}async resend(e){try{e.type!="email_change"&&e.type!="phone_change"&&await this._removeSession();const t=`${this.url}/resend`;if("email"in e){const{email:r,type:s,options:n}=e,{error:o}=await W(this.fetch,"POST",t,{headers:this.headers,body:{email:r,type:s,gotrue_meta_security:{captcha_token:n==null?void 0:n.captchaToken}},redirectTo:n==null?void 0:n.emailRedirectTo});return{data:{user:null,session:null},error:o}}else if("phone"in e){const{phone:r,type:s,options:n}=e,{data:o,error:a}=await W(this.fetch,"POST",t,{headers:this.headers,body:{phone:r,type:s,gotrue_meta_security:{captcha_token:n==null?void 0:n.captchaToken}}});return{data:{user:null,session:null,messageId:o==null?void 0:o.message_id},error:a}}throw new wt("You must provide either an email or phone number and a type")}catch(t){if(J(t))return{data:{user:null,session:null},error:t};throw t}}async getSession(){return await this.initializePromise,this._acquireLock(-1,async()=>this._useSession(async e=>e))}async _acquireLock(e,t){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),s=(async()=>(await r,await t()))();return this.pendingInLock.push((async()=>{try{await s}catch{}})()),s}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=t();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const s=[...this.pendingInLock];await Promise.all(s),this.pendingInLock.splice(0,s.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const t=await this.__loadSession();return await e(t)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const t=await yt(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",t),t!==null&&(this._isValidSession(t)?e=t:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const r=e.expires_at?e.expires_at<=Date.now()/1e3:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",e.expires_at),!r)return{data:{session:e},error:null};const{session:s,error:n}=await this._callRefreshToken(e.refresh_token);return n?{data:{session:null},error:n}:{data:{session:s},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(e){return e?await this._getUser(e):(await this.initializePromise,this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(e){try{return e?await W(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:Pe}):await this._useSession(async t=>{var r,s;const{data:n,error:o}=t;if(o)throw o;return await W(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(s=(r=n.session)===null||r===void 0?void 0:r.access_token)!==null&&s!==void 0?s:void 0,xform:Pe})})}catch(t){if(J(t))return{data:{user:null},error:t};throw t}}async updateUser(e,t={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,t))}async _updateUser(e,t={}){try{return await this._useSession(async r=>{const{data:s,error:n}=r;if(n)throw n;if(!s.session)throw new He;const o=s.session;let a=null,l=null;if(this.flowType==="pkce"&&e.email!=null){const d=qe();await Ne(this.storage,`${this.storageKey}-code-verifier`,d),a=await Ve(d),l=d===a?"plain":"s256"}const{data:c,error:u}=await W(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:t==null?void 0:t.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:a,code_challenge_method:l}),jwt:o.access_token,xform:Pe});if(u)throw u;return o.user=c.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),{data:{user:o.user},error:null}})}catch(r){if(J(r))return{data:{user:null},error:r};throw r}}_decodeJWT(e){return Ir(e)}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new He;const t=Date.now()/1e3;let r=t,s=!0,n=null;const o=Ir(e.access_token);if(o.exp&&(r=o.exp,s=r<=t),s){const{session:a,error:l}=await this._callRefreshToken(e.refresh_token);if(l)return{data:{user:null,session:null},error:l};if(!a)return{data:{user:null,session:null},error:null};n=a}else{const{data:a,error:l}=await this._getUser(e.access_token);if(l)throw l;n={access_token:e.access_token,refresh_token:e.refresh_token,user:a.user,token_type:"bearer",expires_in:r-t,expires_at:r},await this._saveSession(n),await this._notifyAllSubscribers("SIGNED_IN",n)}return{data:{user:n.user,session:n},error:null}}catch(t){if(J(t))return{data:{session:null,user:null},error:t};throw t}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async t=>{var r;if(!e){const{data:o,error:a}=t;if(a)throw a;e=(r=o.session)!==null&&r!==void 0?r:void 0}if(!(e!=null&&e.refresh_token))throw new He;const{session:s,error:n}=await this._callRefreshToken(e.refresh_token);return n?{data:{user:null,session:null},error:n}:s?{data:{user:s.user,session:s},error:null}:{data:{user:null,session:null},error:null}})}catch(t){if(J(t))return{data:{user:null,session:null},error:t};throw t}}async _getSessionFromURL(e){try{if(!Ae())throw new kt("No browser detected.");if(this.flowType==="implicit"&&!this._isImplicitGrantFlow())throw new kt("Not a valid implicit grant flow url.");if(this.flowType=="pkce"&&!e)throw new jr("Not a valid PKCE flow url.");const t=Dt(window.location.href);if(e){if(!t.code)throw new jr("No code detected.");const{data:E,error:S}=await this._exchangeCodeForSession(t.code);if(S)throw S;const T=new URL(window.location.href);return T.searchParams.delete("code"),window.history.replaceState(window.history.state,"",T.toString()),{data:{session:E.session,redirectType:null},error:null}}if(t.error||t.error_description||t.error_code)throw new kt(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});const{provider_token:r,provider_refresh_token:s,access_token:n,refresh_token:o,expires_in:a,expires_at:l,token_type:c}=t;if(!n||!a||!o||!c)throw new kt("No session defined in URL");const u=Math.round(Date.now()/1e3),d=parseInt(a);let h=u+d;l&&(h=parseInt(l));const f=h-u;f*1e3<=it&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${f}s, should have been closer to ${d}s`);const g=h-d;u-g>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",g,h,u):u-g<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clok for skew",g,h,u);const{data:v,error:y}=await this._getUser(n);if(y)throw y;const O={provider_token:r,provider_refresh_token:s,access_token:n,expires_in:d,expires_at:h,refresh_token:o,token_type:c,user:v.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:O,redirectType:t.type},error:null}}catch(t){if(J(t))return{data:{session:null,redirectType:null},error:t};throw t}}_isImplicitGrantFlow(){const e=Dt(window.location.href);return!!(Ae()&&(e.access_token||e.error_description))}async _isPKCEFlow(){const e=Dt(window.location.href),t=await yt(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&t)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async t=>{var r;const{data:s,error:n}=t;if(n)return{error:n};const o=(r=s.session)===null||r===void 0?void 0:r.access_token;if(o){const{error:a}=await this.admin.signOut(o,e);if(a&&!(Kn(a)&&(a.status===404||a.status===401)))return{error:a}}return e!=="others"&&(await this._removeSession(),await Ut(this.storage,`${this.storageKey}-code-verifier`),await this._notifyAllSubscribers("SIGNED_OUT",null)),{error:null}})}onAuthStateChange(e){const t=Fn(),r={id:t,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",t),this.stateChangeEmitters.delete(t)}};return this._debug("#onAuthStateChange()","registered callback with id",t),this.stateChangeEmitters.set(t,r),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(t)})))(),{data:{subscription:r}}}async _emitInitialSession(e){return await this._useSession(async t=>{var r,s;try{const{data:{session:n},error:o}=t;if(o)throw o;await((r=this.stateChangeEmitters.get(e))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",n)),this._debug("INITIAL_SESSION","callback id",e,"session",n)}catch(n){await((s=this.stateChangeEmitters.get(e))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",n),console.error(n)}})}async resetPasswordForEmail(e,t={}){let r=null,s=null;if(this.flowType==="pkce"){const n=qe();await Ne(this.storage,`${this.storageKey}-code-verifier`,`${n}/PASSWORD_RECOVERY`),r=await Ve(n),s=n===r?"plain":"s256"}try{return await W(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:r,code_challenge_method:s,gotrue_meta_security:{captcha_token:t.captchaToken}},headers:this.headers,redirectTo:t.redirectTo})}catch(n){if(J(n))return{data:null,error:n};throw n}}async getUserIdentities(){var e;try{const{data:t,error:r}=await this.getUser();if(r)throw r;return{data:{identities:(e=t.user.identities)!==null&&e!==void 0?e:[]},error:null}}catch(t){if(J(t))return{data:null,error:t};throw t}}async linkIdentity(e){var t;try{const{data:r,error:s}=await this._useSession(async n=>{var o,a,l,c,u;const{data:d,error:h}=n;if(h)throw h;const f=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(o=e.options)===null||o===void 0?void 0:o.redirectTo,scopes:(a=e.options)===null||a===void 0?void 0:a.scopes,queryParams:(l=e.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:!0});return await W(this.fetch,"GET",f,{headers:this.headers,jwt:(u=(c=d.session)===null||c===void 0?void 0:c.access_token)!==null&&u!==void 0?u:void 0})});if(s)throw s;return Ae()&&!(!((t=e.options)===null||t===void 0)&&t.skipBrowserRedirect)&&window.location.assign(r==null?void 0:r.url),{data:{provider:e.provider,url:r==null?void 0:r.url},error:null}}catch(r){if(J(r))return{data:{provider:e.provider,url:null},error:r};throw r}}async unlinkIdentity(e){try{return await this._useSession(async t=>{var r,s;const{data:n,error:o}=t;if(o)throw o;return await W(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(s=(r=n.session)===null||r===void 0?void 0:r.access_token)!==null&&s!==void 0?s:void 0})})}catch(t){if(J(t))return{data:null,error:t};throw t}}async _refreshAccessToken(e){const t=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(t,"begin");try{const r=Date.now();return await qn(async s=>(await Bn(s*200),this._debug(t,"refreshing attempt",s),await W(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:De})),(s,n,o)=>o&&o.error&&Ft(o.error)&&Date.now()+(s+1)*200-r<it)}catch(r){if(this._debug(t,"error",r),J(r))return{data:{session:null,user:null},error:r};throw r}finally{this._debug(t,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,t){const r=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:t.redirectTo,scopes:t.scopes,queryParams:t.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",t,"url",r),Ae()&&!t.skipBrowserRedirect&&window.location.assign(r),{data:{provider:e,url:r},error:null}}async _recoverAndRefresh(){var e;const t="#_recoverAndRefresh()";this._debug(t,"begin");try{const r=await yt(this.storage,this.storageKey);if(this._debug(t,"session from storage",r),!this._isValidSession(r)){this._debug(t,"session is not valid"),r!==null&&await this._removeSession();return}const s=Math.round(Date.now()/1e3),n=((e=r.expires_at)!==null&&e!==void 0?e:1/0)<s+Cr;if(this._debug(t,`session has${n?"":" not"} expired with margin of ${Cr}s`),n){if(this.autoRefreshToken&&r.refresh_token){const{error:o}=await this._callRefreshToken(r.refresh_token);o&&(console.error(o),Ft(o)||(this._debug(t,"refresh failed with a non-retryable error, removing the session",o),await this._removeSession()))}}else await this._notifyAllSubscribers("SIGNED_IN",r)}catch(r){this._debug(t,"error",r),console.error(r);return}finally{this._debug(t,"end")}}async _callRefreshToken(e){var t,r;if(!e)throw new He;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const s=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(s,"begin");try{this.refreshingDeferred=new Pt;const{data:n,error:o}=await this._refreshAccessToken(e);if(o)throw o;if(!n.session)throw new He;await this._saveSession(n.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",n.session);const a={session:n.session,error:null};return this.refreshingDeferred.resolve(a),a}catch(n){if(this._debug(s,"error",n),J(n)){const o={session:null,error:n};return Ft(n)||(await this._removeSession(),await this._notifyAllSubscribers("SIGNED_OUT",null)),(t=this.refreshingDeferred)===null||t===void 0||t.resolve(o),o}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(n),n}finally{this.refreshingDeferred=null,this._debug(s,"end")}}async _notifyAllSubscribers(e,t,r=!0){const s=`#_notifyAllSubscribers(${e})`;this._debug(s,"begin",t,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:e,session:t});const n=[],o=Array.from(this.stateChangeEmitters.values()).map(async a=>{try{await a.callback(e,t)}catch(l){n.push(l)}});if(await Promise.all(o),n.length>0){for(let a=0;a<n.length;a+=1)console.error(n[a]);throw n[0]}}finally{this._debug(s,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),await Ne(this.storage,this.storageKey,e)}async _removeSession(){this._debug("#_removeSession()"),await Ut(this.storage,this.storageKey)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&Ae()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(t){console.error("removing visibilitychange callback failed",t)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),it);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async t=>{const{data:{session:r}}=t;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const s=Math.floor((r.expires_at*1e3-e)/it);this._debug("#_autoRefreshTokenTick()",`access token expires in ${s} ticks, a tick lasts ${it}ms, refresh threshold is ${Nr} ticks`),s<=Nr&&await this._callRefreshToken(r.refresh_token)})}catch(t){console.error("Auto refresh tick failed with error. This is likely a transient error.",t)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof Ds)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Ae()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const t=`#_onVisibilityChanged(${e})`;this._debug(t,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(t,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,t,r){const s=[`provider=${encodeURIComponent(t)}`];if(r!=null&&r.redirectTo&&s.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r!=null&&r.scopes&&s.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const n=qe();await Ne(this.storage,`${this.storageKey}-code-verifier`,n);const o=await Ve(n),a=n===o?"plain":"s256";this._debug("PKCE","code verifier",`${n.substring(0,5)}...`,"code challenge",o,"method",a);const l=new URLSearchParams({code_challenge:`${encodeURIComponent(o)}`,code_challenge_method:`${encodeURIComponent(a)}`});s.push(l.toString())}if(r!=null&&r.queryParams){const n=new URLSearchParams(r.queryParams);s.push(n.toString())}return r!=null&&r.skipBrowserRedirect&&s.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${e}?${s.join("&")}`}async _unenroll(e){try{return await this._useSession(async t=>{var r;const{data:s,error:n}=t;return n?{data:null,error:n}:await W(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token})})}catch(t){if(J(t))return{data:null,error:t};throw t}}async _enroll(e){try{return await this._useSession(async t=>{var r,s;const{data:n,error:o}=t;if(o)return{data:null,error:o};const{data:a,error:l}=await W(this.fetch,"POST",`${this.url}/factors`,{body:{friendly_name:e.friendlyName,factor_type:e.factorType,issuer:e.issuer},headers:this.headers,jwt:(r=n==null?void 0:n.session)===null||r===void 0?void 0:r.access_token});return l?{data:null,error:l}:(!((s=a==null?void 0:a.totp)===null||s===void 0)&&s.qr_code&&(a.totp.qr_code=`data:image/svg+xml;utf-8,${a.totp.qr_code}`),{data:a,error:null})})}catch(t){if(J(t))return{data:null,error:t};throw t}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async t=>{var r;const{data:s,error:n}=t;if(n)return{data:null,error:n};const{data:o,error:a}=await W(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:{code:e.code,challenge_id:e.challengeId},headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token});return a?{data:null,error:a}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+o.expires_in},o)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",o),{data:o,error:a})})}catch(t){if(J(t))return{data:null,error:t};throw t}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async t=>{var r;const{data:s,error:n}=t;return n?{data:null,error:n}:await W(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token})})}catch(t){if(J(t))return{data:null,error:t};throw t}})}async _challengeAndVerify(e){const{data:t,error:r}=await this._challenge({factorId:e.factorId});return r?{data:null,error:r}:await this._verify({factorId:e.factorId,challengeId:t.id,code:e.code})}async _listFactors(){const{data:{user:e},error:t}=await this.getUser();if(t)return{data:null,error:t};const r=(e==null?void 0:e.factors)||[],s=r.filter(n=>n.factor_type==="totp"&&n.status==="verified");return{data:{all:r,totp:s},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async e=>{var t,r;const{data:{session:s},error:n}=e;if(n)return{data:null,error:n};if(!s)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const o=this._decodeJWT(s.access_token);let a=null;o.aal&&(a=o.aal);let l=a;((r=(t=s.user.factors)===null||t===void 0?void 0:t.filter(d=>d.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(l="aal2");const u=o.amr||[];return{data:{currentLevel:a,nextLevel:l,currentAuthenticationMethods:u},error:null}}))}}ut.nextInstanceID=0;class _o extends ut{constructor(e){super(e)}}var mo=function(i,e,t,r){function s(n){return n instanceof t?n:new t(function(o){o(n)})}return new(t||(t=Promise))(function(n,o){function a(u){try{c(r.next(u))}catch(d){o(d)}}function l(u){try{c(r.throw(u))}catch(d){o(d)}}function c(u){u.done?n(u.value):s(u.value).then(a,l)}c((r=r.apply(i,e||[])).next())})};class go{constructor(e,t,r){var s,n,o,a,l,c,u,d;if(this.supabaseUrl=e,this.supabaseKey=t,!e)throw new Error("supabaseUrl is required.");if(!t)throw new Error("supabaseKey is required.");const h=Dn(e);this.realtimeUrl=`${h}/realtime/v1`.replace(/^http/i,"ws"),this.authUrl=`${h}/auth/v1`,this.storageUrl=`${h}/storage/v1`,this.functionsUrl=`${h}/functions/v1`;const f=`sb-${new URL(this.authUrl).hostname.split(".")[0]}-auth-token`,g={db:In,realtime:Rn,auth:Object.assign(Object.assign({},jn),{storageKey:f}),global:An},v=Un(r??{},g);this.storageKey=(n=(s=v.auth)===null||s===void 0?void 0:s.storageKey)!==null&&n!==void 0?n:"",this.headers=(a=(o=v.global)===null||o===void 0?void 0:o.headers)!==null&&a!==void 0?a:{},this.auth=this._initSupabaseAuthClient((l=v.auth)!==null&&l!==void 0?l:{},this.headers,(c=v.global)===null||c===void 0?void 0:c.fetch),this.fetch=Nn(t,this._getAccessToken.bind(this),(u=v.global)===null||u===void 0?void 0:u.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers},v.realtime)),this.rest=new Zt(`${h}/rest/v1`,{headers:this.headers,schema:(d=v.db)===null||d===void 0?void 0:d.schema,fetch:this.fetch}),this._listenForAuthEvents()}get functions(){return new zi(this.functionsUrl,{headers:this.headers,customFetch:this.fetch})}get storage(){return new En(this.storageUrl,this.headers,this.fetch)}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,t={},r={}){return this.rest.rpc(e,t,r)}channel(e,t={config:{}}){return this.realtime.channel(e,t)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var e,t;return mo(this,void 0,void 0,function*(){const{data:r}=yield this.auth.getSession();return(t=(e=r.session)===null||e===void 0?void 0:e.access_token)!==null&&t!==void 0?t:null})}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:t,detectSessionInUrl:r,storage:s,storageKey:n,flowType:o,debug:a},l,c){const u={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new _o({url:this.authUrl,headers:Object.assign(Object.assign({},u),l),storageKey:n,autoRefreshToken:e,persistSession:t,detectSessionInUrl:r,storage:s,flowType:o,debug:a,fetch:c})}_initRealtimeClient(e){return new hn(this.realtimeUrl,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((t,r)=>{this._handleTokenChanged(t,"CLIENT",r==null?void 0:r.access_token)})}_handleTokenChanged(e,t,r){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==r?(this.realtime.setAuth(r??null),this.changedAccessToken=r):e==="SIGNED_OUT"&&(this.realtime.setAuth(this.supabaseKey),t=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const po=(i,e,t)=>new go(i,e,t),vo="https://lwpcpixtrbcdhvktfvas.supabase.co",bo="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Imx3cGNwaXh0cmJjZGh2a3RmdmFzIiwicm9sZSI6ImFub24iLCJpYXQiOjE3MTY2NTk5NTYsImV4cCI6MjAzMjIzNTk1Nn0.MY2A7T7t9DjfJhRNADoLukGlOfOsXvX3TryKOxI8XDI",sr=po(vo,bo);async function ir(i,e){try{const{data:t,error:r}=await sr.from(e).insert(i);return r?(console.error("Error inserting data:",r),null):t}catch(t){return console.error("Unexpected error:",t),null}}async function yo(){let{data:i,error:e}=await sr.rpc("summarize_gen_share");if(e)console.error(e);else return i}async function wo(i,e){try{const{data:t,error:r}=await sr.rpc("delete_entry",{user_id_input:i,artist_id_input:e});return r?(console.error("Error calling delete_entry function:",r),null):(console.log("Entry deleted successfully:",t),t)}catch(t){return console.error("Unexpected error calling delete_entry:",t),null}}function Ur(i,e,t){const r=i.slice();return r[19]=e[t],r[21]=t,r}function $r(i,e){let t,r=e[19].name+"",s,n=`url(${pe}/assets/toploaders/${e[19].id}.png)`,o,a;function l(){return e[11](e[19])}return{key:i,first:null,c(){t=w("button"),s=ee(r),this.h()},l(c){t=k(c,"BUTTON",{key:!0,"aria-label":!0,class:!0});var u=R(t);s=te(u,r),u.forEach(m),this.h()},h(){var c;_(t,"key",e[19]),_(t,"aria-label",e[19].name+" generation."),_(t,"class","svelte-1r3fcfz"),oe(t,"active",((c=e[0])==null?void 0:c.gen)==e[19].id||e[2]==e[19].id),M(t,"--toploader-url",n),M(t,"--color-accent",e[9][e[21]]),this.first=t},m(c,u){P(c,t,u),p(t,s),o||(a=we(t,"click",l),o=!0)},p(c,u){var d;e=c,u&37&&oe(t,"active",((d=e[0])==null?void 0:d.gen)==e[19].id||e[2]==e[19].id)},d(c){c&&m(t),o=!1,a()}}}function ko(i){let e,t,r="Which generation?",s,n,o,a=[],l=new Map,c,u,d,h,f,g,v,y=i[4].name+"",O,E,S,T,b,C,X,H=Z(i[5]);const K=z=>z[19];for(let z=0;z<H.length;z+=1){let U=Ur(i,H,z),F=K(U);l.set(F,a[z]=$r(F,U))}return{c(){e=w("div"),t=w("p"),t.textContent=r,s=q(),n=w("div"),o=w("div");for(let z=0;z<a.length;z+=1)a[z].c();c=q(),u=w("div"),d=w("button"),h=ee("Back"),g=q(),v=w("button"),O=ee(y),E=q(),S=w("button"),T=ee("Next"),this.h()},l(z){e=k(z,"DIV",{class:!0});var U=R(e);t=k(U,"P",{class:!0,tabindex:!0,"aria-label":!0,"data-svelte-h":!0}),ms(t)!=="svelte-19qh64u"&&(t.textContent=r),s=V(U),n=k(U,"DIV",{class:!0});var F=R(n);o=k(F,"DIV",{class:!0});var Y=R(o);for(let Te=0;Te<a.length;Te+=1)a[Te].l(Y);Y.forEach(m),c=V(F),u=k(F,"DIV",{class:!0});var $=R(u);d=k($,"BUTTON",{class:!0,"aria-hidden":!0});var I=R(d);h=te(I,"Back"),I.forEach(m),g=V($),v=k($,"BUTTON",{class:!0});var L=R(v);O=te(L,y),L.forEach(m),E=V($),S=k($,"BUTTON",{class:!0,"aria-hidden":!0});var G=R(S);T=te(G,"Next"),G.forEach(m),$.forEach(m),F.forEach(m),U.forEach(m),this.h()},h(){_(t,"class","which svelte-1r3fcfz"),_(t,"tabindex","0"),_(t,"aria-label","Use the following buttons to select which generation the artist is from, or select I don't know."),_(o,"class","voter__controls__gens svelte-1r3fcfz"),_(d,"class","back title-font svelte-1r3fcfz"),_(d,"aria-hidden",f=!i[0]),oe(d,"hidden",!i[1]),_(v,"class","idk title-font svelte-1r3fcfz"),_(S,"class","next title-font svelte-1r3fcfz"),_(S,"aria-hidden",b=!i[0]),oe(S,"hidden",!i[0]),_(u,"class","bottom-buttons svelte-1r3fcfz"),_(n,"class","voter__controls svelte-1r3fcfz"),_(e,"class","voter title-font svelte-1r3fcfz"),oe(e,"inactive",i[3])},m(z,U){P(z,e,U),p(e,t),p(e,s),p(e,n),p(n,o);for(let F=0;F<a.length;F+=1)a[F]&&a[F].m(o,null);p(n,c),p(n,u),p(u,d),p(d,h),p(u,g),p(u,v),p(v,O),p(u,E),p(u,S),p(S,T),C||(X=[we(d,"click",i[12]),we(v,"click",i[13]),we(S,"click",i[14])],C=!0)},p(z,[U]){U&613&&(H=Z(z[5]),a=ys(a,U,K,1,z,H,l,o,qs,$r,null,Ur)),U&1&&f!==(f=!z[0])&&_(d,"aria-hidden",f),U&2&&oe(d,"hidden",!z[1]),U&1&&b!==(b=!z[0])&&_(S,"aria-hidden",b),U&1&&oe(S,"hidden",!z[0]),U&8&&oe(e,"inactive",z[3])},i:ie,o:ie,d(z){z&&m(e);for(let U=0;U<a.length;U+=1)a[U].d();C=!1,Gt(X)}}}function So(i,e,t){let r,s,n,o,a,l;se(i,Ue,C=>t(1,r=C)),se(i,nt,C=>t(15,s=C)),se(i,Et,C=>t(2,n=C)),se(i,St,C=>t(3,o=C)),se(i,Yt,C=>t(16,a=C)),se(i,Xt,C=>t(17,l=C));let{artist:c}=e,{previousSubmission:u}=e,d=[{id:0,name:"I don't know"},{id:1,name:"1st"},{id:2,name:"2nd"},{id:3,name:"3rd"},{id:4,name:"4th"},{id:5,name:"5th"}],[h,...f]=d;const g=async C=>{u&&(ge(nt,s=[...s.filter(K=>K.artist_id!=c.id)],s),a||await wo(l,Number(c.id)),t(0,u=void 0)),Me.set("currentArtistIndexCookie",r+1);let X={artist_id:c.id,gen:C.id,user_id:l};a||ir(X,"entries");let H;clearInterval(H),C.id?(ge(St,o=!0,o),ge(Et,n=C.id,n),H=setTimeout(()=>{ge(St,o=!1,o),ge(Et,n=void 0,n),ge(nt,s=[...s,X],s),Me.set("entriesCookie",s),ge(Ue,++r,r)},1e3)):(ge(nt,s=[...s,X],s),Me.set("entriesCookie",s),ge(Ue,++r,r))},v=()=>{ge(Ue,--r,r)},y=()=>{ge(Ue,++r,r)},O=["#92BAFF","#84F881","#E05F89","#565656","#ECCA48"],E=C=>g(C),S=()=>v(),T=()=>g(h),b=()=>y();return i.$$set=C=>{"artist"in C&&t(10,c=C.artist),"previousSubmission"in C&&t(0,u=C.previousSubmission)},[u,r,n,o,h,f,g,v,y,O,c,E,S,T,b]}class Eo extends fe{constructor(e){super(),_e(this,e,So,ko,de,{artist:10,previousSubmission:0})}}function Fr(i,e,t){const r=i.slice();return r[8]=e[t],r[10]=t,r}function Mr(i,e,t){const r=i.slice();return r[8]=e[t],r}function zr(i){let e,t;return{c(){e=w("link"),this.h()},l(r){e=k(r,"LINK",{rel:!0,as:!0,href:!0}),this.h()},h(){_(e,"rel","preload"),_(e,"as","image"),_(e,"href",t=i[8])},m(r,s){P(r,e,s)},p(r,s){s&2&&t!==(t=r[8])&&_(e,"href",t)},d(r){r&&m(e)}}}function Br(i){let e,t;return{c(){e=w("img"),this.h()},l(r){e=k(r,"IMG",{src:!0,alt:!0,class:!0,style:!0}),this.h()},h(){gs(e.src,t=pe+"/assets/illos/confetti/"+i[8])||_(e,"src",t),_(e,"alt","confetti-"+i[10]),_(e,"class","confetti svelte-1fkm8gb"),M(e,"--angle",i[4]()+"deg"),M(e,"--distance",i[2]()),M(e,"animation-duration",i[5]()),M(e,"transform","scale("+i[6]()+")")},m(r,s){P(r,e,s)},p(r,s){s&4&&M(e,"--distance",r[2]())},d(r){r&&m(e)}}}function To(i){let e,t,r,s,n=`${i[0]}px`,o=Z(i[1]),a=[];for(let u=0;u<o.length;u+=1)a[u]=zr(Mr(i,o,u));let l=Z([...i[3],...i[3],...i[3]]),c=[];for(let u=0;u<l.length;u+=1)c[u]=Br(Fr(i,l,u));return{c(){for(let u=0;u<a.length;u+=1)a[u].c();e=Q(),t=q(),r=w("div");for(let u=0;u<c.length;u+=1)c[u].c();this.h()},l(u){const d=At("svelte-norw4s",document.head);for(let f=0;f<a.length;f+=1)a[f].l(d);e=Q(),d.forEach(m),t=V(u),r=k(u,"DIV",{class:!0,"aria-hidden":!0});var h=R(r);for(let f=0;f<c.length;f+=1)c[f].l(h);h.forEach(m),this.h()},h(){_(r,"class","confetti-container svelte-1fkm8gb"),_(r,"aria-hidden","true"),Ce(()=>i[7].call(r)),M(r,"--height",n)},m(u,d){for(let h=0;h<a.length;h+=1)a[h]&&a[h].m(document.head,null);p(document.head,e),P(u,t,d),P(u,r,d);for(let h=0;h<c.length;h+=1)c[h]&&c[h].m(r,null);s=Ht(r,i[7].bind(r))},p(u,[d]){if(d&2){o=Z(u[1]);let h;for(h=0;h<o.length;h+=1){const f=Mr(u,o,h);a[h]?a[h].p(f,d):(a[h]=zr(f),a[h].c(),a[h].m(e.parentNode,e))}for(;h<a.length;h+=1)a[h].d(1);a.length=o.length}if(d&124){l=Z([...u[3],...u[3],...u[3]]);let h;for(h=0;h<l.length;h+=1){const f=Fr(u,l,h);c[h]?c[h].p(f,d):(c[h]=Br(f),c[h].c(),c[h].m(r,null))}for(;h<c.length;h+=1)c[h].d(1);c.length=l.length}d&1&&n!==(n=`${u[0]}px`)&&M(r,"--height",n)},i:ie,o:ie,d(u){u&&(m(t),m(r)),ke(a,u),m(e),ke(c,u),s()}}}function Oo(i,e,t){let r,s=["confetti-purple-5.png","big-blue-star.png","big-diamond.png","circle.png","confetti-purple-1.png","confetti-purple-2.png","confetti-purple-3.png","confetti-purple-4.png","confetti-purple-6.png","confetti-purple-7.png","confetti-purple-8.png","dot-cluster.png","dot-set.png","light-blue-star.png","small-blue-star.png","small-diamond.png","sparkle.png","yellow-star.png"],n;const o=()=>Math.random()*360,a=()=>`${Math.random()*1.5+1}s`,l=()=>`${Math.random()*1+5}`;let c=s.map(d=>`${pe}/assets/illos/confetti/${d}`);c=[...c,...["1","2","3","4","5"].map(d=>`${pe}/assets/toploaders/${d}.png`)];function u(){n=this.clientHeight,t(0,n)}return i.$$.update=()=>{i.$$.dirty&1&&t(2,r=()=>`${Math.random()*(n/2)+n/2}px`)},[n,c,r,s,o,a,l,u]}class Ao extends fe{constructor(e){super(),_e(this,e,Oo,To,de,{})}}function qr(i,e,t){const r=i.slice();return r[9]=e[t],r}function Vr(i){let e,t,r,s,n,o,a,l,c=i[9]+"",u,d,h,f,g;return{c(){e=w("div"),t=w("input"),o=q(),a=w("label"),l=w("div"),u=ee(c),this.h()},l(v){e=k(v,"DIV",{class:!0});var y=R(e);t=k(y,"INPUT",{type:!0,id:!0,name:!0,"aria-labelledby":!0,class:!0}),o=V(y),a=k(y,"LABEL",{for:!0,id:!0,class:!0});var O=R(a);l=k(O,"DIV",{class:!0});var E=R(l);u=te(E,c),E.forEach(m),O.forEach(m),y.forEach(m),this.h()},h(){_(t,"type","checkbox"),_(t,"id",r=i[9]),_(t,"name","factor"),t.value=s=i[9],_(t,"aria-labelledby",n=`label-${i[9]}`),_(t,"class","svelte-x9bfnb"),_(l,"class","factor-label svelte-x9bfnb"),_(a,"for",d=i[9]),_(a,"id",h=`label-${i[9]}`),_(a,"class","checkbox-label svelte-x9bfnb"),_(e,"class","round svelte-x9bfnb")},m(v,y){P(v,e,y),p(e,t),p(e,o),p(e,a),p(a,l),p(l,u),f||(g=we(t,"change",i[1]),f=!0)},p(v,y){y&1&&r!==(r=v[9])&&_(t,"id",r),y&1&&s!==(s=v[9])&&(t.value=s),y&1&&n!==(n=`label-${v[9]}`)&&_(t,"aria-labelledby",n),y&1&&c!==(c=v[9]+"")&&be(u,c),y&1&&d!==(d=v[9])&&_(a,"for",d),y&1&&h!==(h=`label-${v[9]}`)&&_(a,"id",h)},d(v){v&&m(e),f=!1,g()}}}function Io(i){let e,t,r,s,n=i[0].title+"",o,a,l,c=i[0].text+"",u,d,h,f,g,v,y;e=new Ao({});let O=Z(i[0].factors),E=[];for(let S=0;S<O.length;S+=1)E[S]=Vr(qr(i,O,S));return v=new Ts({props:{onClick:i[2],fixed:!1,fontSize:"3rem"}}),{c(){le(e.$$.fragment),t=q(),r=w("div"),s=w("h1"),o=ee(n),a=q(),l=w("p"),u=ee(c),d=q(),h=w("form");for(let S=0;S<E.length;S+=1)E[S].c();f=q(),g=w("div"),le(v.$$.fragment),this.h()},l(S){ce(e.$$.fragment,S),t=V(S),r=k(S,"DIV",{id:!0,class:!0});var T=R(r);s=k(T,"H1",{class:!0});var b=R(s);o=te(b,n),b.forEach(m),a=V(T),l=k(T,"P",{class:!0});var C=R(l);u=te(C,c),C.forEach(m),d=V(T),h=k(T,"FORM",{class:!0});var X=R(h);for(let K=0;K<E.length;K+=1)E[K].l(X);f=V(X),g=k(X,"DIV",{class:!0});var H=R(g);ce(v.$$.fragment,H),H.forEach(m),X.forEach(m),T.forEach(m),this.h()},h(){_(s,"class","title-font"),_(l,"class","svelte-x9bfnb"),_(g,"class","next svelte-x9bfnb"),_(h,"class","svelte-x9bfnb"),_(r,"id","survey"),_(r,"class","svelte-x9bfnb")},m(S,T){ue(e,S,T),P(S,t,T),P(S,r,T),p(r,s),p(s,o),p(r,a),p(r,l),p(l,u),p(r,d),p(r,h);for(let b=0;b<E.length;b+=1)E[b]&&E[b].m(h,null);p(h,f),p(h,g),ue(v,g,null),y=!0},p(S,[T]){if((!y||T&1)&&n!==(n=S[0].title+"")&&be(o,n),(!y||T&1)&&c!==(c=S[0].text+"")&&be(u,c),T&3){O=Z(S[0].factors);let b;for(b=0;b<O.length;b+=1){const C=qr(S,O,b);E[b]?E[b].p(C,T):(E[b]=Vr(C),E[b].c(),E[b].m(h,f))}for(;b<E.length;b+=1)E[b].d(1);E.length=O.length}},i(S){y||(j(e.$$.fragment,S),j(v.$$.fragment,S),y=!0)},o(S){N(e.$$.fragment,S),N(v.$$.fragment,S),y=!1},d(S){S&&(m(t),m(r)),he(e,S),ke(E,S),he(v)}}}function jo(i,e,t){let r,s,n;se(i,Fe,h=>t(6,r=h)),se(i,Yt,h=>t(7,s=h)),se(i,Xt,h=>t(8,n=h));let{arrowStroke:o="rgba(120, 120, 120, 1)"}=e,{arrowStrokeWidth:a="3"}=e,{selectedFactors:l=[]}=e,{copy:c}=e;function u(h){const f=h.target.value;h.target.checked?l.length<3?t(3,l=[...l,f]):h.target.checked=!1:t(3,l=l.filter(g=>g!==f))}function d(){let h={user_id:n,response:l.join(";")};s||ir(h,"survey"),Me.set("surveyCompleteCookie",!0),ge(Fe,r="results",r)}return i.$$set=h=>{"arrowStroke"in h&&t(4,o=h.arrowStroke),"arrowStrokeWidth"in h&&t(5,a=h.arrowStrokeWidth),"selectedFactors"in h&&t(3,l=h.selectedFactors),"copy"in h&&t(0,c=h.copy)},[c,u,d,l,o,a]}class Ro extends fe{constructor(e){super(),_e(this,e,jo,Io,de,{arrowStroke:4,arrowStrokeWidth:5,selectedFactors:3,copy:0})}}function Po(i,e){var t=parseInt(i.substring(1,3),16),r=parseInt(i.substring(3,5),16),s=parseInt(i.substring(5,7),16);t=parseInt(t*(100+e)/100),r=parseInt(r*(100+e)/100),s=parseInt(s*(100+e)/100),t=t<255?t:255,r=r<255?r:255,s=s<255?s:255,t=Math.round(t),r=Math.round(r),s=Math.round(s);var n=t.toString(16).length==1?"0"+t.toString(16):t.toString(16),o=r.toString(16).length==1?"0"+r.toString(16):r.toString(16),a=s.toString(16).length==1?"0"+s.toString(16):s.toString(16);return"#"+n+o+a}function Hr(i,e,t){const r=i.slice();return r[17]=e[t],r}function Gr(i,e,t){var l,c;const r=i.slice();r[20]=e[t],r[26]=t;const s=r[6].find(function(...d){return i[14](r[17],...d)});r[21]=s;const n=Number((l=r[21].gen_shares)==null?void 0:l[r[20]])*100||0;r[22]=n;const o=r[10][r[26]];r[23]=o;const a=((c=r[21])==null?void 0:c.highest_gen)==r[20];return r[24]=a,r}function Jr(i,e,t){const r=i.slice();return r[27]=e[t],r}function Kr(i){let e,t,r=i[27]+"";return{c(){e=w("p"),t=new ps(!1),this.h()},l(s){e=k(s,"P",{class:!0});var n=R(e);t=vs(n,!1),n.forEach(m),this.h()},h(){t.a=null,_(e,"class","svelte-1bdka0t")},m(s,n){P(s,e,n),t.m(r,e)},p(s,n){n&4&&r!==(r=s[27]+"")&&t.p(r)},d(s){s&&m(e)}}}function Co(i){let e;return{c(){e=ee("Submit")},l(t){e=te(t,"Submit")},m(t,r){P(t,e,r)},d(t){t&&m(e)}}}function Lo(i){let e;return{c(){e=ee("Thank you!")},l(t){e=te(t,"Thank you!")},m(t,r){P(t,e,r)},d(t){t&&m(e)}}}function No(i){let e,t,r;return t=new wi({props:{color:"#000",strokeWidth:i[1]}}),{c(){e=ee(`Show survey results
			`),le(t.$$.fragment)},l(s){e=te(s,`Show survey results
			`),ce(t.$$.fragment,s)},m(s,n){P(s,e,n),ue(t,s,n),r=!0},p(s,n){const o={};n&2&&(o.strokeWidth=s[1]),t.$set(o)},i(s){r||(j(t.$$.fragment,s),r=!0)},o(s){N(t.$$.fragment,s),r=!1},d(s){s&&m(e),he(t,s)}}}function Do(i){let e,t,r;return t=new Oi({props:{color:"#000",strokeWidth:i[1]}}),{c(){e=ee(`Hide survey results
			`),le(t.$$.fragment)},l(s){e=te(s,`Hide survey results
			`),ce(t.$$.fragment,s)},m(s,n){P(s,e,n),ue(t,s,n),r=!0},p(s,n){const o={};n&2&&(o.strokeWidth=s[1]),t.$set(o)},i(s){r||(j(t.$$.fragment,s),r=!0)},o(s){N(t.$$.fragment,s),r=!1},d(s){s&&m(e),he(t,s)}}}function Wr(i){let e,t,r,s,n=Z(i[0]),o=[];for(let a=0;a<n.length;a+=1)o[a]=Qr(Hr(i,n,a));return{c(){e=w("div");for(let a=0;a<o.length;a+=1)o[a].c();this.h()},l(a){e=k(a,"DIV",{class:!0});var l=R(e);for(let c=0;c<o.length;c+=1)o[c].l(l);l.forEach(m),this.h()},h(){_(e,"class","viz svelte-1bdka0t")},m(a,l){P(a,e,l);for(let c=0;c<o.length;c+=1)o[c]&&o[c].m(e,null);s=!0},p(a,l){if(l&1857){n=Z(a[0]);let c;for(c=0;c<n.length;c+=1){const u=Hr(a,n,c);o[c]?o[c].p(u,l):(o[c]=Qr(u),o[c].c(),o[c].m(e,null))}for(;c<o.length;c+=1)o[c].d(1);o.length=n.length}},i(a){s||(a&&Ce(()=>{s&&(r&&r.end(1),t=Kt(e,dr,{}),t.start())}),s=!0)},o(a){t&&t.invalidate(),a&&(r=Bs(e,dr,{})),s=!1},d(a){a&&m(e),ke(o,a),a&&r&&r.end()}}}function Yr(i){let e,t=i[20]&&Uo(i);return{c(){e=w("span"),t&&t.c(),this.h()},l(r){e=k(r,"SPAN",{class:!0});var s=R(e);t&&t.l(s),s.forEach(m),this.h()},h(){_(e,"class","svelte-1bdka0t"),oe(e,"isLargest",i[24])},m(r,s){P(r,e,s),t&&t.m(e,null)},p(r,s){r[20]&&t.p(r,s),s&321&&oe(e,"isLargest",r[24])},d(r){r&&m(e),t&&t.d()}}}function Uo(i){let e=i[9][i[26]]+"",t,r,s=i[24]&&Xr(i);return{c(){t=ee(e),s&&s.c(),r=Q()},l(n){t=te(n,e),s&&s.l(n),r=Q()},m(n,o){P(n,t,o),s&&s.m(n,o),P(n,r,o)},p(n,o){n[24]?s?s.p(n,o):(s=Xr(n),s.c(),s.m(r.parentNode,r)):s&&(s.d(1),s=null)},d(n){n&&(m(t),m(r)),s&&s.d(n)}}}function Xr(i){let e,t=i[22].toFixed(0)+"",r,s;return{c(){e=ee(" gen ("),r=ee(t),s=ee("%)")},l(n){e=te(n," gen ("),r=te(n,t),s=te(n,"%)")},m(n,o){P(n,e,o),P(n,r,o),P(n,s,o)},p(n,o){o&65&&t!==(t=n[22].toFixed(0)+"")&&be(r,t)},d(n){n&&(m(e),m(r),m(s))}}}function xr(i){let e,t,r,s=`${i[22]}%`,n=i[22]>10&&Yr(i);return{c(){e=w("div"),n&&n.c(),t=q(),this.h()},l(o){e=k(o,"DIV",{class:!0,"data-percentage":!0});var a=R(e);n&&n.l(a),t=V(a),a.forEach(m),this.h()},h(){_(e,"class","cell gen-"+i[20]+" svelte-1bdka0t"),_(e,"data-percentage",r=i[22]+"%"),M(e,"--width",s),M(e,"--color",Po(i[23],-40)),M(e,"--bg",i[23])},m(o,a){P(o,e,a),n&&n.m(e,null),p(e,t)},p(o,a){o[22]>10?n?n.p(o,a):(n=Yr(o),n.c(),n.m(e,t)):n&&(n.d(1),n=null),a&65&&r!==(r=o[22]+"%")&&_(e,"data-percentage",r),a&65&&s!==(s=`${o[22]}%`)&&M(e,"--width",s)},d(o){o&&m(e),n&&n.d()}}}function Qr(i){let e,t,r=i[17].name+"",s,n,o,a,l=Z(i[8]),c=[];for(let u=0;u<l.length;u+=1)c[u]=xr(Gr(i,l,u));return{c(){e=w("div"),t=w("div"),s=ee(r),n=q(),o=w("div");for(let u=0;u<c.length;u+=1)c[u].c();a=q(),this.h()},l(u){e=k(u,"DIV",{class:!0});var d=R(e);t=k(d,"DIV",{class:!0});var h=R(t);s=te(h,r),h.forEach(m),n=V(d),o=k(d,"DIV",{class:!0});var f=R(o);for(let g=0;g<c.length;g+=1)c[g].l(f);f.forEach(m),a=V(d),d.forEach(m),this.h()},h(){_(t,"class","artist"),_(o,"class","plot svelte-1bdka0t"),_(e,"class","row svelte-1bdka0t")},m(u,d){P(u,e,d),p(e,t),p(t,s),p(e,n),p(e,o);for(let h=0;h<c.length;h+=1)c[h]&&c[h].m(o,null);p(e,a)},p(u,d){if(d&1&&r!==(r=u[17].name+"")&&be(s,r),d&1857){l=Z(u[8]);let h;for(h=0;h<l.length;h+=1){const f=Gr(u,l,h);c[h]?c[h].p(f,d):(c[h]=xr(f),c[h].c(),c[h].m(o,null))}for(;h<c.length;h+=1)c[h].d(1);c.length=l.length}},d(u){u&&m(e),ke(c,u)}}}function $o(i){let e,t,r=i[2].title+"",s,n,o,a,l,c,u,d,h,f,g,v,y,O,E,S="Methodology",T,b,C=i[2].methodology+"",X,H,K,z,U=Z(i[2].text.split(`
`)),F=[];for(let A=0;A<U.length;A+=1)F[A]=Kr(Jr(i,U,A));function Y(A,B){return A[4]?Lo:Co}let $=Y(i),I=$(i);const L=[Do,No],G=[];function Te(A,B){return A[5]?0:1}f=Te(i),g=G[f]=L[f](i);let D=i[5]&&i[6].length&&Wr(i);return{c(){e=w("div"),t=w("h1"),s=ee(r),n=q();for(let A=0;A<F.length;A+=1)F[A].c();o=q(),a=w("form"),l=w("input"),c=q(),u=w("button"),I.c(),d=q(),h=w("button"),g.c(),v=q(),D&&D.c(),y=q(),O=w("div"),E=w("h3"),E.textContent=S,T=q(),b=w("p"),X=ee(C),this.h()},l(A){e=k(A,"DIV",{id:!0,class:!0});var B=R(e);t=k(B,"H1",{class:!0});var ne=R(t);s=te(ne,r),ne.forEach(m),n=V(B);for(let rt=0;rt<F.length;rt+=1)F[rt].l(B);o=V(B),a=k(B,"FORM",{class:!0});var ae=R(a);l=k(ae,"INPUT",{type:!0,placeholder:!0,class:!0}),c=V(ae),u=k(ae,"BUTTON",{type:!0,class:!0});var me=R(u);I.l(me),me.forEach(m),ae.forEach(m),d=V(B),h=k(B,"BUTTON",{class:!0});var pt=R(h);g.l(pt),pt.forEach(m),v=V(B),D&&D.l(B),y=V(B),O=k(B,"DIV",{class:!0});var x=R(O);E=k(x,"H3",{class:!0,"data-svelte-h":!0}),ms(E)!=="svelte-1b9ei44"&&(E.textContent=S),T=V(x),b=k(x,"P",{class:!0});var vt=R(b);X=te(vt,C),vt.forEach(m),x.forEach(m),B.forEach(m),this.h()},h(){_(t,"class","title-font"),_(l,"type","email"),_(l,"placeholder","Email"),l.required=!0,_(l,"class","email-input svelte-1bdka0t"),l.disabled=i[4],_(u,"type","submit"),_(u,"class","submit-button svelte-1bdka0t"),u.disabled=i[4],_(a,"class","email-signup svelte-1bdka0t"),_(h,"class","reveal title-font svelte-1bdka0t"),_(E,"class","title-font"),_(b,"class","svelte-1bdka0t"),_(O,"class","methodology svelte-1bdka0t"),_(e,"id","results"),_(e,"class","svelte-1bdka0t")},m(A,B){P(A,e,B),p(e,t),p(t,s),p(e,n);for(let ne=0;ne<F.length;ne+=1)F[ne]&&F[ne].m(e,null);p(e,o),p(e,a),p(a,l),ar(l,i[3]),p(a,c),p(a,u),I.m(u,null),p(e,d),p(e,h),G[f].m(h,null),p(e,v),D&&D.m(e,null),p(e,y),p(e,O),p(O,E),p(O,T),p(O,b),p(b,X),H=!0,K||(z=[we(l,"input",i[12]),we(a,"submit",i[7]),we(h,"click",i[13])],K=!0)},p(A,[B]){if((!H||B&4)&&r!==(r=A[2].title+"")&&be(s,r),B&4){U=Z(A[2].text.split(`
`));let ae;for(ae=0;ae<U.length;ae+=1){const me=Jr(A,U,ae);F[ae]?F[ae].p(me,B):(F[ae]=Kr(me),F[ae].c(),F[ae].m(e,o))}for(;ae<F.length;ae+=1)F[ae].d(1);F.length=U.length}(!H||B&16)&&(l.disabled=A[4]),B&8&&l.value!==A[3]&&ar(l,A[3]),$!==($=Y(A))&&(I.d(1),I=$(A),I&&(I.c(),I.m(u,null))),(!H||B&16)&&(u.disabled=A[4]);let ne=f;f=Te(A),f===ne?G[f].p(A,B):(Se(),N(G[ne],1,1,()=>{G[ne]=null}),Ee(),g=G[f],g?g.p(A,B):(g=G[f]=L[f](A),g.c()),j(g,1),g.m(h,null)),A[5]&&A[6].length?D?(D.p(A,B),B&96&&j(D,1)):(D=Wr(A),D.c(),j(D,1),D.m(e,y)):D&&(Se(),N(D,1,1,()=>{D=null}),Ee()),(!H||B&4)&&C!==(C=A[2].methodology+"")&&be(X,C)},i(A){H||(j(g),j(D),H=!0)},o(A){N(g),N(D),H=!1},d(A){A&&m(e),ke(F,A),I.d(),G[f].d(),D&&D.d(),K=!1,Gt(z)}}}function Fo(i,e,t){let r,s;se(i,Yt,T=>t(15,r=T)),se(i,Xt,T=>t(16,s=T));let{artists:n}=e,{arrowStroke:o="rgba(120, 120, 120, 1)"}=e,{arrowStrokeWidth:a="3"}=e,{copy:l}=e,c="",u=!1;const d=T=>{T.preventDefault(),r||ir({user_id:s,email:c},"emails"),t(4,u=!0)};let h=!1,f;mt(async()=>{window.scrollTo(0,0),t(6,f=await yo())});let g=[1,2,3,4,5,0],v=["1st","2nd","3rd","4th","5th","IDK"],y=["#e0afff","#f0d9ff","#e2dd9c","#688f8a","#a1c588","#dddddd"];function O(){c=this.value,t(3,c)}const E=()=>t(5,h=!h),S=(T,b)=>b.artist_id==T.id;return i.$$set=T=>{"artists"in T&&t(0,n=T.artists),"arrowStroke"in T&&t(11,o=T.arrowStroke),"arrowStrokeWidth"in T&&t(1,a=T.arrowStrokeWidth),"copy"in T&&t(2,l=T.copy)},[n,a,l,c,u,h,f,d,g,v,y,o,O,E,S]}class Mo extends fe{constructor(e){super(),_e(this,e,Fo,$o,de,{artists:0,arrowStroke:11,arrowStrokeWidth:1,copy:2})}}function Zr(i){let e,t,r,s;const n=[qo,Bo,zo],o=[];function a(l,c){return l[3]=="voting"?0:l[3]=="survey"?1:l[3]=="results"?2:-1}return~(t=a(i))&&(r=o[t]=n[t](i)),{c(){e=w("section"),r&&r.c(),this.h()},l(l){e=k(l,"SECTION",{class:!0});var c=R(e);r&&r.l(c),c.forEach(m),this.h()},h(){_(e,"class","board svelte-117cq4h"),M(e,"--justify-content",i[3]=="voting"?"space-between":"center")},m(l,c){P(l,e,c),~t&&o[t].m(e,null),s=!0},p(l,c){let u=t;t=a(l),t===u?~t&&o[t].p(l,c):(r&&(Se(),N(o[u],1,1,()=>{o[u]=null}),Ee()),~t?(r=o[t],r?r.p(l,c):(r=o[t]=n[t](l),r.c()),j(r,1),r.m(e,null)):r=null),c&8&&M(e,"--justify-content",l[3]=="voting"?"space-between":"center")},i(l){s||(j(r),s=!0)},o(l){N(r),s=!1},d(l){l&&m(e),~t&&o[t].d()}}}function zo(i){let e,t;return e=new Mo({props:{artists:i[1],copy:i[0].results}}),{c(){le(e.$$.fragment)},l(r){ce(e.$$.fragment,r)},m(r,s){ue(e,r,s),t=!0},p(r,s){const n={};s&2&&(n.artists=r[1]),s&1&&(n.copy=r[0].results),e.$set(n)},i(r){t||(j(e.$$.fragment,r),t=!0)},o(r){N(e.$$.fragment,r),t=!1},d(r){he(e,r)}}}function Bo(i){let e,t,r;function s(o){i[10](o)}let n={copy:i[0].survey};return i[6]!==void 0&&(n.selectedFactors=i[6]),e=new Ro({props:n}),Ye.push(()=>Wt(e,"selectedFactors",s)),{c(){le(e.$$.fragment)},l(o){ce(e.$$.fragment,o)},m(o,a){ue(e,o,a),r=!0},p(o,a){const l={};a&1&&(l.copy=o[0].survey),!t&&a&64&&(t=!0,l.selectedFactors=o[6],Jt(()=>t=!1)),e.$set(l)},i(o){r||(j(e.$$.fragment,o),r=!0)},o(o){N(e.$$.fragment,o),r=!1},d(o){he(e,o)}}}function qo(i){let e,t,r,s,n,o,a;e=new gi({props:{maxArtistIndex:i[1].length}}),r=new Ni({props:{artist:i[2],previousSubmission:i[5]}});function l(u){i[9](u)}let c={artist:i[2]};return i[5]!==void 0&&(c.previousSubmission=i[5]),n=new Eo({props:c}),Ye.push(()=>Wt(n,"previousSubmission",l)),{c(){le(e.$$.fragment),t=q(),le(r.$$.fragment),s=q(),le(n.$$.fragment)},l(u){ce(e.$$.fragment,u),t=V(u),ce(r.$$.fragment,u),s=V(u),ce(n.$$.fragment,u)},m(u,d){ue(e,u,d),P(u,t,d),ue(r,u,d),P(u,s,d),ue(n,u,d),a=!0},p(u,d){const h={};d&2&&(h.maxArtistIndex=u[1].length),e.$set(h);const f={};d&4&&(f.artist=u[2]),d&32&&(f.previousSubmission=u[5]),r.$set(f);const g={};d&4&&(g.artist=u[2]),!o&&d&32&&(o=!0,g.previousSubmission=u[5],Jt(()=>o=!1)),n.$set(g)},i(u){a||(j(e.$$.fragment,u),j(r.$$.fragment,u),j(n.$$.fragment,u),a=!0)},o(u){N(e.$$.fragment,u),N(r.$$.fragment,u),N(n.$$.fragment,u),a=!1},d(u){u&&(m(t),m(s)),he(e,u),he(r,u),he(n,u)}}}function Vo(i){let e,t,r=i[4]&&Zr(i);return{c(){r&&r.c(),e=Q()},l(s){r&&r.l(s),e=Q()},m(s,n){r&&r.m(s,n),P(s,e,n),t=!0},p(s,[n]){s[4]?r?(r.p(s,n),n&16&&j(r,1)):(r=Zr(s),r.c(),j(r,1),r.m(e.parentNode,e)):r&&(Se(),N(r,1,1,()=>{r=null}),Ee())},i(s){t||(j(r),t=!0)},o(s){N(r),t=!1},d(s){s&&m(e),r&&r.d(s)}}}function Ho(i,e,t){let r,s,n,o;se(i,nt,g=>t(7,r=g)),se(i,Fe,g=>t(3,s=g)),se(i,bt,g=>t(4,n=g)),se(i,Ue,g=>t(8,o=g));let{copy:a}=e,{artists:l}=e;ge(Fe,s="voting",s);let c,u;mt(()=>{ge(bt,n=Me.get("shuffledArtistsCookie"),n),n?ge(bt,n=JSON.parse(n),n):(ge(bt,n=l.slice().sort(()=>Math.random()-.5),n),Me.set("shuffledArtistsCookie",JSON.stringify(n)))});let d=[];function h(g){u=g,t(5,u),t(2,c),t(7,r),t(4,n),t(8,o),t(3,s)}function f(g){d=g,t(6,d)}return i.$$set=g=>{"copy"in g&&t(0,a=g.copy),"artists"in g&&t(1,l=g.artists)},i.$$.update=()=>{i.$$.dirty&280&&n!=null&&n.length&&(t(2,c=n==null?void 0:n[o]),o>n.length-1&&s=="voting"&&ge(Fe,s="survey",s),o>n.length-1&&Me.get("surveyCompleteCookie")&&ge(Fe,s="results",s)),i.$$.dirty&132&&c&&t(5,u=r.find(g=>g.artist_id==c.id))},[a,l,c,s,n,u,d,r,o,h,f]}class Go extends fe{constructor(e){super(),_e(this,e,Ho,Vo,de,{copy:0,artists:1})}}function es(i,e,t){const r=i.slice();return r[5]=e[t],r}function ts(i,e,t){const r=i.slice();return r[8]=e[t],r}function rs(i){let e;return{c(){e=w("link"),this.h()},l(t){e=k(t,"LINK",{rel:!0,as:!0,href:!0}),this.h()},h(){_(e,"rel","preload"),_(e,"as","image"),_(e,"href",i[8])},m(t,r){P(t,e,r)},p:ie,d(t){t&&m(e)}}}function ss(i){let e,t;return{c(){e=w("img"),this.h()},l(r){e=k(r,"IMG",{src:!0,alt:!0,style:!0,class:!0}),this.h()},h(){gs(e.src,t=pe+"/assets/illos/"+i[5].name+".png")||_(e,"src",t),_(e,"alt",i[5].name),M(e,"--top",i[5].position.top||"unset"),M(e,"--bottom",i[5].position.bottom||"unset"),M(e,"--left",i[5].position.left||"unset"),M(e,"--right",i[5].position.right||"unset"),M(e,"--width",Ot(i[5].width,i[1])),M(e,"--transform",i[5].transform||"unset"),_(e,"class","svelte-16vkd7"),oe(e,"hideOnRecede",i[5].hideOnRecede)},m(r,s){P(r,e,s)},p(r,s){s&2&&M(e,"--width",Ot(r[5].width,r[1]))},d(r){r&&m(e)}}}function Jo(i){let e,t,r,s,n=Z(i[3]),o=[];for(let c=0;c<n.length;c+=1)o[c]=rs(ts(i,n,c));let a=Z(i[2]),l=[];for(let c=0;c<a.length;c+=1)l[c]=ss(es(i,a,c));return{c(){for(let c=0;c<o.length;c+=1)o[c].c();e=Q(),t=q(),r=w("div"),s=w("div");for(let c=0;c<l.length;c+=1)l[c].c();this.h()},l(c){const u=At("svelte-norw4s",document.head);for(let f=0;f<o.length;f+=1)o[f].l(u);e=Q(),u.forEach(m),t=V(c),r=k(c,"DIV",{id:!0,"aria-hidden":!0,class:!0});var d=R(r);s=k(d,"DIV",{id:!0,class:!0});var h=R(s);for(let f=0;f<l.length;f+=1)l[f].l(h);h.forEach(m),d.forEach(m),this.h()},h(){_(s,"id","canvas"),_(s,"class","svelte-16vkd7"),oe(s,"receded",i[0]),_(r,"id","illos"),_(r,"aria-hidden","true"),_(r,"class","svelte-16vkd7")},m(c,u){for(let d=0;d<o.length;d+=1)o[d]&&o[d].m(document.head,null);p(document.head,e),P(c,t,u),P(c,r,u),p(r,s);for(let d=0;d<l.length;d+=1)l[d]&&l[d].m(s,null)},p(c,[u]){if(u&8){n=Z(c[3]);let d;for(d=0;d<n.length;d+=1){const h=ts(c,n,d);o[d]?o[d].p(h,u):(o[d]=rs(h),o[d].c(),o[d].m(e.parentNode,e))}for(;d<o.length;d+=1)o[d].d(1);o.length=n.length}if(u&6){a=Z(c[2]);let d;for(d=0;d<a.length;d+=1){const h=es(c,a,d);l[d]?l[d].p(h,u):(l[d]=ss(h),l[d].c(),l[d].m(s,null))}for(;d<l.length;d+=1)l[d].d(1);l.length=a.length}u&1&&oe(s,"receded",c[0])},i:ie,o:ie,d(c){c&&(m(t),m(r)),ke(o,c),m(e),ke(l,c)}}}function Ko(i,e,t){let r,s;se(i,bs,l=>t(4,s=l));let{receded:n}=e;const o=[{name:"controller",position:{top:"-5%",left:"15%"},width:"30vh"},{name:"toploader-credit",position:{top:"-7%",left:"0%"},width:"30vh",hideOnRecede:!0},{name:"toploader",position:{top:"25%",left:"0%"},width:"20vh",transform:"rotate(135deg)"},{name:"mp3-player",position:{top:"15%",left:"-3%"},width:"30vh",transform:"rotate(140deg)"},{name:"diamond",position:{top:"40%",left:"1%"},width:"8vh"},{name:"cell",position:{bottom:"20%",left:"-1%"},width:"20vh",transform:"rotate(15deg)"},{name:"smile",position:{bottom:"20%",left:"0%"},width:"10vh"},{name:"star-1",position:{top:"40%",right:"15%"},width:"5vh",hideOnRecede:!0},{name:"lollipop-pink",position:{bottom:"10%",left:"15%"},width:"7vh",transform:"rotate(15deg)",hideOnRecede:!0},{name:"lollipop",position:{bottom:"0%",left:"30%"},width:"15vh",transform:"rotate(310deg)",hideOnRecede:!0},{name:"pens",position:{bottom:"-10%",left:"0%"},width:"30vh",transform:"rotate(220deg)"},{name:"bear-1",position:{bottom:"2%",left:"20%"},width:"15vh",hideOnRecede:!0},{name:"bear-2",position:{bottom:"17%",left:"22%"},width:"10vh",hideOnRecede:!0},{name:"star-2",position:{top:"50%",left:"15%"},width:"10vh",hideOnRecede:!0},{name:"star-3",position:{top:"45%",right:"18%"},width:"10vh",hideOnRecede:!0},{name:"stickers",position:{top:"-10%",right:"-5%"},width:"35vh",transform:"rotate(220deg)"},{name:"tweezers",position:{top:"20%",right:"-10%"},width:"30vh",transform:"rotate(270deg)"}];let a=[o.map(l=>`${pe}/assets/illos/${name}.png`)];return i.$$set=l=>{"receded"in l&&t(0,n=l.receded)},i.$$.update=()=>{i.$$.dirty&16&&t(1,r=s.width>1200?1:s.width>800?.75:.7)},[n,r,o,a,s]}class Wo extends fe{constructor(e){super(),_e(this,e,Ko,Jo,de,{receded:0})}}function is(i,e,t){const r=i.slice();r[11]=e[t].type,r[12]=e[t].value,r[13]=e[t].component,r[16]=t;const s=r[16]==r[2];return r[14]=s,r}function ns(i,e,t){const r=i.slice();return r[17]=e[t],r}function os(i,e,t){const r=i.slice();return r[20]=e[t],r}function as(i){let e,t;return{c(){e=w("link"),this.h()},l(r){e=k(r,"LINK",{rel:!0,as:!0,href:!0}),this.h()},h(){_(e,"rel","preload"),_(e,"as","image"),_(e,"href",t=i[20])},m(r,s){P(r,e,s)},p(r,s){s&16&&t!==(t=r[20])&&_(e,"href",t)},d(r){r&&m(e)}}}function ls(i){let e,t,r,s,n,o,a=i[6].indexOf(i[2])==-1,l;t=new Wo({props:{receded:!!i[2]}});function c(h){i[9](h)}let u={duration:"0",$$slots:{default:[Qo]},$$scope:{ctx:i}};i[2]!==void 0&&(u.current=i[2]),s=new Zs({props:u}),i[8](s),Ye.push(()=>Wt(s,"current",c));let d=a&&fs(i);return{c(){e=w("article"),le(t.$$.fragment),r=q(),le(s.$$.fragment),o=q(),d&&d.c(),this.h()},l(h){e=k(h,"ARTICLE",{class:!0});var f=R(e);ce(t.$$.fragment,f),r=V(f),ce(s.$$.fragment,f),o=V(f),d&&d.l(f),f.forEach(m),this.h()},h(){_(e,"class","svelte-auqejr"),M(e,"--height",i[5]=="survey"||i[5]=="results"?"100%":"100svh")},m(h,f){P(h,e,f),ue(t,e,null),p(e,r),ue(s,e,null),p(e,o),d&&d.m(e,null),l=!0},p(h,f){const g={};f&4&&(g.receded=!!h[2]),t.$set(g);const v={};f&8388613&&(v.$$scope={dirty:f,ctx:h}),!n&&f&4&&(n=!0,v.current=h[2],Jt(()=>n=!1)),s.$set(v),f&4&&(a=h[6].indexOf(h[2])==-1),a?d?(d.p(h,f),f&4&&j(d,1)):(d=fs(h),d.c(),j(d,1),d.m(e,null)):d&&(Se(),N(d,1,1,()=>{d=null}),Ee()),f&32&&M(e,"--height",h[5]=="survey"||h[5]=="results"?"100%":"100svh")},i(h){l||(j(t.$$.fragment,h),j(s.$$.fragment,h),j(d),l=!0)},o(h){N(t.$$.fragment,h),N(s.$$.fragment,h),N(d),l=!1},d(h){h&&m(e),he(t),i[8](null),he(s),d&&d.d()}}}function Yo(i){let e,t,r=i[14]&&cs(i);return{c(){r&&r.c(),e=Q()},l(s){r&&r.l(s),e=Q()},m(s,n){r&&r.m(s,n),P(s,e,n),t=!0},p(s,n){s[14]?r?(r.p(s,n),n&4&&j(r,1)):(r=cs(s),r.c(),j(r,1),r.m(e.parentNode,e)):r&&(Se(),N(r,1,1,()=>{r=null}),Ee())},i(s){t||(j(r),t=!0)},o(s){N(r),t=!1},d(s){s&&m(e),r&&r.d(s)}}}function Xo(i){let e,t=Z(i[12]),r=[];for(let s=0;s<t.length;s+=1)r[s]=hs(ns(i,t,s));return{c(){for(let s=0;s<r.length;s+=1)r[s].c();e=Q()},l(s){for(let n=0;n<r.length;n+=1)r[n].l(s);e=Q()},m(s,n){for(let o=0;o<r.length;o+=1)r[o]&&r[o].m(s,n);P(s,e,n)},p(s,n){if(n&4){t=Z(s[12]);let o;for(o=0;o<t.length;o+=1){const a=ns(s,t,o);r[o]?r[o].p(a,n):(r[o]=hs(a),r[o].c(),r[o].m(e.parentNode,e))}for(;o<r.length;o+=1)r[o].d(1);r.length=t.length}},i:ie,o:ie,d(s){s&&m(e),ke(r,s)}}}function cs(i){let e,t;return e=new Go({props:{experienceStarted:ea,artists:i[0].reverse(),copy:ct}}),{c(){le(e.$$.fragment)},l(r){ce(e.$$.fragment,r)},m(r,s){ue(e,r,s),t=!0},p(r,s){const n={};s&1&&(n.artists=r[0].reverse()),e.$set(n)},i(r){t||(j(e.$$.fragment,r),t=!0)},o(r){N(e.$$.fragment,r),t=!1},d(r){he(e,r)}}}function us(i){let e,t,r=i[17].value+"",s,n,o;return{c(){e=w("p"),t=new ps(!1),s=q(),this.h()},l(a){e=k(a,"P",{class:!0});var l=R(e);t=vs(l,!1),s=V(l),l.forEach(m),this.h()},h(){t.a=s,_(e,"class","text title-font svelte-auqejr"),oe(e,"isActive",i[14])},m(a,l){P(a,e,l),t.m(r,e),p(e,s),o=!0},p(a,l){(!o||l&4)&&oe(e,"isActive",a[14])},i(a){o||(a&&Ce(()=>{o&&(n||(n=lr(e,hr,{y:20,duration:500},!0)),n.run(1))}),o=!0)},o(a){a&&(n||(n=lr(e,hr,{y:20,duration:500},!1)),n.run(0)),o=!1},d(a){a&&m(e),a&&n&&n.end()}}}function hs(i){let e,t=i[14]&&us(i);return{c(){t&&t.c(),e=Q()},l(r){t&&t.l(r),e=Q()},m(r,s){t&&t.m(r,s),P(r,e,s)},p(r,s){r[14]?t?(t.p(r,s),s&4&&j(t,1)):(t=us(r),t.c(),j(t,1),t.m(e.parentNode,e)):t&&(Se(),N(t,1,1,()=>{t=null}),Ee())},d(r){r&&m(e),t&&t.d(r)}}}function xo(i){let e,t,r,s;const n=[Xo,Yo],o=[];function a(l,c){return l[11]==="section"?0:l[11]=="voting"?1:-1}return~(e=a(i))&&(t=o[e]=n[e](i)),{c(){t&&t.c(),r=q()},l(l){t&&t.l(l),r=V(l)},m(l,c){~e&&o[e].m(l,c),P(l,r,c),s=!0},p(l,c){t&&t.p(l,c)},i(l){s||(j(t),s=!0)},o(l){N(t),s=!1},d(l){l&&m(r),~e&&o[e].d(l)}}}function ds(i,e){let t,r,s;return r=new si({props:{index:e[16],cls:e[11]=="voting"?"":"vertical-center",$$slots:{default:[xo]},$$scope:{ctx:e}}}),{key:i,first:null,c(){t=Q(),le(r.$$.fragment),this.h()},l(n){t=Q(),ce(r.$$.fragment,n),this.h()},h(){this.first=t},m(n,o){P(n,t,o),ue(r,n,o),s=!0},p(n,o){e=n;const a={};o&8388613&&(a.$$scope={dirty:o,ctx:e}),r.$set(a)},i(n){s||(j(r.$$.fragment,n),s=!0)},o(n){N(r.$$.fragment,n),s=!1},d(n){n&&m(t),he(r,n)}}}function Qo(i){let e=[],t=new Map,r,s,n=Z(ct.body.index||[]);const o=a=>a[16];for(let a=0;a<n.length;a+=1){let l=is(i,n,a),c=o(l);t.set(c,e[a]=ds(c,l))}return{c(){for(let a=0;a<e.length;a+=1)e[a].c();r=Q()},l(a){for(let l=0;l<e.length;l+=1)e[l].l(a);r=Q()},m(a,l){for(let c=0;c<e.length;c+=1)e[c]&&e[c].m(a,l);P(a,r,l),s=!0},p(a,l){l&5&&(n=Z(ct.body.index||[]),Se(),e=ys(e,l,o,1,a,n,t,r.parentNode,Vs,ds,r,is),Ee())},i(a){if(!s){for(let l=0;l<n.length;l+=1)j(e[l]);s=!0}},o(a){for(let l=0;l<e.length;l+=1)N(e[l]);s=!1},d(a){a&&m(r);for(let l=0;l<e.length;l+=1)e[l].d(a)}}}function fs(i){let e,t;return e=new fi({props:{debug:!1,full:!0,directions:i[2]===0?["right"]:["left","right"],size:i[2]===0?"100%":["33%","67%"],enableKeyboard:!0,marginTop:0,showArrows:!0}}),e.$on("tap",i[7]),{c(){le(e.$$.fragment)},l(r){ce(e.$$.fragment,r)},m(r,s){ue(e,r,s),t=!0},p(r,s){const n={};s&4&&(n.directions=r[2]===0?["right"]:["left","right"]),s&4&&(n.size=r[2]===0?"100%":["33%","67%"]),e.$set(n)},i(r){t||(j(e.$$.fragment,r),t=!0)},o(r){N(e.$$.fragment,r),t=!1},d(r){he(e,r)}}}function Zo(i){let e,t,r,s,n=Z(i[4]),o=[];for(let l=0;l<n.length;l+=1)o[l]=as(os(i,n,l));let a=i[3]&&ls(i);return{c(){for(let l=0;l<o.length;l+=1)o[l].c();e=Q(),t=q(),a&&a.c(),r=Q()},l(l){const c=At("svelte-norw4s",document.head);for(let u=0;u<o.length;u+=1)o[u].l(c);e=Q(),c.forEach(m),t=V(l),a&&a.l(l),r=Q()},m(l,c){for(let u=0;u<o.length;u+=1)o[u]&&o[u].m(document.head,null);p(document.head,e),P(l,t,c),a&&a.m(l,c),P(l,r,c),s=!0},p(l,[c]){if(c&16){n=Z(l[4]);let u;for(u=0;u<n.length;u+=1){const d=os(l,n,u);o[u]?o[u].p(d,c):(o[u]=as(d),o[u].c(),o[u].m(e.parentNode,e))}for(;u<o.length;u+=1)o[u].d(1);o.length=n.length}l[3]?a?(a.p(l,c),c&8&&j(a,1)):(a=ls(l),a.c(),j(a,1),a.m(r.parentNode,r)):a&&(Se(),N(a,1,1,()=>{a=null}),Ee())},i(l){s||(j(a),s=!0)},o(l){N(a),s=!1},d(l){l&&(m(t),m(r)),ke(o,l),m(e),a&&a.d(l)}}}let ea=!1;function ta(i,e,t){let r;se(i,Fe,f=>t(5,r=f));let{artists:s}=e,n,o=0,a=[2],l=!1;const c=({detail:f})=>{f==="right"?n.next():n.prev(),window.scrollTo(0,0)};mt(async()=>{t(3,l=!0)});let u=[1,2,3,4,5,6,7,8,9,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36].map(f=>`${pe}/assets/images/${f}.jpg`);u=[...u,...["1","2","3","4","5"].map(f=>`${pe}/assets/toploaders/${f}.png`)];function d(f){Ye[f?"unshift":"push"](()=>{n=f,t(1,n)})}function h(f){o=f,t(2,o)}return i.$$set=f=>{"artists"in f&&t(0,s=f.artists)},[s,n,o,l,u,r,a,c,d,h]}class ra extends fe{constructor(e){super(),_e(this,e,ta,Zo,de,{artists:0})}}function sa(){console.log("--- --- --- --- --- ---"),console.log("svelte-starter: 5.17.0"),console.log("build: 2025-02-13-12:02"),console.log("--- --- --- --- --- ---")}const Us=[{name:"Seo Taiji & Kids (서태지와 아이들)",id:"1","debut year":"1992",company:"",song:"Come Back Home",media_url:""},{name:"TVXQ! (동방신기)",id:"2","debut year":"2003",company:"SM",song:"Mirotic (주문)",media_url:""},{name:"BIGBANG",id:"3","debut year":"2006",company:"YG",song:"BANG BANG BANG",media_url:""},{name:"Girls' Generation (소녀시대)",id:"4","debut year":"2007",company:"SM",song:"Gee",media_url:""},{name:"Wonder Girls",id:"5","debut year":"2007",company:"JYP",song:"Tell Me",media_url:""},{name:"2PM",id:"6","debut year":"2008",company:"JYP",song:"My House (우리집)",media_url:""},{name:"SHINee",id:"7","debut year":"2008",company:"SM",song:"Replay (누난 너무 예뻐)",media_url:""},{name:"2NE1",id:"8","debut year":"2009",company:"YG",song:"I AM THE BEST (내가 제일 잘 나가)",media_url:""},{name:"f(x)",id:"9","debut year":"2009",company:"SM",song:"4 Walls",media_url:""},{name:"EXO",id:"11","debut year":"2012",company:"SM",song:"Love Shot",media_url:""},{name:"BTS (방탄소년단)",id:"12","debut year":"2013",company:"Big Hit (now HYBE)",song:"Dynamite",media_url:""},{name:"GOT7",id:"13","debut year":"2014",company:"JYP",song:"You Calling My Name (니가 부르는 나의 이름)",media_url:""},{name:"Red Velvet",id:"14","debut year":"2014",company:"SM",song:"Psycho",media_url:""},{name:"WINNER",id:"15","debut year":"2014",company:"YG",song:"REALLY REALLY",media_url:""},{name:"SEVENTEEN",id:"16","debut year":"2015",company:"Pledis (now HYBE)",song:"Super (손오공)",media_url:""},{name:"TWICE",id:"17","debut year":"2015",company:"JYP",song:"FANCY",media_url:""},{name:"NCT",id:"18","debut year":"2016",company:"SM",song:"Love Talk (English ver by WayV)",media_url:""},{name:"BLACKPINK",id:"19","debut year":"2016",company:"YG",song:"How You Like That",media_url:""},{name:"Stray Kids",id:"20","debut year":"2018",company:"JYP",song:"God's Menu (神메뉴)",media_url:""},{name:"(G)I-DLE ((여자)아이들)",id:"21","debut year":"2018",company:"Cube",song:"Queencard (퀸카)",media_url:""},{name:"ITZY",id:"22","debut year":"2019",company:"JYP",song:"WANNABE",media_url:""},{name:"TXT (TOMORROW X TOGETHER)",id:"23","debut year":"2019",company:"Big Hit (now HYBE)",song:"0X1=LOVESONG (I Know I Love You) feat. Seori",media_url:""},{name:"TREASURE",id:"24","debut year":"2020",company:"YG",song:"DARARI",media_url:""},{name:"aespa",id:"25","debut year":"2020",company:"SM",song:"Next Level",media_url:""},{name:"ENHYPEN",id:"26","debut year":"2020",company:"Belift Lab (HYBE)",song:"FEVER",media_url:""},{name:"IVE",id:"27","debut year":"2021",company:"Starship",song:"LOVE DIVE",media_url:""},{name:"NMIXX",id:"28","debut year":"2022",company:"JYP",song:"O.O",media_url:""},{name:"LE SSERAFIM",id:"29","debut year":"2022",company:"Source Music (now HYBE)",song:"ANTIFRAGILE",media_url:""},{name:"NewJeans / NJZ",id:"30","debut year":"2022",company:"",song:"OMG",media_url:""},{name:"ZEROBASEONE",id:"31","debut year":"2023",company:"WakeOne (Boys Planet)",song:"In Bloom",media_url:""},{name:"RIIZE",id:"32","debut year":"2023",company:"SM",song:"Get A Guitar",media_url:""},{name:"BABYMONSTER",id:"33","debut year":"2023",company:"YG",song:"SHEESH",media_url:""},{name:"TWS (투어스)",id:"34","debut year":"2024",company:"Pledis (now HYBE)",song:"plot twist (첫 만남은 계획대로 되지 않아)",media_url:""},{name:"ILLIT",id:"35","debut year":"2024",company:"Belift Lab (HYBE)",song:"Magnetic",media_url:""},{name:"KATSEYE",id:"36","debut year":"2024",company:"HYBE x Geffen",song:"Touch",media_url:""}];function _s(i){let e,t;return e=new ra({props:{artists:Us}}),{c(){le(e.$$.fragment)},l(r){ce(e.$$.fragment,r)},m(r,s){ue(e,r,s),t=!0},i(r){t||(j(e.$$.fragment,r),t=!0)},o(r){N(e.$$.fragment,r),t=!1},d(r){he(e,r)}}}function ia(i){let e,t,r,s;e=new Js({props:{title:i[2],description:i[3],url:i[4],preloadFont:i[1]}});let n=i[0]&&_s();return{c(){le(e.$$.fragment),t=q(),n&&n.c(),r=Q()},l(o){ce(e.$$.fragment,o),t=V(o),n&&n.l(o),r=Q()},m(o,a){ue(e,o,a),P(o,t,a),n&&n.m(o,a),P(o,r,a),s=!0},p(o,[a]){o[0]?n?a&1&&j(n,1):(n=_s(),n.c(),j(n,1),n.m(r.parentNode,r)):n&&(Se(),N(n,1,1,()=>{n=null}),Ee())},i(o){s||(j(e.$$.fragment,o),j(n),s=!0)},o(o){N(e.$$.fragment,o),N(n),s=!1},d(o){o&&(m(t),m(r)),he(e,o),n&&n.d(o)}}}function na(i,e,t){let{data:r}=e,s=!1;sa();const n=["https://pudding.cool/assets/fonts/tiempos/TiemposTextWeb-Regular.woff2","https://pudding.cool/assets/fonts/tiempos/TiemposTextWeb-Bold.woff2","https://pudding.cool/assets/fonts/national/National2Web-Regular.woff2","https://pudding.cool/assets/fonts/national/National2Web-Bold.woff2"],{title:o,description:a,url:l}=ct.meta;return Mt("copy",ct),Mt("data",r.data),mt(()=>{Us.forEach(c=>{c.artistId=c.id}),t(0,s=!0)}),i.$$set=c=>{"data"in c&&t(5,r=c.data)},[s,n,o,a,l,r]}class ha extends fe{constructor(e){super(),_e(this,e,na,ia,de,{data:5})}}export{ha as component};
