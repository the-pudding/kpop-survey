function __vite__mapDeps(indexes) {
  if (!__vite__mapDeps.viteFileDeps) {
    __vite__mapDeps.viteFileDeps = ["../chunks/browser.DZwXghdQ.js","../chunks/viewport.BHCoXwJ_.js","../chunks/scheduler.COKmWNtP.js","../chunks/index.C4X359_4.js","../chunks/index.DSRq0rwD.js","../chunks/each.CwC5eL3d.js","../assets/viewport.C1i3-f7Y.css"]
  }
  return indexes.map((i) => __vite__mapDeps.viteFileDeps[i])
}
import{n as ge,O as xn,s as Vt,e as D,k as B,_ as vi,c as I,d as y,p as v,f as T,D as Un,i as F,ac as Mr,L as Tr,h as _i,a as ee,q as mt,E as Nt,j as be,l as we,a0 as pt,$ as yi,r as Mn,t as pe,b as ve,g as Le,M as xt,x as bi,o as Fn,u as Bn,F as wi,H as Ei,G as Ti,a3 as Fr}from"../chunks/scheduler.COKmWNtP.js";import{n as ki,l as Oi,h as Si,j as Ai,S as qt,i as Wt,a as x,g as Me,t as J,c as Fe,k as Ze,o as Di,f as Ii,b as at,d as lt,m as ct,e as ut}from"../chunks/index.C4X359_4.js";import{e as Ee,u as kr,d as Ri,f as Ci,o as Pi}from"../chunks/each.CwC5eL3d.js";import{v as $i,S as ji,T as Li,a as Ni}from"../chunks/viewport.BHCoXwJ_.js";import{b as xi}from"../chunks/paths.BfSPuiGW.js";import{_ as tt}from"../chunks/preload-helper.BQ24v_F8.js";function Ui(n,e,t,r){if(!e)return ge;const i=n.getBoundingClientRect();if(e.left===i.left&&e.right===i.right&&e.top===i.top&&e.bottom===i.bottom)return ge;const{delay:s=0,duration:o=300,easing:a=xn,start:l=ki()+s,end:c=l+o,tick:u=ge,css:h}=t(n,{from:e,to:i},r);let d=!0,f=!1,g;function m(){h&&(g=Si(n,0,1,o,s,a,h)),s||(f=!0)}function p(){h&&Ai(n,g),d=!1}return Oi(b=>{if(!f&&b>=l&&(f=!0),f&&b>=c&&(u(1,0),p()),!d)return!1;if(f){const E=b-l,A=0+1*a(E/o);u(A,1-A)}return!0}),m(),u(0,1),p}function Mi(n){const e=getComputedStyle(n);if(e.position!=="absolute"&&e.position!=="fixed"){const{width:t,height:r}=e,i=n.getBoundingClientRect();n.style.position="absolute",n.style.width=t,n.style.height=r,Fi(n,i)}}function Fi(n,e){const t=n.getBoundingClientRect();if(e.left!==t.left||e.top!==t.top){const r=getComputedStyle(n),i=r.transform==="none"?"":r.transform;n.style.transform=`${i} translate(${e.left-t.left}px, ${e.top-t.top}px)`}}function Br(n,e,t){const r=n.slice();return r[5]=e[t],r}function Gr(n){let e,t;return{c(){e=D("link"),this.h()},l(r){e=I(r,"LINK",{rel:!0,href:!0,as:!0,type:!0,crossorigin:!0}),this.h()},h(){v(e,"rel","preload"),v(e,"href",t=n[5]),v(e,"as","font"),v(e,"type","font/woff2"),v(e,"crossorigin","")},m(r,i){F(r,e,i)},p(r,i){i&16&&t!==(t=r[5])&&v(e,"href",t)},d(r){r&&y(e)}}}function Bi(n){let e,t,r,i,s,o,a,l,c,u,h,d,f,g,m,p,b,E,A,k,O,R,_,w,P,H;document.title=e=n[0];let V=Ee(n[4]),L=[];for(let j=0;j<V.length;j+=1)L[j]=Gr(Br(n,V,j));return{c(){t=D("meta"),r=D("meta"),i=D("meta"),s=D("meta"),o=D("meta"),a=D("meta"),l=D("meta"),c=D("meta"),u=D("meta"),h=D("meta"),f=D("meta"),g=D("meta"),m=D("meta"),p=D("meta"),b=D("meta"),E=D("meta"),A=D("meta"),k=D("meta"),O=D("meta"),_=D("meta"),w=D("link");for(let j=0;j<L.length;j+=1)L[j].c();H=B(),this.h()},l(j){const S=vi("svelte-1htu80s",document.head);t=I(S,"META",{name:!0,content:!0}),r=I(S,"META",{name:!0,content:!0}),i=I(S,"META",{name:!0,content:!0}),s=I(S,"META",{property:!0,content:!0}),o=I(S,"META",{property:!0,content:!0}),a=I(S,"META",{property:!0,content:!0}),l=I(S,"META",{property:!0,content:!0}),c=I(S,"META",{property:!0,content:!0}),u=I(S,"META",{property:!0,content:!0}),h=I(S,"META",{property:!0,content:!0}),f=I(S,"META",{property:!0,content:!0}),g=I(S,"META",{property:!0,content:!0}),m=I(S,"META",{property:!0,content:!0}),p=I(S,"META",{name:!0,content:!0}),b=I(S,"META",{name:!0,content:!0}),E=I(S,"META",{name:!0,content:!0}),A=I(S,"META",{name:!0,content:!0}),k=I(S,"META",{name:!0,content:!0}),O=I(S,"META",{name:!0,content:!0}),_=I(S,"META",{name:!0,content:!0}),w=I(S,"LINK",{rel:!0,href:!0});for(let U=0;U<L.length;U+=1)L[U].l(S);H=B(),S.forEach(y),this.h()},h(){v(t,"name","description"),v(t,"content",n[1]),v(r,"name","author"),v(r,"content","The Pudding"),v(i,"name","news_keywords"),v(i,"content",n[3]),v(s,"property","og:title"),v(s,"content",n[0]),v(o,"property","og:site_name"),v(o,"content","The Pudding"),v(a,"property","og:url"),v(a,"content",n[2]),v(l,"property","og:description"),v(l,"content",n[1]),v(c,"property","og:type"),v(c,"content","article"),v(u,"property","og:locale"),v(u,"content","en_US"),v(h,"property","og:image"),v(h,"content",d=n[2]+"/assets/social-facebook.jpg"),v(f,"property","og:image:type"),v(f,"content","image/jpeg"),v(g,"property","og:image:width"),v(g,"content","1200"),v(m,"property","og:image:height"),v(m,"content","600"),v(p,"name","twitter:card"),v(p,"content","summary_large_image"),v(b,"name","twitter:site"),v(b,"content","https://pudding.cool"),v(E,"name","twitter:creator"),v(E,"content","@puddingviz"),v(A,"name","twitter:title"),v(A,"content",n[0]),v(k,"name","twitter:description"),v(k,"content",n[1]),v(O,"name","twitter:image:src"),v(O,"content",R=n[2]+"/assets/social-twitter.jpg"),v(_,"name","robots"),v(_,"content","max-image-preview:large"),v(w,"rel","canonical"),v(w,"href",P=n[2]+"/")},m(j,S){T(document.head,t),T(document.head,r),T(document.head,i),T(document.head,s),T(document.head,o),T(document.head,a),T(document.head,l),T(document.head,c),T(document.head,u),T(document.head,h),T(document.head,f),T(document.head,g),T(document.head,m),T(document.head,p),T(document.head,b),T(document.head,E),T(document.head,A),T(document.head,k),T(document.head,O),T(document.head,_),T(document.head,w);for(let U=0;U<L.length;U+=1)L[U]&&L[U].m(document.head,null);T(document.head,H)},p(j,[S]){if(S&1&&e!==(e=j[0])&&(document.title=e),S&2&&v(t,"content",j[1]),S&8&&v(i,"content",j[3]),S&1&&v(s,"content",j[0]),S&4&&v(a,"content",j[2]),S&2&&v(l,"content",j[1]),S&4&&d!==(d=j[2]+"/assets/social-facebook.jpg")&&v(h,"content",d),S&1&&v(A,"content",j[0]),S&2&&v(k,"content",j[1]),S&4&&R!==(R=j[2]+"/assets/social-twitter.jpg")&&v(O,"content",R),S&4&&P!==(P=j[2]+"/")&&v(w,"href",P),S&16){V=Ee(j[4]);let U;for(U=0;U<V.length;U+=1){const Ie=Br(j,V,U);L[U]?L[U].p(Ie,S):(L[U]=Gr(Ie),L[U].c(),L[U].m(H.parentNode,H))}for(;U<L.length;U+=1)L[U].d(1);L.length=V.length}},i:ge,o:ge,d(j){y(t),y(r),y(i),y(s),y(o),y(a),y(l),y(c),y(u),y(h),y(f),y(g),y(m),y(p),y(b),y(E),y(A),y(k),y(O),y(_),y(w),Un(L,j),y(H)}}}function Gi(n,e,t){let{title:r="Title TK"}=e,{description:i="Description TK"}=e,{url:s="https://pudding.cool"}=e,{keywords:o=""}=e,{preloadFont:a=[]}=e;return n.$$set=l=>{"title"in l&&t(0,r=l.title),"description"in l&&t(1,i=l.description),"url"in l&&t(2,s=l.url),"keywords"in l&&t(3,o=l.keywords),"preloadFont"in l&&t(4,a=l.preloadFont)},[r,i,s,o,a]}class zi extends qt{constructor(e){super(),Wt(this,e,Gi,Bi,Vt,{title:0,description:1,url:2,keywords:3,preloadFont:4})}}function Hi(n){return n*n*n}function Gn(n){const e=n-1;return e*e*e+1}function Vi(n,{delay:e=0,duration:t=400,easing:r=xn}={}){const i=+getComputedStyle(n).opacity;return{delay:e,duration:t,easing:r,css:s=>`opacity: ${s*i}`}}function Ye(n,{delay:e=0,duration:t=400,easing:r=Gn,x:i=0,y:s=0,opacity:o=0}={}){const a=getComputedStyle(n),l=+a.opacity,c=a.transform==="none"?"":a.transform,u=l*(1-o),[h,d]=Mr(i),[f,g]=Mr(s);return{delay:e,duration:t,easing:r,css:(m,p)=>`
			transform: ${c} translate(${(1-m)*h}${d}, ${(1-m)*f}${g});
			opacity: ${l-u*p}`}}const qi={title:"Title TK",description:"Description tk."},Wi={index:[{type:"section",value:[{type:"text",value:"This is an experiment to define <span class=intro-highlight>K-pop</span> generations."}]},{type:"section",value:[{type:"text",value:"We want <span class=intro-highlight>fans</span> to have the opportunity to <span class=intro-highlight>vote</span> and determine the answers."}]},{type:"voting",value:{}}]},bt={meta:qi,body:Wi};function Ji(n,{from:e,to:t},r={}){const i=getComputedStyle(n),s=i.transform==="none"?"":i.transform,[o,a]=i.transformOrigin.split(" ").map(parseFloat),l=e.left+e.width*o/t.width-(t.left+o),c=e.top+e.height*a/t.height-(t.top+a),{delay:u=0,duration:h=f=>Math.sqrt(f)*120,easing:d=Gn}=r;return{delay:u,duration:Tr(h)?h(Math.sqrt(l*l+c*c)):h,easing:d,css:(f,g)=>{const m=g*l,p=g*c,b=f+g*e.width/t.width,E=f+g*e.height/t.height;return`transform: ${s} translate(${m}px, ${p}px) scale(${b}, ${E});`}}}function zr(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function Ut(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?zr(Object(t),!0).forEach(function(r){rt(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):zr(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function vt(n){"@babel/helpers - typeof";return vt=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},vt(n)}function rt(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function Ki(n,e){if(n==null)return{};var t={},r=Object.keys(n),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(t[i]=n[i]);return t}function Zi(n,e){if(n==null)return{};var t=Ki(n,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(n,r)&&(t[r]=n[r])}return t}function Yi(n,e){return Xi(n)||ts(n,e)||Or(n,e)||ns()}function le(n){return Qi(n)||es(n)||Or(n)||rs()}function Qi(n){if(Array.isArray(n))return ur(n)}function Xi(n){if(Array.isArray(n))return n}function es(n){if(typeof Symbol<"u"&&n[Symbol.iterator]!=null||n["@@iterator"]!=null)return Array.from(n)}function ts(n,e){var t=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(t!=null){var r=[],i=!0,s=!1,o,a;try{for(t=t.call(n);!(i=(o=t.next()).done)&&(r.push(o.value),!(e&&r.length===e));i=!0);}catch(l){s=!0,a=l}finally{try{!i&&t.return!=null&&t.return()}finally{if(s)throw a}}return r}}function Or(n,e){if(n){if(typeof n=="string")return ur(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);if(t==="Object"&&n.constructor&&(t=n.constructor.name),t==="Map"||t==="Set")return Array.from(n);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return ur(n,e)}}function ur(n,e){(e==null||e>n.length)&&(e=n.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=n[t];return r}function rs(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ns(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ot(n,e){var t=typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(!t){if(Array.isArray(n)||(t=Or(n))||e&&n&&typeof n.length=="number"){t&&(n=t);var r=0,i=function(){};return{s:i,n:function(){return r>=n.length?{done:!0}:{done:!1,value:n[r++]}},e:function(l){throw l},f:i}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var s=!0,o=!1,a;return{s:function(){t=t.call(n)},n:function(){var l=t.next();return s=l.done,l},e:function(l){o=!0,a=l},f:function(){try{!s&&t.return!=null&&t.return()}finally{if(o)throw a}}}}var is="finalize",ss="consider";function nt(n,e,t){n.dispatchEvent(new CustomEvent(is,{detail:{items:e,info:t}}))}function De(n,e,t){n.dispatchEvent(new CustomEvent(ss,{detail:{items:e,info:t}}))}var Jt="draggedEntered",St="draggedLeft",Kt="draggedOverIndex",Sr="draggedLeftDocument",Mt={LEFT_FOR_ANOTHER:"leftForAnother",OUTSIDE_OF_ANY:"outsideOfAny"};function os(n,e,t){n.dispatchEvent(new CustomEvent(Jt,{detail:{indexObj:e,draggedEl:t}}))}function as(n,e,t){n.dispatchEvent(new CustomEvent(St,{detail:{draggedEl:e,type:Mt.LEFT_FOR_ANOTHER,theOtherDz:t}}))}function ls(n,e){n.dispatchEvent(new CustomEvent(St,{detail:{draggedEl:e,type:Mt.OUTSIDE_OF_ANY}}))}function cs(n,e,t){n.dispatchEvent(new CustomEvent(Kt,{detail:{indexObj:e,draggedEl:t}}))}function us(n){window.dispatchEvent(new CustomEvent(Sr,{detail:{draggedEl:n}}))}var te={DRAG_STARTED:"dragStarted",DRAGGED_ENTERED:Jt,DRAGGED_ENTERED_ANOTHER:"dragEnteredAnother",DRAGGED_OVER_INDEX:Kt,DRAGGED_LEFT:St,DRAGGED_LEFT_ALL:"draggedLeftAll",DROPPED_INTO_ZONE:"droppedIntoZone",DROPPED_INTO_ANOTHER:"droppedIntoAnother",DROPPED_OUTSIDE_OF_ANY:"droppedOutsideOfAny",DRAG_STOPPED:"dragStopped"},ne={POINTER:"pointer",KEYBOARD:"keyboard"},it="isDndShadowItem",Ar="data-is-dnd-shadow-item-internal",hs="data-is-dnd-shadow-item-hint",ds="id:dnd-shadow-placeholder-0000",fs="dnd-action-dragged-el",W="id",hr=0;function zn(){hr++}function Hn(){if(hr===0)throw new Error("Bug! trying to decrement when there are no dropzones");hr--}var Dr=typeof window>"u";function dr(n){var e,t=n.getBoundingClientRect(),r=getComputedStyle(n),i=r.transform;if(i){var s,o,a,l;if(i.startsWith("matrix3d("))e=i.slice(9,-1).split(/, /),s=+e[0],o=+e[5],a=+e[12],l=+e[13];else if(i.startsWith("matrix("))e=i.slice(7,-1).split(/, /),s=+e[0],o=+e[3],a=+e[4],l=+e[5];else return t;var c=r.transformOrigin,u=t.x-a-(1-s)*parseFloat(c),h=t.y-l-(1-o)*parseFloat(c.slice(c.indexOf(" ")+1)),d=s?t.width/s:n.offsetWidth,f=o?t.height/o:n.offsetHeight;return{x:u,y:h,width:d,height:f,top:h,right:u+d,bottom:h+f,left:u}}else return t}function Vn(n){var e=dr(n);return{top:e.top+window.scrollY,bottom:e.bottom+window.scrollY,left:e.left+window.scrollX,right:e.right+window.scrollX}}function qn(n){var e=n.getBoundingClientRect();return{top:e.top+window.scrollY,bottom:e.bottom+window.scrollY,left:e.left+window.scrollX,right:e.right+window.scrollX}}function Wn(n){return{x:(n.left+n.right)/2,y:(n.top+n.bottom)/2}}function gs(n,e){return Math.sqrt(Math.pow(n.x-e.x,2)+Math.pow(n.y-e.y,2))}function Zt(n,e){return n.y<=e.bottom&&n.y>=e.top&&n.x>=e.left&&n.x<=e.right}function wt(n){return Wn(qn(n))}function Hr(n,e){var t=wt(n),r=Vn(e);return Zt(t,r)}function ms(n,e){var t=wt(n),r=wt(e);return gs(t,r)}function ps(n){var e=qn(n);return e.right<0||e.left>document.documentElement.scrollWidth||e.bottom<0||e.top>document.documentElement.scrollHeight}var Qe;function Ir(){Qe=new Map}Ir();function vs(n){var e=Array.from(n.children).findIndex(function(t){return t.getAttribute(Ar)});if(e>=0)return Qe.has(n)||Qe.set(n,new Map),Qe.get(n).set(e,Vn(n.children[e])),e}function _s(n,e){if(!Hr(n,e))return null;var t=e.children;if(t.length===0)return{index:0,isProximityBased:!0};for(var r=vs(e),i=0;i<t.length;i++)if(Hr(n,t[i])){var s=Qe.has(e)&&Qe.get(e).get(i);return s&&!Zt(wt(n),s)?{index:r,isProximityBased:!1}:{index:i,isProximityBased:!1}}for(var o=Number.MAX_VALUE,a=void 0,l=0;l<t.length;l++){var c=ms(n,t[l]);c<o&&(o=c,a=l)}return{index:a,isProximityBased:!0}}function It(n){return JSON.stringify(n,null,2)}function Ft(n){if(!n)throw new Error("cannot get depth of a falsy node");return Jn(n,0)}function Jn(n){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return n.parentElement?Jn(n.parentElement,e+1):e-1}function ys(n,e){if(Object.keys(n).length!==Object.keys(e).length)return!1;for(var t in n)if(!{}.hasOwnProperty.call(e,t)||e[t]!==n[t])return!1;return!0}function bs(n,e){if(n.length!==e.length)return!1;for(var t=0;t<n.length;t++)if(n[t]!==e[t])return!1;return!0}var ws=200,Vr=10,fr;function Es(n,e){var t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:ws,r=arguments.length>3?arguments[3]:void 0,i,s,o=!1,a,l=Array.from(e).sort(function(u,h){return Ft(h)-Ft(u)});function c(){var u=wt(n),h=r.multiScrollIfNeeded();if(!h&&a&&Math.abs(a.x-u.x)<Vr&&Math.abs(a.y-u.y)<Vr){fr=window.setTimeout(c,t);return}if(ps(n)){us(n);return}a=u;var d=!1,f=Ot(l),g;try{for(f.s();!(g=f.n()).done;){var m=g.value;h&&Ir();var p=_s(n,m);if(p!==null){var b=p.index;d=!0,m!==i?(i&&as(i,n,m),os(m,p,n),i=m):b!==s&&(cs(m,p,n),s=b);break}}}catch(E){f.e(E)}finally{f.f()}!d&&o&&i?(ls(i,n),i=void 0,s=void 0,o=!1):o=!0,fr=window.setTimeout(c,t)}c()}function Ts(){clearTimeout(fr),Ir()}var dt=30;function ks(){var n;function e(){n={directionObj:void 0,stepPx:0}}e();function t(s){var o=n,a=o.directionObj,l=o.stepPx;a&&(s.scrollBy(a.x*l,a.y*l),window.requestAnimationFrame(function(){return t(s)}))}function r(s){return dt-s}function i(s,o){if(!o)return!1;var a=Os(s,o);if(a===null)return e(),!1;var l=!!n.directionObj,c=!1,u=!1;return o.scrollHeight>o.clientHeight&&(a.bottom<dt?(c=!0,n.directionObj={x:0,y:1},n.stepPx=r(a.bottom)):a.top<dt&&(c=!0,n.directionObj={x:0,y:-1},n.stepPx=r(a.top)),!l&&c)||o.scrollWidth>o.clientWidth&&(a.right<dt?(u=!0,n.directionObj={x:1,y:0},n.stepPx=r(a.right)):a.left<dt&&(u=!0,n.directionObj={x:-1,y:0},n.stepPx=r(a.left)),!l&&u)?(t(o),!0):(e(),!1)}return{scrollIfNeeded:i,resetScrolling:e}}function Os(n,e){var t=e===document.scrollingElement?{top:0,bottom:window.innerHeight,left:0,right:window.innerWidth}:e.getBoundingClientRect();return Zt(n,t)?{top:n.y-t.top,bottom:t.bottom-n.y,left:n.x-t.left,right:t.right-n.x}:null}function Ss(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],e=arguments.length>1?arguments[1]:void 0,t=Ds(n),r=Array.from(t).sort(function(a,l){return Ft(l)-Ft(a)}),i=ks(),s=i.scrollIfNeeded;function o(){var a=e();if(!a||!r)return!1;for(var l=r.filter(function(h){return Zt(a,h.getBoundingClientRect())||h===document.scrollingElement}),c=0;c<l.length;c++){var u=s(a,l[c]);if(u)return!0}return!1}return{multiScrollIfNeeded:t.size>0?o:function(){return!1}}}function As(n){if(!n)return[];for(var e=[],t=n;t;){var r=window.getComputedStyle(t),i=r.overflow;i.split(" ").some(function(s){return s.includes("auto")||s.includes("scroll")})&&e.push(t),t=t.parentElement}return e}function Ds(n){var e=new Set,t=Ot(n),r;try{for(t.s();!(r=t.n()).done;){var i=r.value;As(i).forEach(function(s){return e.add(s)})}}catch(s){t.e(s)}finally{t.f()}return(document.scrollingElement.scrollHeight>document.scrollingElement.clientHeight||document.scrollingElement.scrollWidth>document.scrollingElement.clientHeight)&&e.add(document.scrollingElement),e}function Is(n){var e=n.cloneNode(!0),t=[],r=n.tagName==="SELECT",i=r?[n]:le(n.querySelectorAll("select")),s=Ot(i),o;try{for(s.s();!(o=s.n()).done;){var a=o.value;t.push(a.value)}}catch(A){s.e(A)}finally{s.f()}if(i.length>0)for(var l=r?[e]:le(e.querySelectorAll("select")),c=0;c<l.length;c++){var u=l[c],h=t[c],d=u.querySelector('option[value="'.concat(h,'"'));d&&d.setAttribute("selected",!0)}var f=n.tagName==="CANVAS",g=f?[n]:le(n.querySelectorAll("canvas"));if(g.length>0)for(var m=f?[e]:le(e.querySelectorAll("canvas")),p=0;p<m.length;p++){var b=g[p],E=m[p];E.width=b.width,E.height=b.height,E.getContext("2d").drawImage(b,0,0)}return e}var Et=Object.freeze({USE_COMPUTED_STYLE_INSTEAD_OF_BOUNDING_RECT:"USE_COMPUTED_STYLE_INSTEAD_OF_BOUNDING_RECT"}),Rs=rt({},Et.USE_COMPUTED_STYLE_INSTEAD_OF_BOUNDING_RECT,!1);function Kn(n){if(!Et[n])throw new Error("Can't get non existing feature flag ".concat(n,"! Supported flags: ").concat(Object.keys(Et)));return Rs[n]}var Cs=.2;function Re(n){return"".concat(n," ").concat(Cs,"s ease")}function Ps(n,e){var t=n.getBoundingClientRect(),r=Is(n);Zn(n,r),r.id=fs,r.style.position="fixed";var i=t.top,s=t.left;if(r.style.top="".concat(i,"px"),r.style.left="".concat(s,"px"),e){var o=Wn(t);i-=o.y-e.y,s-=o.x-e.x,window.setTimeout(function(){r.style.top="".concat(i,"px"),r.style.left="".concat(s,"px")},0)}return r.style.margin="0",r.style.boxSizing="border-box",r.style.height="".concat(t.height,"px"),r.style.width="".concat(t.width,"px"),r.style.transition="".concat(Re("top"),", ").concat(Re("left"),", ").concat(Re("background-color"),", ").concat(Re("opacity"),", ").concat(Re("color")," "),window.setTimeout(function(){return r.style.transition+=", ".concat(Re("width"),", ").concat(Re("height"))},0),r.style.zIndex="9999",r.style.cursor="grabbing",r}function $s(n){n.style.cursor="grab"}function js(n,e,t,r){Zn(e,n);var i=e.getBoundingClientRect(),s=n.getBoundingClientRect(),o=i.width-s.width,a=i.height-s.height;if(o||a){var l={left:(t-s.left)/s.width,top:(r-s.top)/s.height};Kn(Et.USE_COMPUTED_STYLE_INSTEAD_OF_BOUNDING_RECT)||(n.style.height="".concat(i.height,"px"),n.style.width="".concat(i.width,"px")),n.style.left="".concat(parseFloat(n.style.left)-l.left*o,"px"),n.style.top="".concat(parseFloat(n.style.top)-l.top*a,"px")}}function Zn(n,e){var t=window.getComputedStyle(n);Array.from(t).filter(function(r){return r.startsWith("background")||r.startsWith("padding")||r.startsWith("font")||r.startsWith("text")||r.startsWith("align")||r.startsWith("justify")||r.startsWith("display")||r.startsWith("flex")||r.startsWith("border")||r==="opacity"||r==="color"||r==="list-style-type"||Kn(Et.USE_COMPUTED_STYLE_INSTEAD_OF_BOUNDING_RECT)&&(r==="width"||r==="height")}).forEach(function(r){return e.style.setProperty(r,t.getPropertyValue(r),t.getPropertyPriority(r))})}function Ls(n,e){n.draggable=!1,n.ondragstart=function(){return!1},e?(n.style.userSelect="",n.style.WebkitUserSelect="",n.style.cursor=""):(n.style.userSelect="none",n.style.WebkitUserSelect="none",n.style.cursor="grab")}function Yn(n){n.style.display="none",n.style.position="fixed",n.style.zIndex="-5"}function Ns(n){n.style.visibility="hidden",n.setAttribute(Ar,"true")}function xs(n){n.style.visibility="",n.removeAttribute(Ar)}function jt(n){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:function(){},t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:function(){return[]};n.forEach(function(r){var i=e(r);Object.keys(i).forEach(function(s){r.style[s]=i[s]}),t(r).forEach(function(s){return r.classList.add(s)})})}function Bt(n){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:function(){},t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:function(){return[]};n.forEach(function(r){var i=e(r);Object.keys(i).forEach(function(s){r.style[s]=""}),t(r).forEach(function(s){return r.classList.contains(s)&&r.classList.remove(s)})})}function Us(n){var e=n.style.minHeight;n.style.minHeight=window.getComputedStyle(n).getPropertyValue("height");var t=n.style.minWidth;return n.style.minWidth=window.getComputedStyle(n).getPropertyValue("width"),function(){n.style.minHeight=e,n.style.minWidth=t}}var Ms="--any--",Fs=100,Bs=20,qr=3,Wr={outline:"rgba(255, 255, 102, 0.7) solid 2px"},Jr="data-is-dnd-original-dragged-item",_e,Z,re,Yt,M,Qt,Ae,Q,ke,se,Ne=!1,Rr=!1,Cr,At=!1,Lt=[],fe=new Map,z=new Map,rr=new WeakMap;function Gs(n,e){fe.has(e)||fe.set(e,new Set),fe.get(e).has(n)||(fe.get(e).add(n),zn())}function Kr(n,e){fe.get(e).delete(n),Hn(),fe.get(e).size===0&&fe.delete(e)}function zs(){var n=fe.get(Yt),e=Ot(n),t;try{for(e.s();!(t=e.n()).done;){var r=t.value;r.addEventListener(Jt,Qn),r.addEventListener(St,Xn),r.addEventListener(Kt,ei)}}catch(a){e.e(a)}finally{e.f()}window.addEventListener(Sr,st);var i=Math.max.apply(Math,le(Array.from(n.keys()).map(function(a){return z.get(a).dropAnimationDurationMs}))),s=i===0?Bs:Math.max(i,Fs),o=Ss(n,function(){return se});Es(Z,n,s*1.07,o)}function Hs(){var n=fe.get(Yt),e=Ot(n),t;try{for(e.s();!(t=e.n()).done;){var r=t.value;r.removeEventListener(Jt,Qn),r.removeEventListener(St,Xn),r.removeEventListener(Kt,ei)}}catch(i){e.e(i)}finally{e.f()}window.removeEventListener(Sr,st),Ts()}function Xt(n){return n.findIndex(function(e){return!!e[it]})}function Vs(n){var e;return Ut(Ut({},n),{},(e={},rt(e,it,!0),rt(e,W,ds),e))}function Qn(n){var e=z.get(n.currentTarget),t=e.items,r=e.dropFromOthersDisabled;if(!(r&&n.currentTarget!==M)){if(At=!1,t=t.filter(function(u){return u[W]!==Ae[W]}),M!==n.currentTarget){var i=z.get(M).items,s=i.filter(function(u){return!u[it]});De(M,s,{trigger:te.DRAGGED_ENTERED_ANOTHER,id:re[W],source:ne.POINTER})}var o=n.detail.indexObj,a=o.index,l=o.isProximityBased,c=l&&a===n.currentTarget.children.length-1?a+1:a;Q=n.currentTarget,t.splice(c,0,Ae),De(n.currentTarget,t,{trigger:te.DRAGGED_ENTERED,id:re[W],source:ne.POINTER})}}function Xn(n){if(Ne){var e=z.get(n.currentTarget),t=e.items,r=e.dropFromOthersDisabled;if(!(r&&n.currentTarget!==M&&n.currentTarget!==Q)){var i=le(t),s=Xt(i);s!==-1&&i.splice(s,1);var o=Q;Q=void 0;var a=n.detail,l=a.type,c=a.theOtherDz;if(l===Mt.OUTSIDE_OF_ANY||l===Mt.LEFT_FOR_ANOTHER&&c!==M&&z.get(c).dropFromOthersDisabled){At=!0,Q=M;var u=o===M?i:le(z.get(M).items);u.splice(Qt,0,Ae),De(M,u,{trigger:te.DRAGGED_LEFT_ALL,id:re[W],source:ne.POINTER})}De(n.currentTarget,i,{trigger:te.DRAGGED_LEFT,id:re[W],source:ne.POINTER})}}}function ei(n){var e=z.get(n.currentTarget),t=e.items,r=e.dropFromOthersDisabled;if(!(r&&n.currentTarget!==M)){var i=le(t);At=!1;var s=n.detail.indexObj.index,o=Xt(i);o!==-1&&i.splice(o,1),i.splice(s,0,Ae),De(n.currentTarget,i,{trigger:te.DRAGGED_OVER_INDEX,id:re[W],source:ne.POINTER})}}function Gt(n){n.preventDefault();var e=n.touches?n.touches[0]:n;se={x:e.clientX,y:e.clientY},Z.style.transform="translate3d(".concat(se.x-ke.x,"px, ").concat(se.y-ke.y,"px, 0)")}function st(){Rr=!0,window.removeEventListener("mousemove",Gt),window.removeEventListener("touchmove",Gt),window.removeEventListener("mouseup",st),window.removeEventListener("touchend",st),Hs(),$s(Z),Q||(Q=M);var n=z.get(Q),e=n.items,t=n.type;Bt(fe.get(t),function(s){return z.get(s).dropTargetStyle},function(s){return z.get(s).dropTargetClasses});var r=Xt(e);r===-1&&Q===M&&(r=Qt),e=e.map(function(s){return s[it]?re:s});function i(){Cr(),nt(Q,e,{trigger:At?te.DROPPED_OUTSIDE_OF_ANY:te.DROPPED_INTO_ZONE,id:re[W],source:ne.POINTER}),Q!==M&&nt(M,z.get(M).items,{trigger:te.DROPPED_INTO_ANOTHER,id:re[W],source:ne.POINTER}),r!==-1&&xs(Q.children[r]),Js()}qs(r,i)}function qs(n,e){var t=n>-1?dr(Q.children[n]):dr(Q),r={x:t.left-parseFloat(Z.style.left),y:t.top-parseFloat(Z.style.top)},i=z.get(Q),s=i.dropAnimationDurationMs,o="transform ".concat(s,"ms ease");Z.style.transition=Z.style.transition?Z.style.transition+","+o:o,Z.style.transform="translate3d(".concat(r.x,"px, ").concat(r.y,"px, 0)"),window.setTimeout(e,s)}function Ws(n,e){Lt.push({dz:n,destroy:e}),window.requestAnimationFrame(function(){Yn(n),document.body.appendChild(n)})}function Js(){Z.remove(),_e.remove(),Lt.length&&(Lt.forEach(function(n){var e=n.dz,t=n.destroy;t(),e.remove()}),Lt=[]),Z=void 0,_e=void 0,re=void 0,Yt=void 0,M=void 0,Qt=void 0,Ae=void 0,Q=void 0,ke=void 0,se=void 0,Ne=!1,Rr=!1,Cr=void 0,At=!1}function Ks(n,e){var t=!1,r={items:void 0,type:void 0,flipDurationMs:0,dragDisabled:!1,morphDisabled:!1,dropFromOthersDisabled:!1,dropTargetStyle:Wr,dropTargetClasses:[],transformDraggedElement:function(){},centreDraggedOnCursor:!1},i=new Map;function s(){window.addEventListener("mousemove",l,{passive:!1}),window.addEventListener("touchmove",l,{passive:!1,capture:!1}),window.addEventListener("mouseup",a,{passive:!1}),window.addEventListener("touchend",a,{passive:!1})}function o(){window.removeEventListener("mousemove",l),window.removeEventListener("touchmove",l),window.removeEventListener("mouseup",a),window.removeEventListener("touchend",a)}function a(){o(),_e=void 0,ke=void 0,se=void 0}function l(d){d.preventDefault();var f=d.touches?d.touches[0]:d;se={x:f.clientX,y:f.clientY},(Math.abs(se.x-ke.x)>=qr||Math.abs(se.y-ke.y)>=qr)&&(o(),u())}function c(d){if(!(d.target!==d.currentTarget&&(d.target.value!==void 0||d.target.isContentEditable))&&!d.button&&!Ne){d.stopPropagation();var f=d.touches?d.touches[0]:d;ke={x:f.clientX,y:f.clientY},se=Ut({},ke),_e=d.currentTarget,s()}}function u(){Ne=!0;var d=i.get(_e);Qt=d,M=_e.parentElement;var f=M.closest("dialog")||M.getRootNode(),g=f.body||f,m=r.items,p=r.type,b=r.centreDraggedOnCursor,E=le(m);re=E[d],Yt=p,Ae=Vs(re),Z=Ps(_e,b&&se),_e.setAttribute(Jr,!0);function A(){Z.parentElement?window.requestAnimationFrame(A):(g.appendChild(Z),Z.focus(),zs(),Yn(_e),g.appendChild(_e),Ae[W]=re[W])}window.requestAnimationFrame(A),jt(Array.from(fe.get(r.type)).filter(function(k){return k===M||!z.get(k).dropFromOthersDisabled}),function(k){return z.get(k).dropTargetStyle},function(k){return z.get(k).dropTargetClasses}),E.splice(d,1,Ae),Cr=Us(M),De(M,E,{trigger:te.DRAG_STARTED,id:re[W],source:ne.POINTER}),window.addEventListener("mousemove",Gt,{passive:!1}),window.addEventListener("touchmove",Gt,{passive:!1,capture:!1}),window.addEventListener("mouseup",st,{passive:!1}),window.addEventListener("touchend",st,{passive:!1})}function h(d){var f=d.items,g=f===void 0?void 0:f,m=d.flipDurationMs,p=m===void 0?0:m,b=d.type,E=b===void 0?Ms:b,A=d.dragDisabled,k=A===void 0?!1:A,O=d.morphDisabled,R=O===void 0?!1:O,_=d.dropFromOthersDisabled,w=_===void 0?!1:_,P=d.dropTargetStyle,H=P===void 0?Wr:P,V=d.dropTargetClasses,L=V===void 0?[]:V,j=d.transformDraggedElement,S=j===void 0?function(){}:j,U=d.centreDraggedOnCursor,Ie=U===void 0?!1:U;r.dropAnimationDurationMs=p,r.type&&E!==r.type&&Kr(n,r.type),r.type=E,r.items=le(g),r.dragDisabled=k,r.morphDisabled=R,r.transformDraggedElement=S,r.centreDraggedOnCursor=Ie,t&&Ne&&!Rr&&(!ys(H,r.dropTargetStyle)||!bs(L,r.dropTargetClasses))&&(Bt([n],function(){return r.dropTargetStyle},function(){return L}),jt([n],function(){return H},function(){return L})),r.dropTargetStyle=H,r.dropTargetClasses=le(L);function q(me,Ur){return z.get(me)?z.get(me)[Ur]:r[Ur]}t&&Ne&&r.dropFromOthersDisabled!==w&&(w?Bt([n],function(me){return q(me,"dropTargetStyle")},function(me){return q(me,"dropTargetClasses")}):jt([n],function(me){return q(me,"dropTargetStyle")},function(me){return q(me,"dropTargetClasses")})),r.dropFromOthersDisabled=w,z.set(n,r),Gs(n,E);for(var pi=Xt(r.items),Ge=0;Ge<n.children.length;Ge++){var ce=n.children[Ge];if(Ls(ce,k),Ge===pi){r.transformDraggedElement(Z,re,Ge),R||js(Z,ce,se.x,se.y),Ns(ce);continue}ce.removeEventListener("mousedown",rr.get(ce)),ce.removeEventListener("touchstart",rr.get(ce)),k||(ce.addEventListener("mousedown",c),ce.addEventListener("touchstart",c),rr.set(ce,c)),i.set(ce,Ge),t||(t=!0)}}return h(e),{update:function(f){h(f)},destroy:function(){function f(){Kr(n,z.get(n).type),z.delete(n)}Ne&&!n.closest("[".concat(Jr,"]"))?Ws(n,f):f()}}}var Rt,gr={DND_ZONE_ACTIVE:"dnd-zone-active",DND_ZONE_DRAG_DISABLED:"dnd-zone-drag-disabled"},ti=(Rt={},rt(Rt,gr.DND_ZONE_ACTIVE,"Tab to one the items and press space-bar or enter to start dragging it"),rt(Rt,gr.DND_ZONE_DRAG_DISABLED,"This is a disabled drag and drop list"),Rt),Zs="dnd-action-aria-alert",G;function mr(){G||(G=document.createElement("div"),function(){G.id=Zs,G.style.position="fixed",G.style.bottom="0",G.style.left="0",G.style.zIndex="-5",G.style.opacity="0",G.style.height="0",G.style.width="0",G.setAttribute("role","alert")}(),document.body.prepend(G),Object.entries(ti).forEach(function(n){var e=Yi(n,2),t=e[0],r=e[1];return document.body.prepend(Xs(t,r))}))}function Ys(){return Dr?null:(document.readyState==="complete"?mr():window.addEventListener("DOMContentLoaded",mr),Ut({},gr))}function Qs(){Dr||!G||(Object.keys(ti).forEach(function(n){var e;return(e=document.getElementById(n))===null||e===void 0?void 0:e.remove()}),G.remove(),G=void 0)}function Xs(n,e){var t=document.createElement("div");return t.id=n,t.innerHTML="<p>".concat(e,"</p>"),t.style.display="none",t.style.position="fixed",t.style.zIndex="-5",t}function Xe(n){if(!Dr){G||mr(),G.innerHTML="";var e=document.createTextNode(n);G.appendChild(e),G.style.display="none",G.style.display="inline"}}var eo="--any--",Zr={outline:"rgba(255, 255, 102, 0.7) solid 2px"},ae=!1,pr,X,Ue="",$e,ye,Se="",zt=new WeakSet,Yr=new WeakMap,Qr=new WeakMap,vr=new Map,K=new Map,de=new Map,Ht;function to(n,e){de.size===0&&(Ht=Ys(),window.addEventListener("keydown",ri),window.addEventListener("click",ni)),de.has(e)||de.set(e,new Set),de.get(e).has(n)||(de.get(e).add(n),zn())}function Xr(n,e){X===n&&Tt(),de.get(e).delete(n),Hn(),de.get(e).size===0&&de.delete(e),de.size===0&&(window.removeEventListener("keydown",ri),window.removeEventListener("click",ni),Ht=void 0,Qs())}function ri(n){if(ae)switch(n.key){case"Escape":{Tt();break}}}function ni(){ae&&(zt.has(document.activeElement)||Tt())}function ro(n){if(ae){var e=n.currentTarget;if(e!==X){Ue=e.getAttribute("aria-label")||"";var t=K.get(X),r=t.items,i=r.find(function(h){return h[W]===ye}),s=r.indexOf(i),o=r.splice(s,1)[0],a=K.get(e),l=a.items,c=a.autoAriaDisabled;e.getBoundingClientRect().top<X.getBoundingClientRect().top||e.getBoundingClientRect().left<X.getBoundingClientRect().left?(l.push(o),c||Xe("Moved item ".concat(Se," to the end of the list ").concat(Ue))):(l.unshift(o),c||Xe("Moved item ".concat(Se," to the beginning of the list ").concat(Ue)));var u=X;nt(u,r,{trigger:te.DROPPED_INTO_ANOTHER,id:ye,source:ne.KEYBOARD}),nt(e,l,{trigger:te.DROPPED_INTO_ZONE,id:ye,source:ne.KEYBOARD}),X=e}}}function ii(){vr.forEach(function(n,e){var t=n.update;return t(K.get(e))})}function Tt(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;K.get(X).autoAriaDisabled||Xe("Stopped dragging item ".concat(Se)),zt.has(document.activeElement)&&document.activeElement.blur(),n&&De(X,K.get(X).items,{trigger:te.DRAG_STOPPED,id:ye,source:ne.KEYBOARD}),Bt(de.get(pr),function(e){return K.get(e).dropTargetStyle},function(e){return K.get(e).dropTargetClasses}),$e=null,ye=null,Se="",pr=null,X=null,Ue="",ae=!1,ii()}function no(n,e){var t={items:void 0,type:void 0,dragDisabled:!1,zoneTabIndex:0,zoneItemTabIndex:0,dropFromOthersDisabled:!1,dropTargetStyle:Zr,dropTargetClasses:[],autoAriaDisabled:!1};function r(u,h,d){u.length<=1||u.splice(d,1,u.splice(h,1,u[d])[0])}function i(u){switch(u.key){case"Enter":case" ":{if((u.target.disabled!==void 0||u.target.href||u.target.isContentEditable)&&!zt.has(u.target))return;u.preventDefault(),u.stopPropagation(),ae?Tt():s(u);break}case"ArrowDown":case"ArrowRight":{if(!ae)return;u.preventDefault(),u.stopPropagation();var h=K.get(n),d=h.items,f=Array.from(n.children),g=f.indexOf(u.currentTarget);g<f.length-1&&(t.autoAriaDisabled||Xe("Moved item ".concat(Se," to position ").concat(g+2," in the list ").concat(Ue)),r(d,g,g+1),nt(n,d,{trigger:te.DROPPED_INTO_ZONE,id:ye,source:ne.KEYBOARD}));break}case"ArrowUp":case"ArrowLeft":{if(!ae)return;u.preventDefault(),u.stopPropagation();var m=K.get(n),p=m.items,b=Array.from(n.children),E=b.indexOf(u.currentTarget);E>0&&(t.autoAriaDisabled||Xe("Moved item ".concat(Se," to position ").concat(E," in the list ").concat(Ue)),r(p,E,E-1),nt(n,p,{trigger:te.DROPPED_INTO_ZONE,id:ye,source:ne.KEYBOARD}));break}}}function s(u){a(u.currentTarget),X=n,pr=t.type,ae=!0;var h=Array.from(de.get(t.type)).filter(function(f){return f===X||!K.get(f).dropFromOthersDisabled});if(jt(h,function(f){return K.get(f).dropTargetStyle},function(f){return K.get(f).dropTargetClasses}),!t.autoAriaDisabled){var d="Started dragging item ".concat(Se,". Use the arrow keys to move it within its list ").concat(Ue);h.length>1&&(d+=", or tab to another list in order to move the item into it"),Xe(d)}De(n,K.get(n).items,{trigger:te.DRAG_STARTED,id:ye,source:ne.KEYBOARD}),ii()}function o(u){ae&&u.currentTarget!==$e&&(u.stopPropagation(),Tt(!1),s(u))}function a(u){var h=K.get(n),d=h.items,f=Array.from(n.children),g=f.indexOf(u);$e=u,$e.tabIndex=t.zoneItemTabIndex,ye=d[g][W],Se=f[g].getAttribute("aria-label")||""}function l(u){var h=u.items,d=h===void 0?[]:h,f=u.type,g=f===void 0?eo:f,m=u.dragDisabled,p=m===void 0?!1:m,b=u.zoneTabIndex,E=b===void 0?0:b,A=u.zoneItemTabIndex,k=A===void 0?0:A,O=u.dropFromOthersDisabled,R=O===void 0?!1:O,_=u.dropTargetStyle,w=_===void 0?Zr:_,P=u.dropTargetClasses,H=P===void 0?[]:P,V=u.autoAriaDisabled,L=V===void 0?!1:V;t.items=le(d),t.dragDisabled=p,t.dropFromOthersDisabled=R,t.zoneTabIndex=E,t.zoneItemTabIndex=k,t.dropTargetStyle=w,t.dropTargetClasses=H,t.autoAriaDisabled=L,t.type&&g!==t.type&&Xr(n,t.type),t.type=g,to(n,g),L||(n.setAttribute("aria-disabled",p),n.setAttribute("role","list"),n.setAttribute("aria-describedby",p?Ht.DND_ZONE_DRAG_DISABLED:Ht.DND_ZONE_ACTIVE)),K.set(n,t),ae?n.tabIndex=n===X||$e.contains(n)||t.dropFromOthersDisabled||X&&t.type!==K.get(X).type?-1:0:n.tabIndex=t.zoneTabIndex,n.addEventListener("focus",ro);for(var j=function(Ie){var q=n.children[Ie];zt.add(q),q.tabIndex=ae?-1:t.zoneItemTabIndex,L||q.setAttribute("role","listitem"),q.removeEventListener("keydown",Yr.get(q)),q.removeEventListener("click",Qr.get(q)),p||(q.addEventListener("keydown",i),Yr.set(q,i),q.addEventListener("click",o),Qr.set(q,o)),ae&&t.items[Ie][W]===ye&&($e=q,$e.tabIndex=t.zoneItemTabIndex,q.focus())},S=0;S<n.children.length;S++)j(S)}l(e);var c={update:function(h){l(h)},destroy:function(){Xr(n,t.type),K.delete(n),vr.delete(n)}};return vr.set(n,c),c}var io=["items","flipDurationMs","type","dragDisabled","morphDisabled","dropFromOthersDisabled","zoneTabIndex","zoneItemTabIndex","dropTargetStyle","dropTargetClasses","transformDraggedElement","autoAriaDisabled","centreDraggedOnCursor"];function so(n,e){if(oo(n))return{update:function(){},destroy:function(){}};en(e);var t=Ks(n,e),r=no(n,e);return{update:function(s){en(s),t.update(s),r.update(s)},destroy:function(){t.destroy(),r.destroy()}}}function oo(n){return!!n.closest("[".concat(hs,'="true"]'))}function en(n){var e=n.items;n.flipDurationMs,n.type,n.dragDisabled,n.morphDisabled,n.dropFromOthersDisabled;var t=n.zoneTabIndex,r=n.zoneItemTabIndex;n.dropTargetStyle;var i=n.dropTargetClasses;n.transformDraggedElement,n.autoAriaDisabled,n.centreDraggedOnCursor;var s=Zi(n,io);if(Object.keys(s).length>0&&console.warn("dndzone will ignore unknown options",s),!e)throw new Error("no 'items' key provided to dndzone");var o=e.find(function(a){return!{}.hasOwnProperty.call(a,W)});if(o)throw new Error("missing '".concat(W,"' property for item ").concat(It(o)));if(i&&!Array.isArray(i))throw new Error("dropTargetClasses should be an array but instead it is a ".concat(vt(i),", ").concat(It(i)));if(t&&!tn(t))throw new Error("zoneTabIndex should be a number but instead it is a ".concat(vt(t),", ").concat(It(t)));if(r&&!tn(r))throw new Error("zoneItemTabIndex should be a number but instead it is a ".concat(vt(r),", ").concat(It(r)))}function tn(n){return!isNaN(n)&&function(e){return(e|0)===e}(parseFloat(n))}const ao=n=>{let e;return n?e=n:typeof fetch>"u"?e=(...t)=>tt(()=>Promise.resolve().then(()=>Dt),void 0,import.meta.url).then(({default:r})=>r(...t)):e=fetch,(...t)=>e(...t)};class Pr extends Error{constructor(e,t="FunctionsError",r){super(e),this.name=t,this.context=r}}class lo extends Pr{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class co extends Pr{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class uo extends Pr{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var ho=function(n,e,t,r){function i(s){return s instanceof t?s:new t(function(o){o(s)})}return new(t||(t=Promise))(function(s,o){function a(u){try{c(r.next(u))}catch(h){o(h)}}function l(u){try{c(r.throw(u))}catch(h){o(h)}}function c(u){u.done?s(u.value):i(u.value).then(a,l)}c((r=r.apply(n,e||[])).next())})};class fo{constructor(e,{headers:t={},customFetch:r}={}){this.url=e,this.headers=t,this.fetch=ao(r)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e,t={}){var r;return ho(this,void 0,void 0,function*(){try{const{headers:i,method:s,body:o}=t;let a={},l;o&&(i&&!Object.prototype.hasOwnProperty.call(i,"Content-Type")||!i)&&(typeof Blob<"u"&&o instanceof Blob||o instanceof ArrayBuffer?(a["Content-Type"]="application/octet-stream",l=o):typeof o=="string"?(a["Content-Type"]="text/plain",l=o):typeof FormData<"u"&&o instanceof FormData?l=o:(a["Content-Type"]="application/json",l=JSON.stringify(o)));const c=yield this.fetch(`${this.url}/${e}`,{method:s||"POST",headers:Object.assign(Object.assign(Object.assign({},a),this.headers),i),body:l}).catch(f=>{throw new lo(f)}),u=c.headers.get("x-relay-error");if(u&&u==="true")throw new co(c);if(!c.ok)throw new uo(c);let h=((r=c.headers.get("Content-Type"))!==null&&r!==void 0?r:"text/plain").split(";")[0].trim(),d;return h==="application/json"?d=yield c.json():h==="application/octet-stream"?d=yield c.blob():h==="multipart/form-data"?d=yield c.formData():d=yield c.text(),{data:d,error:null}}catch(i){return{data:null,error:i}}})}}var go=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},ot=go();const mo=ot.fetch,$r=ot.fetch.bind(ot),si=ot.Headers,po=ot.Request,vo=ot.Response,Dt=Object.freeze(Object.defineProperty({__proto__:null,Headers:si,Request:po,Response:vo,default:$r,fetch:mo},Symbol.toStringTag,{value:"Module"}));class _o extends Error{constructor(e){super(e.message),this.name="PostgrestError",this.details=e.details,this.hint=e.hint,this.code=e.code}}class yo{constructor(e){this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=e.headers,this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=e.shouldThrowOnError,this.signal=e.signal,this.isMaybeSingle=e.isMaybeSingle,e.fetch?this.fetch=e.fetch:typeof fetch>"u"?this.fetch=$r:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}then(e,t){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const r=this.fetch;let i=r(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async s=>{var o,a,l;let c=null,u=null,h=null,d=s.status,f=s.statusText;if(s.ok){if(this.method!=="HEAD"){const b=await s.text();b===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?u=b:u=JSON.parse(b))}const m=(o=this.headers.Prefer)===null||o===void 0?void 0:o.match(/count=(exact|planned|estimated)/),p=(a=s.headers.get("content-range"))===null||a===void 0?void 0:a.split("/");m&&p&&p.length>1&&(h=parseInt(p[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(u)&&(u.length>1?(c={code:"PGRST116",details:`Results contain ${u.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},u=null,h=null,d=406,f="Not Acceptable"):u.length===1?u=u[0]:u=null)}else{const m=await s.text();try{c=JSON.parse(m),Array.isArray(c)&&s.status===404&&(u=[],c=null,d=200,f="OK")}catch{s.status===404&&m===""?(d=204,f="No Content"):c={message:m}}if(c&&this.isMaybeSingle&&(!((l=c==null?void 0:c.details)===null||l===void 0)&&l.includes("0 rows"))&&(c=null,d=200,f="OK"),c&&this.shouldThrowOnError)throw new _o(c)}return{error:c,data:u,count:h,status:d,statusText:f}});return this.shouldThrowOnError||(i=i.catch(s=>{var o,a,l;return{error:{message:`${(o=s==null?void 0:s.name)!==null&&o!==void 0?o:"FetchError"}: ${s==null?void 0:s.message}`,details:`${(a=s==null?void 0:s.stack)!==null&&a!==void 0?a:""}`,hint:"",code:`${(l=s==null?void 0:s.code)!==null&&l!==void 0?l:""}`},data:null,count:null,status:0,statusText:""}})),i.then(e,t)}}class bo extends yo{select(e){let t=!1;const r=(e??"*").split("").map(i=>/\s/.test(i)&&!t?"":(i==='"'&&(t=!t),i)).join("");return this.url.searchParams.set("select",r),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(e,{ascending:t=!0,nullsFirst:r,foreignTable:i,referencedTable:s=i}={}){const o=s?`${s}.order`:"order",a=this.url.searchParams.get(o);return this.url.searchParams.set(o,`${a?`${a},`:""}${e}.${t?"asc":"desc"}${r===void 0?"":r?".nullsfirst":".nullslast"}`),this}limit(e,{foreignTable:t,referencedTable:r=t}={}){const i=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(i,`${e}`),this}range(e,t,{foreignTable:r,referencedTable:i=r}={}){const s=typeof i>"u"?"offset":`${i}.offset`,o=typeof i>"u"?"limit":`${i}.limit`;return this.url.searchParams.set(s,`${e}`),this.url.searchParams.set(o,`${t-e+1}`),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:e=!1,verbose:t=!1,settings:r=!1,buffers:i=!1,wal:s=!1,format:o="text"}={}){var a;const l=[e?"analyze":null,t?"verbose":null,r?"settings":null,i?"buffers":null,s?"wal":null].filter(Boolean).join("|"),c=(a=this.headers.Accept)!==null&&a!==void 0?a:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${o}; for="${c}"; options=${l};`,o==="json"?this:this}rollback(){var e;return((e=this.headers.Prefer)!==null&&e!==void 0?e:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}}class Je extends bo{eq(e,t){return this.url.searchParams.append(e,`eq.${t}`),this}neq(e,t){return this.url.searchParams.append(e,`neq.${t}`),this}gt(e,t){return this.url.searchParams.append(e,`gt.${t}`),this}gte(e,t){return this.url.searchParams.append(e,`gte.${t}`),this}lt(e,t){return this.url.searchParams.append(e,`lt.${t}`),this}lte(e,t){return this.url.searchParams.append(e,`lte.${t}`),this}like(e,t){return this.url.searchParams.append(e,`like.${t}`),this}likeAllOf(e,t){return this.url.searchParams.append(e,`like(all).{${t.join(",")}}`),this}likeAnyOf(e,t){return this.url.searchParams.append(e,`like(any).{${t.join(",")}}`),this}ilike(e,t){return this.url.searchParams.append(e,`ilike.${t}`),this}ilikeAllOf(e,t){return this.url.searchParams.append(e,`ilike(all).{${t.join(",")}}`),this}ilikeAnyOf(e,t){return this.url.searchParams.append(e,`ilike(any).{${t.join(",")}}`),this}is(e,t){return this.url.searchParams.append(e,`is.${t}`),this}in(e,t){const r=t.map(i=>typeof i=="string"&&new RegExp("[,()]").test(i)?`"${i}"`:`${i}`).join(",");return this.url.searchParams.append(e,`in.(${r})`),this}contains(e,t){return typeof t=="string"?this.url.searchParams.append(e,`cs.${t}`):Array.isArray(t)?this.url.searchParams.append(e,`cs.{${t.join(",")}}`):this.url.searchParams.append(e,`cs.${JSON.stringify(t)}`),this}containedBy(e,t){return typeof t=="string"?this.url.searchParams.append(e,`cd.${t}`):Array.isArray(t)?this.url.searchParams.append(e,`cd.{${t.join(",")}}`):this.url.searchParams.append(e,`cd.${JSON.stringify(t)}`),this}rangeGt(e,t){return this.url.searchParams.append(e,`sr.${t}`),this}rangeGte(e,t){return this.url.searchParams.append(e,`nxl.${t}`),this}rangeLt(e,t){return this.url.searchParams.append(e,`sl.${t}`),this}rangeLte(e,t){return this.url.searchParams.append(e,`nxr.${t}`),this}rangeAdjacent(e,t){return this.url.searchParams.append(e,`adj.${t}`),this}overlaps(e,t){return typeof t=="string"?this.url.searchParams.append(e,`ov.${t}`):this.url.searchParams.append(e,`ov.{${t.join(",")}}`),this}textSearch(e,t,{config:r,type:i}={}){let s="";i==="plain"?s="pl":i==="phrase"?s="ph":i==="websearch"&&(s="w");const o=r===void 0?"":`(${r})`;return this.url.searchParams.append(e,`${s}fts${o}.${t}`),this}match(e){return Object.entries(e).forEach(([t,r])=>{this.url.searchParams.append(t,`eq.${r}`)}),this}not(e,t,r){return this.url.searchParams.append(e,`not.${t}.${r}`),this}or(e,{foreignTable:t,referencedTable:r=t}={}){const i=r?`${r}.or`:"or";return this.url.searchParams.append(i,`(${e})`),this}filter(e,t,r){return this.url.searchParams.append(e,`${t}.${r}`),this}}class wo{constructor(e,{headers:t={},schema:r,fetch:i}){this.url=e,this.headers=t,this.schema=r,this.fetch=i}select(e,{head:t=!1,count:r}={}){const i=t?"HEAD":"GET";let s=!1;const o=(e??"*").split("").map(a=>/\s/.test(a)&&!s?"":(a==='"'&&(s=!s),a)).join("");return this.url.searchParams.set("select",o),r&&(this.headers.Prefer=`count=${r}`),new Je({method:i,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(e,{count:t,defaultToNull:r=!0}={}){const i="POST",s=[];if(this.headers.Prefer&&s.push(this.headers.Prefer),t&&s.push(`count=${t}`),r||s.push("missing=default"),this.headers.Prefer=s.join(","),Array.isArray(e)){const o=e.reduce((a,l)=>a.concat(Object.keys(l)),[]);if(o.length>0){const a=[...new Set(o)].map(l=>`"${l}"`);this.url.searchParams.set("columns",a.join(","))}}return new Je({method:i,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}upsert(e,{onConflict:t,ignoreDuplicates:r=!1,count:i,defaultToNull:s=!0}={}){const o="POST",a=[`resolution=${r?"ignore":"merge"}-duplicates`];if(t!==void 0&&this.url.searchParams.set("on_conflict",t),this.headers.Prefer&&a.push(this.headers.Prefer),i&&a.push(`count=${i}`),s||a.push("missing=default"),this.headers.Prefer=a.join(","),Array.isArray(e)){const l=e.reduce((c,u)=>c.concat(Object.keys(u)),[]);if(l.length>0){const c=[...new Set(l)].map(u=>`"${u}"`);this.url.searchParams.set("columns",c.join(","))}}return new Je({method:o,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}update(e,{count:t}={}){const r="PATCH",i=[];return this.headers.Prefer&&i.push(this.headers.Prefer),t&&i.push(`count=${t}`),this.headers.Prefer=i.join(","),new Je({method:r,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}delete({count:e}={}){const t="DELETE",r=[];return e&&r.push(`count=${e}`),this.headers.Prefer&&r.unshift(this.headers.Prefer),this.headers.Prefer=r.join(","),new Je({method:t,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}}const Eo="1.9.2",To={"X-Client-Info":`postgrest-js/${Eo}`};class jr{constructor(e,{headers:t={},schema:r,fetch:i}={}){this.url=e,this.headers=Object.assign(Object.assign({},To),t),this.schemaName=r,this.fetch=i}from(e){const t=new URL(`${this.url}/${e}`);return new wo(t,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(e){return new jr(this.url,{headers:this.headers,schema:e,fetch:this.fetch})}rpc(e,t={},{head:r=!1,count:i}={}){let s;const o=new URL(`${this.url}/rpc/${e}`);let a;r?(s="HEAD",Object.entries(t).forEach(([c,u])=>{o.searchParams.append(c,`${u}`)})):(s="POST",a=t);const l=Object.assign({},this.headers);return i&&(l.Prefer=`count=${i}`),new Je({method:s,url:o,headers:l,schema:this.schemaName,body:a,fetch:this.fetch,allowEmpty:!1})}}const ko="2.9.3",Oo={"X-Client-Info":`realtime-js/${ko}`},So="1.0.0",oi=1e4,Ao=1e3;var et;(function(n){n[n.connecting=0]="connecting",n[n.open=1]="open",n[n.closing=2]="closing",n[n.closed=3]="closed"})(et||(et={}));var ie;(function(n){n.closed="closed",n.errored="errored",n.joined="joined",n.joining="joining",n.leaving="leaving"})(ie||(ie={}));var he;(function(n){n.close="phx_close",n.error="phx_error",n.join="phx_join",n.reply="phx_reply",n.leave="phx_leave",n.access_token="access_token"})(he||(he={}));var _r;(function(n){n.websocket="websocket"})(_r||(_r={}));var xe;(function(n){n.Connecting="connecting",n.Open="open",n.Closing="closing",n.Closed="closed"})(xe||(xe={}));class ai{constructor(e,t){this.callback=e,this.timerCalc=t,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=t}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}class Do{constructor(){this.HEADER_LENGTH=1}decode(e,t){return e.constructor===ArrayBuffer?t(this._binaryDecode(e)):t(typeof e=="string"?JSON.parse(e):{})}_binaryDecode(e){const t=new DataView(e),r=new TextDecoder;return this._decodeBroadcast(e,t,r)}_decodeBroadcast(e,t,r){const i=t.getUint8(1),s=t.getUint8(2);let o=this.HEADER_LENGTH+2;const a=r.decode(e.slice(o,o+i));o=o+i;const l=r.decode(e.slice(o,o+s));o=o+s;const c=JSON.parse(r.decode(e.slice(o,e.byteLength)));return{ref:null,topic:a,event:l,payload:c}}}class nr{constructor(e,t,r={},i=oi){this.channel=e,this.event=t,this.payload=r,this.timeout=i,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,t){var r;return this._hasReceived(e)&&t((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:e,callback:t}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=t=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=t,this._matchReceive(t)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,t){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:t})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:t}){this.recHooks.filter(r=>r.status===e).forEach(r=>r.callback(t))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var rn;(function(n){n.SYNC="sync",n.JOIN="join",n.LEAVE="leave"})(rn||(rn={}));class _t{constructor(e,t){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=(t==null?void 0:t.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},i=>{const{onJoin:s,onLeave:o,onSync:a}=this.caller;this.joinRef=this.channel._joinRef(),this.state=_t.syncState(this.state,i,s,o),this.pendingDiffs.forEach(l=>{this.state=_t.syncDiff(this.state,l,s,o)}),this.pendingDiffs=[],a()}),this.channel._on(r.diff,{},i=>{const{onJoin:s,onLeave:o,onSync:a}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(i):(this.state=_t.syncDiff(this.state,i,s,o),a())}),this.onJoin((i,s,o)=>{this.channel._trigger("presence",{event:"join",key:i,currentPresences:s,newPresences:o})}),this.onLeave((i,s,o)=>{this.channel._trigger("presence",{event:"leave",key:i,currentPresences:s,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,t,r,i){const s=this.cloneDeep(e),o=this.transformState(t),a={},l={};return this.map(s,(c,u)=>{o[c]||(l[c]=u)}),this.map(o,(c,u)=>{const h=s[c];if(h){const d=u.map(p=>p.presence_ref),f=h.map(p=>p.presence_ref),g=u.filter(p=>f.indexOf(p.presence_ref)<0),m=h.filter(p=>d.indexOf(p.presence_ref)<0);g.length>0&&(a[c]=g),m.length>0&&(l[c]=m)}else a[c]=u}),this.syncDiff(s,{joins:a,leaves:l},r,i)}static syncDiff(e,t,r,i){const{joins:s,leaves:o}={joins:this.transformState(t.joins),leaves:this.transformState(t.leaves)};return r||(r=()=>{}),i||(i=()=>{}),this.map(s,(a,l)=>{var c;const u=(c=e[a])!==null&&c!==void 0?c:[];if(e[a]=this.cloneDeep(l),u.length>0){const h=e[a].map(f=>f.presence_ref),d=u.filter(f=>h.indexOf(f.presence_ref)<0);e[a].unshift(...d)}r(a,u,l)}),this.map(o,(a,l)=>{let c=e[a];if(!c)return;const u=l.map(h=>h.presence_ref);c=c.filter(h=>u.indexOf(h.presence_ref)<0),e[a]=c,i(a,c,l),c.length===0&&delete e[a]}),e}static map(e,t){return Object.getOwnPropertyNames(e).map(r=>t(r,e[r]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((t,r)=>{const i=e[r];return"metas"in i?t[r]=i.metas.map(s=>(s.presence_ref=s.phx_ref,delete s.phx_ref,delete s.phx_ref_prev,s)):t[r]=i,t},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var N;(function(n){n.abstime="abstime",n.bool="bool",n.date="date",n.daterange="daterange",n.float4="float4",n.float8="float8",n.int2="int2",n.int4="int4",n.int4range="int4range",n.int8="int8",n.int8range="int8range",n.json="json",n.jsonb="jsonb",n.money="money",n.numeric="numeric",n.oid="oid",n.reltime="reltime",n.text="text",n.time="time",n.timestamp="timestamp",n.timestamptz="timestamptz",n.timetz="timetz",n.tsrange="tsrange",n.tstzrange="tstzrange"})(N||(N={}));const nn=(n,e,t={})=>{var r;const i=(r=t.skipTypes)!==null&&r!==void 0?r:[];return Object.keys(e).reduce((s,o)=>(s[o]=Io(o,n,e,i),s),{})},Io=(n,e,t,r)=>{const i=e.find(a=>a.name===n),s=i==null?void 0:i.type,o=t[n];return s&&!r.includes(s)?li(s,o):yr(o)},li=(n,e)=>{if(n.charAt(0)==="_"){const t=n.slice(1,n.length);return $o(e,t)}switch(n){case N.bool:return Ro(e);case N.float4:case N.float8:case N.int2:case N.int4:case N.int8:case N.numeric:case N.oid:return Co(e);case N.json:case N.jsonb:return Po(e);case N.timestamp:return jo(e);case N.abstime:case N.date:case N.daterange:case N.int4range:case N.int8range:case N.money:case N.reltime:case N.text:case N.time:case N.timestamptz:case N.timetz:case N.tsrange:case N.tstzrange:return yr(e);default:return yr(e)}},yr=n=>n,Ro=n=>{switch(n){case"t":return!0;case"f":return!1;default:return n}},Co=n=>{if(typeof n=="string"){const e=parseFloat(n);if(!Number.isNaN(e))return e}return n},Po=n=>{if(typeof n=="string")try{return JSON.parse(n)}catch(e){return console.log(`JSON parse error: ${e}`),n}return n},$o=(n,e)=>{if(typeof n!="string")return n;const t=n.length-1,r=n[t];if(n[0]==="{"&&r==="}"){let s;const o=n.slice(1,t);try{s=JSON.parse("["+o+"]")}catch{s=o?o.split(","):[]}return s.map(a=>li(e,a))}return n},jo=n=>typeof n=="string"?n.replace(" ","T"):n;var sn;(function(n){n.ALL="*",n.INSERT="INSERT",n.UPDATE="UPDATE",n.DELETE="DELETE"})(sn||(sn={}));var on;(function(n){n.BROADCAST="broadcast",n.PRESENCE="presence",n.POSTGRES_CHANGES="postgres_changes"})(on||(on={}));var an;(function(n){n.SUBSCRIBED="SUBSCRIBED",n.TIMED_OUT="TIMED_OUT",n.CLOSED="CLOSED",n.CHANNEL_ERROR="CHANNEL_ERROR"})(an||(an={}));class Lr{constructor(e,t={config:{}},r){this.topic=e,this.params=t,this.socket=r,this.bindings={},this.state=ie.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""}},t.config),this.timeout=this.socket.timeout,this.joinPush=new nr(this,he.join,this.params,this.timeout),this.rejoinTimer=new ai(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=ie.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(i=>i.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=ie.closed,this.socket._remove(this)}),this._onError(i=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,i),this.state=ie.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=ie.errored,this.rejoinTimer.scheduleTimeout())}),this._on(he.reply,{},(i,s)=>{this._trigger(this._replyEventName(s),i)}),this.presence=new _t(this),this.broadcastEndpointURL=this._broadcastEndpointURL()}subscribe(e,t=this.timeout){var r,i;if(this.socket.isConnected()||this.socket.connect(),this.joinedOnce)throw"tried to subscribe multiple times. 'subscribe' can only be called a single time per channel instance";{const{config:{broadcast:s,presence:o}}=this.params;this._onError(c=>e&&e("CHANNEL_ERROR",c)),this._onClose(()=>e&&e("CLOSED"));const a={},l={broadcast:s,presence:o,postgres_changes:(i=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(c=>c.filter))!==null&&i!==void 0?i:[]};this.socket.accessToken&&(a.access_token=this.socket.accessToken),this.updateJoinPayload(Object.assign({config:l},a)),this.joinedOnce=!0,this._rejoin(t),this.joinPush.receive("ok",({postgres_changes:c})=>{var u;if(this.socket.accessToken&&this.socket.setAuth(this.socket.accessToken),c===void 0){e&&e("SUBSCRIBED");return}else{const h=this.bindings.postgres_changes,d=(u=h==null?void 0:h.length)!==null&&u!==void 0?u:0,f=[];for(let g=0;g<d;g++){const m=h[g],{filter:{event:p,schema:b,table:E,filter:A}}=m,k=c&&c[g];if(k&&k.event===p&&k.schema===b&&k.table===E&&k.filter===A)f.push(Object.assign(Object.assign({},m),{id:k.id}));else{this.unsubscribe(),e&&e("CHANNEL_ERROR",new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=f,e&&e("SUBSCRIBED");return}}).receive("error",c=>{e&&e("CHANNEL_ERROR",new Error(JSON.stringify(Object.values(c).join(", ")||"error")))}).receive("timeout",()=>{e&&e("TIMED_OUT")})}return this}presenceState(){return this.presence.state}async track(e,t={}){return await this.send({type:"presence",event:"track",payload:e},t.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,t,r){return this._on(e,t,r)}async send(e,t={}){var r,i;if(!this._canPush()&&e.type==="broadcast"){const{event:s,payload:o}=e,a={method:"POST",headers:{apikey:(r=this.socket.apiKey)!==null&&r!==void 0?r:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:s,payload:o}]})};try{return(await this._fetchWithTimeout(this.broadcastEndpointURL,a,(i=t.timeout)!==null&&i!==void 0?i:this.timeout)).ok?"ok":"error"}catch(l){return l.name==="AbortError"?"timed out":"error"}}else return new Promise(s=>{var o,a,l;const c=this._push(e.type,e,t.timeout||this.timeout);e.type==="broadcast"&&!(!((l=(a=(o=this.params)===null||o===void 0?void 0:o.config)===null||a===void 0?void 0:a.broadcast)===null||l===void 0)&&l.ack)&&s("ok"),c.receive("ok",()=>s("ok")),c.receive("timeout",()=>s("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=ie.leaving;const t=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(he.close,"leave",this._joinRef())};return this.rejoinTimer.reset(),this.joinPush.destroy(),new Promise(r=>{const i=new nr(this,he.leave,{},e);i.receive("ok",()=>{t(),r("ok")}).receive("timeout",()=>{t(),r("timed out")}).receive("error",()=>{r("error")}),i.send(),this._canPush()||i.trigger("ok",{})})}_broadcastEndpointURL(){let e=this.socket.endPoint;return e=e.replace(/^ws/i,"http"),e=e.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),e.replace(/\/+$/,"")+"/api/broadcast"}async _fetchWithTimeout(e,t,r){const i=new AbortController,s=setTimeout(()=>i.abort(),r),o=await this.socket.fetch(e,Object.assign(Object.assign({},t),{signal:i.signal}));return clearTimeout(s),o}_push(e,t,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let i=new nr(this,e,t,r);return this._canPush()?i.send():(i.startTimeout(),this.pushBuffer.push(i)),i}_onMessage(e,t,r){return t}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,t,r){var i,s;const o=e.toLocaleLowerCase(),{close:a,error:l,leave:c,join:u}=he;if(r&&[a,l,c,u].indexOf(o)>=0&&r!==this._joinRef())return;let d=this._onMessage(o,t,r);if(t&&!d)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(i=this.bindings.postgres_changes)===null||i===void 0||i.filter(f=>{var g,m,p;return((g=f.filter)===null||g===void 0?void 0:g.event)==="*"||((p=(m=f.filter)===null||m===void 0?void 0:m.event)===null||p===void 0?void 0:p.toLocaleLowerCase())===o}).map(f=>f.callback(d,r)):(s=this.bindings[o])===null||s===void 0||s.filter(f=>{var g,m,p,b,E,A;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in f){const k=f.id,O=(g=f.filter)===null||g===void 0?void 0:g.event;return k&&((m=t.ids)===null||m===void 0?void 0:m.includes(k))&&(O==="*"||(O==null?void 0:O.toLocaleLowerCase())===((p=t.data)===null||p===void 0?void 0:p.type.toLocaleLowerCase()))}else{const k=(E=(b=f==null?void 0:f.filter)===null||b===void 0?void 0:b.event)===null||E===void 0?void 0:E.toLocaleLowerCase();return k==="*"||k===((A=t==null?void 0:t.event)===null||A===void 0?void 0:A.toLocaleLowerCase())}else return f.type.toLocaleLowerCase()===o}).map(f=>{if(typeof d=="object"&&"ids"in d){const g=d.data,{schema:m,table:p,commit_timestamp:b,type:E,errors:A}=g;d=Object.assign(Object.assign({},{schema:m,table:p,commit_timestamp:b,eventType:E,new:{},old:{},errors:A}),this._getPayloadRecords(g))}f.callback(d,r)})}_isClosed(){return this.state===ie.closed}_isJoined(){return this.state===ie.joined}_isJoining(){return this.state===ie.joining}_isLeaving(){return this.state===ie.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,t,r){const i=e.toLocaleLowerCase(),s={type:i,filter:t,callback:r};return this.bindings[i]?this.bindings[i].push(s):this.bindings[i]=[s],this}_off(e,t){const r=e.toLocaleLowerCase();return this.bindings[r]=this.bindings[r].filter(i=>{var s;return!(((s=i.type)===null||s===void 0?void 0:s.toLocaleLowerCase())===r&&Lr.isEqual(i.filter,t))}),this}static isEqual(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const r in e)if(e[r]!==t[r])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(he.close,{},e)}_onError(e){this._on(he.error,{},t=>e(t))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=ie.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const t={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(t.new=nn(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(t.old=nn(e.columns,e.old_record)),t}}const Lo=()=>{},No=typeof WebSocket<"u";class xo{constructor(e,t){var r;this.accessToken=null,this.apiKey=null,this.channels=[],this.endPoint="",this.headers=Oo,this.params={},this.timeout=oi,this.heartbeatIntervalMs=3e4,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.ref=0,this.logger=Lo,this.conn=null,this.sendBuffer=[],this.serializer=new Do,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this._resolveFetch=s=>{let o;return s?o=s:typeof fetch>"u"?o=(...a)=>tt(()=>Promise.resolve().then(()=>Dt),void 0,import.meta.url).then(({default:l})=>l(...a)):o=fetch,(...a)=>o(...a)},this.endPoint=`${e}/${_r.websocket}`,t!=null&&t.transport?this.transport=t.transport:this.transport=null,t!=null&&t.params&&(this.params=t.params),t!=null&&t.headers&&(this.headers=Object.assign(Object.assign({},this.headers),t.headers)),t!=null&&t.timeout&&(this.timeout=t.timeout),t!=null&&t.logger&&(this.logger=t.logger),t!=null&&t.heartbeatIntervalMs&&(this.heartbeatIntervalMs=t.heartbeatIntervalMs);const i=(r=t==null?void 0:t.params)===null||r===void 0?void 0:r.apikey;i&&(this.accessToken=i,this.apiKey=i),this.reconnectAfterMs=t!=null&&t.reconnectAfterMs?t.reconnectAfterMs:s=>[1e3,2e3,5e3,1e4][s-1]||1e4,this.encode=t!=null&&t.encode?t.encode:(s,o)=>o(JSON.stringify(s)),this.decode=t!=null&&t.decode?t.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new ai(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(t==null?void 0:t.fetch)}connect(){if(!this.conn){if(this.transport){this.conn=new this.transport(this._endPointURL(),void 0,{headers:this.headers});return}if(No){this.conn=new WebSocket(this._endPointURL()),this.setupConnection();return}this.conn=new Uo(this._endPointURL(),void 0,{close:()=>{this.conn=null}}),tt(()=>import("../chunks/browser.DZwXghdQ.js").then(e=>e.b),__vite__mapDeps([0,1,2,3,4,5,6]),import.meta.url).then(({default:e})=>{this.conn=new e(this._endPointURL(),void 0,{headers:this.headers}),this.setupConnection()})}}disconnect(e,t){this.conn&&(this.conn.onclose=function(){},e?this.conn.close(e,t??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset())}getChannels(){return this.channels}async removeChannel(e){const t=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),t}async removeAllChannels(){const e=await Promise.all(this.channels.map(t=>t.unsubscribe()));return this.disconnect(),e}log(e,t,r){this.logger(e,t,r)}connectionState(){switch(this.conn&&this.conn.readyState){case et.connecting:return xe.Connecting;case et.open:return xe.Open;case et.closing:return xe.Closing;default:return xe.Closed}}isConnected(){return this.connectionState()===xe.Open}channel(e,t={config:{}}){const r=new Lr(`realtime:${e}`,t,this);return this.channels.push(r),r}push(e){const{topic:t,event:r,payload:i,ref:s}=e,o=()=>{this.encode(e,a=>{var l;(l=this.conn)===null||l===void 0||l.send(a)})};this.log("push",`${t} ${r} (${s})`,i),this.isConnected()?o():this.sendBuffer.push(o)}setAuth(e){this.accessToken=e,this.channels.forEach(t=>{e&&t.updateJoinPayload({access_token:e}),t.joinedOnce&&t._isJoined()&&t._push(he.access_token,{access_token:e})})}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let t=this.channels.find(r=>r.topic===e&&(r._isJoined()||r._isJoining()));t&&(this.log("transport",`leaving duplicate topic "${e}"`),t.unsubscribe())}_remove(e){this.channels=this.channels.filter(t=>t._joinRef()!==e._joinRef())}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_endPointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:So}))}_onConnMessage(e){this.decode(e.data,t=>{let{topic:r,event:i,payload:s,ref:o}=t;(o&&o===this.pendingHeartbeatRef||i===(s==null?void 0:s.type))&&(this.pendingHeartbeatRef=null),this.log("receive",`${s.status||""} ${r} ${i} ${o&&"("+o+")"||""}`,s),this.channels.filter(a=>a._isMember(r)).forEach(a=>a._trigger(i,s,o)),this.stateChangeCallbacks.message.forEach(a=>a(t))})}_onConnOpen(){this.log("transport",`connected to ${this._endPointURL()}`),this._flushSendBuffer(),this.reconnectTimer.reset(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this._sendHeartbeat(),this.heartbeatIntervalMs),this.stateChangeCallbacks.open.forEach(e=>e())}_onConnClose(e){this.log("transport","close",e),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(t=>t(e))}_onConnError(e){this.log("transport",e.message),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(t=>t(e))}_triggerChanError(){this.channels.forEach(e=>e._trigger(he.error))}_appendParams(e,t){if(Object.keys(t).length===0)return e;const r=e.match(/\?/)?"&":"?",i=new URLSearchParams(t);return`${e}${r}${i}`}_flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_sendHeartbeat(){var e;if(this.isConnected()){if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),(e=this.conn)===null||e===void 0||e.close(Ao,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.setAuth(this.accessToken)}}}class Uo{constructor(e,t,r){this.binaryType="arraybuffer",this.onclose=()=>{},this.onerror=()=>{},this.onmessage=()=>{},this.onopen=()=>{},this.readyState=et.connecting,this.send=()=>{},this.url=null,this.url=e,this.close=r.close}}class Nr extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function Y(n){return typeof n=="object"&&n!==null&&"__isStorageError"in n}class Mo extends Nr{constructor(e,t){super(e),this.name="StorageApiError",this.status=t}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class ln extends Nr{constructor(e,t){super(e),this.name="StorageUnknownError",this.originalError=t}}var Fo=function(n,e,t,r){function i(s){return s instanceof t?s:new t(function(o){o(s)})}return new(t||(t=Promise))(function(s,o){function a(u){try{c(r.next(u))}catch(h){o(h)}}function l(u){try{c(r.throw(u))}catch(h){o(h)}}function c(u){u.done?s(u.value):i(u.value).then(a,l)}c((r=r.apply(n,e||[])).next())})};const ci=n=>{let e;return n?e=n:typeof fetch>"u"?e=(...t)=>tt(()=>Promise.resolve().then(()=>Dt),void 0,import.meta.url).then(({default:r})=>r(...t)):e=fetch,(...t)=>e(...t)},Bo=()=>Fo(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield tt(()=>Promise.resolve().then(()=>Dt),void 0,import.meta.url)).Response:Response});var ht=function(n,e,t,r){function i(s){return s instanceof t?s:new t(function(o){o(s)})}return new(t||(t=Promise))(function(s,o){function a(u){try{c(r.next(u))}catch(h){o(h)}}function l(u){try{c(r.throw(u))}catch(h){o(h)}}function c(u){u.done?s(u.value):i(u.value).then(a,l)}c((r=r.apply(n,e||[])).next())})};const ir=n=>n.msg||n.message||n.error_description||n.error||JSON.stringify(n),Go=(n,e)=>ht(void 0,void 0,void 0,function*(){const t=yield Bo();n instanceof t?n.json().then(r=>{e(new Mo(ir(r),n.status||500))}).catch(r=>{e(new ln(ir(r),r))}):e(new ln(ir(n),n))}),zo=(n,e,t,r)=>{const i={method:n,headers:(e==null?void 0:e.headers)||{}};return n==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),i.body=JSON.stringify(r),Object.assign(Object.assign({},i),t))};function er(n,e,t,r,i,s){return ht(this,void 0,void 0,function*(){return new Promise((o,a)=>{n(t,zo(e,r,i,s)).then(l=>{if(!l.ok)throw l;return r!=null&&r.noResolveJson?l:l.json()}).then(l=>o(l)).catch(l=>Go(l,a))})})}function br(n,e,t,r){return ht(this,void 0,void 0,function*(){return er(n,"GET",e,t,r)})}function Te(n,e,t,r,i){return ht(this,void 0,void 0,function*(){return er(n,"POST",e,r,i,t)})}function Ho(n,e,t,r,i){return ht(this,void 0,void 0,function*(){return er(n,"PUT",e,r,i,t)})}function ui(n,e,t,r,i){return ht(this,void 0,void 0,function*(){return er(n,"DELETE",e,r,i,t)})}var oe=function(n,e,t,r){function i(s){return s instanceof t?s:new t(function(o){o(s)})}return new(t||(t=Promise))(function(s,o){function a(u){try{c(r.next(u))}catch(h){o(h)}}function l(u){try{c(r.throw(u))}catch(h){o(h)}}function c(u){u.done?s(u.value):i(u.value).then(a,l)}c((r=r.apply(n,e||[])).next())})};const Vo={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},cn={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class qo{constructor(e,t={},r,i){this.url=e,this.headers=t,this.bucketId=r,this.fetch=ci(i)}uploadOrUpdate(e,t,r,i){return oe(this,void 0,void 0,function*(){try{let s;const o=Object.assign(Object.assign({},cn),i),a=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(o.upsert)});typeof Blob<"u"&&r instanceof Blob?(s=new FormData,s.append("cacheControl",o.cacheControl),s.append("",r)):typeof FormData<"u"&&r instanceof FormData?(s=r,s.append("cacheControl",o.cacheControl)):(s=r,a["cache-control"]=`max-age=${o.cacheControl}`,a["content-type"]=o.contentType);const l=this._removeEmptyFolders(t),c=this._getFinalPath(l),u=yield this.fetch(`${this.url}/object/${c}`,Object.assign({method:e,body:s,headers:a},o!=null&&o.duplex?{duplex:o.duplex}:{})),h=yield u.json();return u.ok?{data:{path:l,id:h.Id,fullPath:h.Key},error:null}:{data:null,error:h}}catch(s){if(Y(s))return{data:null,error:s};throw s}})}upload(e,t,r){return oe(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,t,r)})}uploadToSignedUrl(e,t,r,i){return oe(this,void 0,void 0,function*(){const s=this._removeEmptyFolders(e),o=this._getFinalPath(s),a=new URL(this.url+`/object/upload/sign/${o}`);a.searchParams.set("token",t);try{let l;const c=Object.assign({upsert:cn.upsert},i),u=Object.assign(Object.assign({},this.headers),{"x-upsert":String(c.upsert)});typeof Blob<"u"&&r instanceof Blob?(l=new FormData,l.append("cacheControl",c.cacheControl),l.append("",r)):typeof FormData<"u"&&r instanceof FormData?(l=r,l.append("cacheControl",c.cacheControl)):(l=r,u["cache-control"]=`max-age=${c.cacheControl}`,u["content-type"]=c.contentType);const h=yield this.fetch(a.toString(),{method:"PUT",body:l,headers:u}),d=yield h.json();return h.ok?{data:{path:s,fullPath:d.Key},error:null}:{data:null,error:d}}catch(l){if(Y(l))return{data:null,error:l};throw l}})}createSignedUploadUrl(e){return oe(this,void 0,void 0,function*(){try{let t=this._getFinalPath(e);const r=yield Te(this.fetch,`${this.url}/object/upload/sign/${t}`,{},{headers:this.headers}),i=new URL(this.url+r.url),s=i.searchParams.get("token");if(!s)throw new Nr("No token returned by API");return{data:{signedUrl:i.toString(),path:e,token:s},error:null}}catch(t){if(Y(t))return{data:null,error:t};throw t}})}update(e,t,r){return oe(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,t,r)})}move(e,t){return oe(this,void 0,void 0,function*(){try{return{data:yield Te(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:t},{headers:this.headers}),error:null}}catch(r){if(Y(r))return{data:null,error:r};throw r}})}copy(e,t){return oe(this,void 0,void 0,function*(){try{return{data:{path:(yield Te(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:t},{headers:this.headers})).Key},error:null}}catch(r){if(Y(r))return{data:null,error:r};throw r}})}createSignedUrl(e,t,r){return oe(this,void 0,void 0,function*(){try{let i=this._getFinalPath(e),s=yield Te(this.fetch,`${this.url}/object/sign/${i}`,Object.assign({expiresIn:t},r!=null&&r.transform?{transform:r.transform}:{}),{headers:this.headers});const o=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return s={signedUrl:encodeURI(`${this.url}${s.signedURL}${o}`)},{data:s,error:null}}catch(i){if(Y(i))return{data:null,error:i};throw i}})}createSignedUrls(e,t,r){return oe(this,void 0,void 0,function*(){try{const i=yield Te(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:t,paths:e},{headers:this.headers}),s=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return{data:i.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${s}`):null})),error:null}}catch(i){if(Y(i))return{data:null,error:i};throw i}})}download(e,t){return oe(this,void 0,void 0,function*(){const i=typeof(t==null?void 0:t.transform)<"u"?"render/image/authenticated":"object",s=this.transformOptsToQueryString((t==null?void 0:t.transform)||{}),o=s?`?${s}`:"";try{const a=this._getFinalPath(e);return{data:yield(yield br(this.fetch,`${this.url}/${i}/${a}${o}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(a){if(Y(a))return{data:null,error:a};throw a}})}getPublicUrl(e,t){const r=this._getFinalPath(e),i=[],s=t!=null&&t.download?`download=${t.download===!0?"":t.download}`:"";s!==""&&i.push(s);const a=typeof(t==null?void 0:t.transform)<"u"?"render/image":"object",l=this.transformOptsToQueryString((t==null?void 0:t.transform)||{});l!==""&&i.push(l);let c=i.join("&");return c!==""&&(c=`?${c}`),{data:{publicUrl:encodeURI(`${this.url}/${a}/public/${r}${c}`)}}}remove(e){return oe(this,void 0,void 0,function*(){try{return{data:yield ui(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(t){if(Y(t))return{data:null,error:t};throw t}})}list(e,t,r){return oe(this,void 0,void 0,function*(){try{const i=Object.assign(Object.assign(Object.assign({},Vo),t),{prefix:e||""});return{data:yield Te(this.fetch,`${this.url}/object/list/${this.bucketId}`,i,{headers:this.headers},r),error:null}}catch(i){if(Y(i))return{data:null,error:i};throw i}})}_getFinalPath(e){return`${this.bucketId}/${e}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const t=[];return e.width&&t.push(`width=${e.width}`),e.height&&t.push(`height=${e.height}`),e.resize&&t.push(`resize=${e.resize}`),e.format&&t.push(`format=${e.format}`),e.quality&&t.push(`quality=${e.quality}`),t.join("&")}}const Wo="2.5.5",Jo={"X-Client-Info":`storage-js/${Wo}`};var ze=function(n,e,t,r){function i(s){return s instanceof t?s:new t(function(o){o(s)})}return new(t||(t=Promise))(function(s,o){function a(u){try{c(r.next(u))}catch(h){o(h)}}function l(u){try{c(r.throw(u))}catch(h){o(h)}}function c(u){u.done?s(u.value):i(u.value).then(a,l)}c((r=r.apply(n,e||[])).next())})};class Ko{constructor(e,t={},r){this.url=e,this.headers=Object.assign(Object.assign({},Jo),t),this.fetch=ci(r)}listBuckets(){return ze(this,void 0,void 0,function*(){try{return{data:yield br(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(e){if(Y(e))return{data:null,error:e};throw e}})}getBucket(e){return ze(this,void 0,void 0,function*(){try{return{data:yield br(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(t){if(Y(t))return{data:null,error:t};throw t}})}createBucket(e,t={public:!1}){return ze(this,void 0,void 0,function*(){try{return{data:yield Te(this.fetch,`${this.url}/bucket`,{id:e,name:e,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(Y(r))return{data:null,error:r};throw r}})}updateBucket(e,t){return ze(this,void 0,void 0,function*(){try{return{data:yield Ho(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(Y(r))return{data:null,error:r};throw r}})}emptyBucket(e){return ze(this,void 0,void 0,function*(){try{return{data:yield Te(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(t){if(Y(t))return{data:null,error:t};throw t}})}deleteBucket(e){return ze(this,void 0,void 0,function*(){try{return{data:yield ui(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(t){if(Y(t))return{data:null,error:t};throw t}})}}class Zo extends Ko{constructor(e,t={},r){super(e,t,r)}from(e){return new qo(this.url,this.headers,e,this.fetch)}}const Yo="2.39.8";let gt="";typeof Deno<"u"?gt="deno":typeof document<"u"?gt="web":typeof navigator<"u"&&navigator.product==="ReactNative"?gt="react-native":gt="node";const Qo={"X-Client-Info":`supabase-js-${gt}/${Yo}`},Xo={headers:Qo},ea={schema:"public"},ta={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},ra={};var na=function(n,e,t,r){function i(s){return s instanceof t?s:new t(function(o){o(s)})}return new(t||(t=Promise))(function(s,o){function a(u){try{c(r.next(u))}catch(h){o(h)}}function l(u){try{c(r.throw(u))}catch(h){o(h)}}function c(u){u.done?s(u.value):i(u.value).then(a,l)}c((r=r.apply(n,e||[])).next())})};const ia=n=>{let e;return n?e=n:typeof fetch>"u"?e=$r:e=fetch,(...t)=>e(...t)},sa=()=>typeof Headers>"u"?si:Headers,oa=(n,e,t)=>{const r=ia(t),i=sa();return(s,o)=>na(void 0,void 0,void 0,function*(){var a;const l=(a=yield e())!==null&&a!==void 0?a:n;let c=new i(o==null?void 0:o.headers);return c.has("apikey")||c.set("apikey",n),c.has("Authorization")||c.set("Authorization",`Bearer ${l}`),r(s,Object.assign(Object.assign({},o),{headers:c}))})};function aa(n){return n.replace(/\/$/,"")}function la(n,e){const{db:t,auth:r,realtime:i,global:s}=n,{db:o,auth:a,realtime:l,global:c}=e;return{db:Object.assign(Object.assign({},o),t),auth:Object.assign(Object.assign({},a),r),realtime:Object.assign(Object.assign({},l),i),global:Object.assign(Object.assign({},c),s)}}function ca(n){return Math.round(Date.now()/1e3)+n}function ua(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(n){const e=Math.random()*16|0;return(n=="x"?e:e&3|8).toString(16)})}const ue=()=>typeof document<"u",Ce={tested:!1,writable:!1},yt=()=>{if(!ue())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Ce.tested)return Ce.writable;const n=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(n,n),globalThis.localStorage.removeItem(n),Ce.tested=!0,Ce.writable=!0}catch{Ce.tested=!0,Ce.writable=!1}return Ce.writable};function sr(n){const e={},t=new URL(n);if(t.hash&&t.hash[0]==="#")try{new URLSearchParams(t.hash.substring(1)).forEach((i,s)=>{e[s]=i})}catch{}return t.searchParams.forEach((r,i)=>{e[i]=r}),e}const hi=n=>{let e;return n?e=n:typeof fetch>"u"?e=(...t)=>tt(()=>Promise.resolve().then(()=>Dt),void 0,import.meta.url).then(({default:r})=>r(...t)):e=fetch,(...t)=>e(...t)},ha=n=>typeof n=="object"&&n!==null&&"status"in n&&"ok"in n&&"json"in n&&typeof n.json=="function",Pe=async(n,e,t)=>{await n.setItem(e,JSON.stringify(t))},Ct=async(n,e)=>{const t=await n.getItem(e);if(!t)return null;try{return JSON.parse(t)}catch{return t}},or=async(n,e)=>{await n.removeItem(e)};function da(n){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";let t="",r,i,s,o,a,l,c,u=0;for(n=n.replace("-","+").replace("_","/");u<n.length;)o=e.indexOf(n.charAt(u++)),a=e.indexOf(n.charAt(u++)),l=e.indexOf(n.charAt(u++)),c=e.indexOf(n.charAt(u++)),r=o<<2|a>>4,i=(a&15)<<4|l>>2,s=(l&3)<<6|c,t=t+String.fromCharCode(r),l!=64&&i!=0&&(t=t+String.fromCharCode(i)),c!=64&&s!=0&&(t=t+String.fromCharCode(s));return t}class tr{constructor(){this.promise=new tr.promiseConstructor((e,t)=>{this.resolve=e,this.reject=t})}}tr.promiseConstructor=Promise;function un(n){const e=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}=?$|[a-z0-9_-]{2}(==)?$)$/i,t=n.split(".");if(t.length!==3)throw new Error("JWT is not valid: not a JWT structure");if(!e.test(t[1]))throw new Error("JWT is not valid: payload is not in base64url format");const r=t[1];return JSON.parse(da(r))}async function fa(n){return await new Promise(e=>{setTimeout(()=>e(null),n)})}function ga(n,e){return new Promise((r,i)=>{(async()=>{for(let s=0;s<1/0;s++)try{const o=await n(s);if(!e(s,null,o)){r(o);return}}catch(o){if(!e(s,o)){i(o);return}}})()})}function ma(n){return("0"+n.toString(16)).substr(-2)}function He(){const e=new Uint32Array(56);if(typeof crypto>"u"){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=t.length;let i="";for(let s=0;s<56;s++)i+=t.charAt(Math.floor(Math.random()*r));return i}return crypto.getRandomValues(e),Array.from(e,ma).join("")}async function pa(n){const t=new TextEncoder().encode(n),r=await crypto.subtle.digest("SHA-256",t),i=new Uint8Array(r);return Array.from(i).map(s=>String.fromCharCode(s)).join("")}function va(n){return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Ve(n){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),n;const t=await pa(n);return va(t)}class xr extends Error{constructor(e,t){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=t}}function C(n){return typeof n=="object"&&n!==null&&"__isAuthError"in n}class _a extends xr{constructor(e,t){super(e,t),this.name="AuthApiError",this.status=t}toJSON(){return{name:this.name,message:this.message,status:this.status}}}function ya(n){return C(n)&&n.name==="AuthApiError"}class di extends xr{constructor(e,t){super(e),this.name="AuthUnknownError",this.originalError=t}}class Be extends xr{constructor(e,t,r){super(e),this.name=t,this.status=r}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class qe extends Be{constructor(){super("Auth session missing!","AuthSessionMissingError",400)}}class ar extends Be{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500)}}class Pt extends Be{constructor(e){super(e,"AuthInvalidCredentialsError",400)}}class $t extends Be{constructor(e,t=null){super(e,"AuthImplicitGrantRedirectError",500),this.details=null,this.details=t}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class hn extends Be{constructor(e,t=null){super(e,"AuthPKCEGrantCodeExchangeError",500),this.details=null,this.details=t}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class wr extends Be{constructor(e,t){super(e,"AuthRetryableFetchError",t)}}function lr(n){return C(n)&&n.name==="AuthRetryableFetchError"}class ba extends Be{constructor(e,t,r){super(e,"AuthWeakPasswordError",t),this.reasons=r}}var wa=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]]);return t};const Ke=n=>n.msg||n.message||n.error_description||n.error||JSON.stringify(n),Ea=[502,503,504];async function dn(n){if(!ha(n))throw new wr(Ke(n),0);if(Ea.includes(n.status))throw new wr(Ke(n),n.status);let e;try{e=await n.json()}catch(t){throw new di(Ke(t),t)}throw typeof e=="object"&&e&&typeof e.weak_password=="object"&&e.weak_password&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.reasons.reduce((t,r)=>t&&typeof r=="string",!0)?new ba(Ke(e),n.status,e.weak_password.reasons):new _a(Ke(e),n.status||500)}const Ta=(n,e,t,r)=>{const i={method:n,headers:(e==null?void 0:e.headers)||{}};return n==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),i.body=JSON.stringify(r),Object.assign(Object.assign({},i),t))};async function $(n,e,t,r){var i;const s=Object.assign({},r==null?void 0:r.headers);r!=null&&r.jwt&&(s.Authorization=`Bearer ${r.jwt}`);const o=(i=r==null?void 0:r.query)!==null&&i!==void 0?i:{};r!=null&&r.redirectTo&&(o.redirect_to=r.redirectTo);const a=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",l=await ka(n,e,t+a,{headers:s,noResolveJson:r==null?void 0:r.noResolveJson},{},r==null?void 0:r.body);return r!=null&&r.xform?r==null?void 0:r.xform(l):{data:Object.assign({},l),error:null}}async function ka(n,e,t,r,i,s){const o=Ta(e,r,i,s);let a;try{a=await n(t,o)}catch(l){throw console.error(l),new wr(Ke(l),0)}if(a.ok||await dn(a),r!=null&&r.noResolveJson)return a;try{return await a.json()}catch(l){await dn(l)}}function je(n){var e;let t=null;Da(n)&&(t=Object.assign({},n),n.expires_at||(t.expires_at=ca(n.expires_in)));const r=(e=n.user)!==null&&e!==void 0?e:n;return{data:{session:t,user:r},error:null}}function fn(n){const e=je(n);return!e.error&&n.weak_password&&typeof n.weak_password=="object"&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.message&&typeof n.weak_password.message=="string"&&n.weak_password.reasons.reduce((t,r)=>t&&typeof r=="string",!0)&&(e.data.weak_password=n.weak_password),e}function Oe(n){var e;return{data:{user:(e=n.user)!==null&&e!==void 0?e:n},error:null}}function Oa(n){return{data:n,error:null}}function Sa(n){const{action_link:e,email_otp:t,hashed_token:r,redirect_to:i,verification_type:s}=n,o=wa(n,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),a={action_link:e,email_otp:t,hashed_token:r,redirect_to:i,verification_type:s},l=Object.assign({},o);return{data:{properties:a,user:l},error:null}}function Aa(n){return n}function Da(n){return n.access_token&&n.refresh_token&&n.expires_in}var Ia=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]]);return t};class Ra{constructor({url:e="",headers:t={},fetch:r}){this.url=e,this.headers=t,this.fetch=hi(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(e,t="global"){try{return await $(this.fetch,"POST",`${this.url}/logout?scope=${t}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(r){if(C(r))return{data:null,error:r};throw r}}async inviteUserByEmail(e,t={}){try{return await $(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:t.data},headers:this.headers,redirectTo:t.redirectTo,xform:Oe})}catch(r){if(C(r))return{data:{user:null},error:r};throw r}}async generateLink(e){try{const{options:t}=e,r=Ia(e,["options"]),i=Object.assign(Object.assign({},r),t);return"newEmail"in r&&(i.new_email=r==null?void 0:r.newEmail,delete i.newEmail),await $(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:i,headers:this.headers,xform:Sa,redirectTo:t==null?void 0:t.redirectTo})}catch(t){if(C(t))return{data:{properties:null,user:null},error:t};throw t}}async createUser(e){try{return await $(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:Oe})}catch(t){if(C(t))return{data:{user:null},error:t};throw t}}async listUsers(e){var t,r,i,s,o,a,l;try{const c={nextPage:null,lastPage:0,total:0},u=await $(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(t=e==null?void 0:e.page)===null||t===void 0?void 0:t.toString())!==null&&r!==void 0?r:"",per_page:(s=(i=e==null?void 0:e.perPage)===null||i===void 0?void 0:i.toString())!==null&&s!==void 0?s:""},xform:Aa});if(u.error)throw u.error;const h=await u.json(),d=(o=u.headers.get("x-total-count"))!==null&&o!==void 0?o:0,f=(l=(a=u.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&l!==void 0?l:[];return f.length>0&&(f.forEach(g=>{const m=parseInt(g.split(";")[0].split("=")[1].substring(0,1)),p=JSON.parse(g.split(";")[1].split("=")[1]);c[`${p}Page`]=m}),c.total=parseInt(d)),{data:Object.assign(Object.assign({},h),c),error:null}}catch(c){if(C(c))return{data:{users:[]},error:c};throw c}}async getUserById(e){try{return await $(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:Oe})}catch(t){if(C(t))return{data:{user:null},error:t};throw t}}async updateUserById(e,t){try{return await $(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:t,headers:this.headers,xform:Oe})}catch(r){if(C(r))return{data:{user:null},error:r};throw r}}async deleteUser(e,t=!1){try{return await $(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:t},xform:Oe})}catch(r){if(C(r))return{data:{user:null},error:r};throw r}}async _listFactors(e){try{const{data:t,error:r}=await $(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:i=>({data:{factors:i},error:null})});return{data:t,error:r}}catch(t){if(C(t))return{data:null,error:t};throw t}}async _deleteFactor(e){try{return{data:await $(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(t){if(C(t))return{data:null,error:t};throw t}}}const fi="0.0.0",Ca="http://localhost:9999",Pa="supabase.auth.token",$a={"X-Client-Info":`gotrue-js/${fi}`},gn=10,ja={getItem:n=>yt()?globalThis.localStorage.getItem(n):null,setItem:(n,e)=>{yt()&&globalThis.localStorage.setItem(n,e)},removeItem:n=>{yt()&&globalThis.localStorage.removeItem(n)}};function mn(n={}){return{getItem:e=>n[e]||null,setItem:(e,t)=>{n[e]=t},removeItem:e=>{delete n[e]}}}function La(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const We={debug:!!(globalThis&&yt()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class gi extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class Na extends gi{}async function xa(n,e,t){We.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",n,e);const r=new globalThis.AbortController;return e>0&&setTimeout(()=>{r.abort(),We.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",n)},e),await globalThis.navigator.locks.request(n,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async i=>{if(i){We.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",n,i.name);try{return await t()}finally{We.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",n,i.name)}}else{if(e===0)throw We.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",n),new Na(`Acquiring an exclusive Navigator LockManager lock "${n}" immediately failed`);if(We.debug)try{const s=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(s,null,"  "))}catch(s){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",s)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await t()}})}La();const Ua={url:Ca,storageKey:Pa,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:$a,flowType:"implicit",debug:!1},ft=30*1e3,pn=3;async function vn(n,e,t){return await t()}class kt{constructor(e){var t,r;this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=kt.nextInstanceID,kt.nextInstanceID+=1,this.instanceID>0&&ue()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const i=Object.assign(Object.assign({},Ua),e);if(this.logDebugMessages=!!i.debug,typeof i.debug=="function"&&(this.logger=i.debug),this.persistSession=i.persistSession,this.storageKey=i.storageKey,this.autoRefreshToken=i.autoRefreshToken,this.admin=new Ra({url:i.url,headers:i.headers,fetch:i.fetch}),this.url=i.url,this.headers=i.headers,this.fetch=hi(i.fetch),this.lock=i.lock||vn,this.detectSessionInUrl=i.detectSessionInUrl,this.flowType=i.flowType,i.lock?this.lock=i.lock:ue()&&(!((t=globalThis==null?void 0:globalThis.navigator)===null||t===void 0)&&t.locks)?this.lock=xa:this.lock=vn,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?i.storage?this.storage=i.storage:yt()?this.storage=ja:(this.memoryStorage={},this.storage=mn(this.memoryStorage)):(this.memoryStorage={},this.storage=mn(this.memoryStorage)),ue()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(s){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",s)}(r=this.broadcastChannel)===null||r===void 0||r.addEventListener("message",async s=>{this._debug("received broadcast notification from other tab or client",s),await this._notifyAllSubscribers(s.data.event,s.data.session,!1)})}this.initialize()}_debug(...e){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${fi}) ${new Date().toISOString()}`,...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){try{const e=ue()?await this._isPKCEFlow():!1;if(this._debug("#_initialize()","begin","is PKCE flow",e),e||this.detectSessionInUrl&&this._isImplicitGrantFlow()){const{data:t,error:r}=await this._getSessionFromURL(e);if(r)return this._debug("#_initialize()","error detecting session from URL",r),(r==null?void 0:r.message)==="Identity is already linked"||(r==null?void 0:r.message)==="Identity is already linked to another user"?{error:r}:(await this._removeSession(),{error:r});const{session:i,redirectType:s}=t;return this._debug("#_initialize()","detected session in URL",i,"redirect type",s),await this._saveSession(i),setTimeout(async()=>{s==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",i):await this._notifyAllSubscribers("SIGNED_IN",i)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(e){return C(e)?{error:e}:{error:new di("Unexpected error during initialization",e)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signUp(e){var t,r,i;try{await this._removeSession();let s;if("email"in e){const{email:u,password:h,options:d}=e;let f=null,g=null;if(this.flowType==="pkce"){const m=He();await Pe(this.storage,`${this.storageKey}-code-verifier`,m),f=await Ve(m),g=m===f?"plain":"s256"}s=await $(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:d==null?void 0:d.emailRedirectTo,body:{email:u,password:h,data:(t=d==null?void 0:d.data)!==null&&t!==void 0?t:{},gotrue_meta_security:{captcha_token:d==null?void 0:d.captchaToken},code_challenge:f,code_challenge_method:g},xform:je})}else if("phone"in e){const{phone:u,password:h,options:d}=e;s=await $(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:u,password:h,data:(r=d==null?void 0:d.data)!==null&&r!==void 0?r:{},channel:(i=d==null?void 0:d.channel)!==null&&i!==void 0?i:"sms",gotrue_meta_security:{captcha_token:d==null?void 0:d.captchaToken}},xform:je})}else throw new Pt("You must provide either an email or phone number and a password");const{data:o,error:a}=s;if(a||!o)return{data:{user:null,session:null},error:a};const l=o.session,c=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:c,session:l},error:null}}catch(s){if(C(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithPassword(e){try{await this._removeSession();let t;if("email"in e){const{email:s,password:o,options:a}=e;t=await $(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:s,password:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:fn})}else if("phone"in e){const{phone:s,password:o,options:a}=e;t=await $(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:s,password:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:fn})}else throw new Pt("You must provide either an email or phone number and a password");const{data:r,error:i}=t;return i?{data:{user:null,session:null},error:i}:!r||!r.session||!r.user?{data:{user:null,session:null},error:new ar}:(r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),{data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:i})}catch(t){if(C(t))return{data:{user:null,session:null},error:t};throw t}}async signInWithOAuth(e){var t,r,i,s;return await this._removeSession(),await this._handleProviderSignIn(e.provider,{redirectTo:(t=e.options)===null||t===void 0?void 0:t.redirectTo,scopes:(r=e.options)===null||r===void 0?void 0:r.scopes,queryParams:(i=e.options)===null||i===void 0?void 0:i.queryParams,skipBrowserRedirect:(s=e.options)===null||s===void 0?void 0:s.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async _exchangeCodeForSession(e){const t=await Ct(this.storage,`${this.storageKey}-code-verifier`),[r,i]=(t??"").split("/"),{data:s,error:o}=await $(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:r},xform:je});return await or(this.storage,`${this.storageKey}-code-verifier`),o?{data:{user:null,session:null,redirectType:null},error:o}:!s||!s.session||!s.user?{data:{user:null,session:null,redirectType:null},error:new ar}:(s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",s.session)),{data:Object.assign(Object.assign({},s),{redirectType:i??null}),error:o})}async signInWithIdToken(e){await this._removeSession();try{const{options:t,provider:r,token:i,access_token:s,nonce:o}=e,a=await $(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:i,access_token:s,nonce:o,gotrue_meta_security:{captcha_token:t==null?void 0:t.captchaToken}},xform:je}),{data:l,error:c}=a;return c?{data:{user:null,session:null},error:c}:!l||!l.session||!l.user?{data:{user:null,session:null},error:new ar}:(l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),{data:l,error:c})}catch(t){if(C(t))return{data:{user:null,session:null},error:t};throw t}}async signInWithOtp(e){var t,r,i,s,o;try{if(await this._removeSession(),"email"in e){const{email:a,options:l}=e;let c=null,u=null;if(this.flowType==="pkce"){const d=He();await Pe(this.storage,`${this.storageKey}-code-verifier`,d),c=await Ve(d),u=d===c?"plain":"s256"}const{error:h}=await $(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:a,data:(t=l==null?void 0:l.data)!==null&&t!==void 0?t:{},create_user:(r=l==null?void 0:l.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},code_challenge:c,code_challenge_method:u},redirectTo:l==null?void 0:l.emailRedirectTo});return{data:{user:null,session:null},error:h}}if("phone"in e){const{phone:a,options:l}=e,{data:c,error:u}=await $(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:a,data:(i=l==null?void 0:l.data)!==null&&i!==void 0?i:{},create_user:(s=l==null?void 0:l.shouldCreateUser)!==null&&s!==void 0?s:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},channel:(o=l==null?void 0:l.channel)!==null&&o!==void 0?o:"sms"}});return{data:{user:null,session:null,messageId:c==null?void 0:c.message_id},error:u}}throw new Pt("You must provide either an email or phone number.")}catch(a){if(C(a))return{data:{user:null,session:null},error:a};throw a}}async verifyOtp(e){var t,r;try{e.type!=="email_change"&&e.type!=="phone_change"&&await this._removeSession();let i,s;"options"in e&&(i=(t=e.options)===null||t===void 0?void 0:t.redirectTo,s=(r=e.options)===null||r===void 0?void 0:r.captchaToken);const{data:o,error:a}=await $(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:s}}),redirectTo:i,xform:je});if(a)throw a;if(!o)throw new Error("An error occurred on token verification.");const l=o.session,c=o.user;return l!=null&&l.access_token&&(await this._saveSession(l),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",l)),{data:{user:c,session:l},error:null}}catch(i){if(C(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithSSO(e){var t,r,i;try{await this._removeSession();let s=null,o=null;if(this.flowType==="pkce"){const a=He();await Pe(this.storage,`${this.storageKey}-code-verifier`,a),s=await Ve(a),o=a===s?"plain":"s256"}return await $(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(r=(t=e.options)===null||t===void 0?void 0:t.redirectTo)!==null&&r!==void 0?r:void 0}),!((i=e==null?void 0:e.options)===null||i===void 0)&&i.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:s,code_challenge_method:o}),headers:this.headers,xform:Oa})}catch(s){if(C(s))return{data:null,error:s};throw s}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:t},error:r}=e;if(r)throw r;if(!t)throw new qe;const{error:i}=await $(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:t.access_token});return{data:{user:null,session:null},error:i}})}catch(e){if(C(e))return{data:{user:null,session:null},error:e};throw e}}async resend(e){try{e.type!="email_change"&&e.type!="phone_change"&&await this._removeSession();const t=`${this.url}/resend`;if("email"in e){const{email:r,type:i,options:s}=e,{error:o}=await $(this.fetch,"POST",t,{headers:this.headers,body:{email:r,type:i,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}},redirectTo:s==null?void 0:s.emailRedirectTo});return{data:{user:null,session:null},error:o}}else if("phone"in e){const{phone:r,type:i,options:s}=e,{data:o,error:a}=await $(this.fetch,"POST",t,{headers:this.headers,body:{phone:r,type:i,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}}});return{data:{user:null,session:null,messageId:o==null?void 0:o.message_id},error:a}}throw new Pt("You must provide either an email or phone number and a type")}catch(t){if(C(t))return{data:{user:null,session:null},error:t};throw t}}async getSession(){return await this.initializePromise,this._acquireLock(-1,async()=>this._useSession(async e=>e))}async _acquireLock(e,t){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),i=(async()=>(await r,await t()))();return this.pendingInLock.push((async()=>{try{await i}catch{}})()),i}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=t();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const i=[...this.pendingInLock];await Promise.all(i),this.pendingInLock.splice(0,i.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const t=await this.__loadSession();return await e(t)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const t=await Ct(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",t),t!==null&&(this._isValidSession(t)?e=t:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const r=e.expires_at?e.expires_at<=Date.now()/1e3:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",e.expires_at),!r)return{data:{session:e},error:null};const{session:i,error:s}=await this._callRefreshToken(e.refresh_token);return s?{data:{session:null},error:s}:{data:{session:i},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(e){return e?await this._getUser(e):(await this.initializePromise,this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(e){try{return e?await $(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:Oe}):await this._useSession(async t=>{var r,i;const{data:s,error:o}=t;if(o)throw o;return await $(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(r=s.session)===null||r===void 0?void 0:r.access_token)!==null&&i!==void 0?i:void 0,xform:Oe})})}catch(t){if(C(t))return{data:{user:null},error:t};throw t}}async updateUser(e,t={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,t))}async _updateUser(e,t={}){try{return await this._useSession(async r=>{const{data:i,error:s}=r;if(s)throw s;if(!i.session)throw new qe;const o=i.session;let a=null,l=null;if(this.flowType==="pkce"&&e.email!=null){const h=He();await Pe(this.storage,`${this.storageKey}-code-verifier`,h),a=await Ve(h),l=h===a?"plain":"s256"}const{data:c,error:u}=await $(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:t==null?void 0:t.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:a,code_challenge_method:l}),jwt:o.access_token,xform:Oe});if(u)throw u;return o.user=c.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),{data:{user:o.user},error:null}})}catch(r){if(C(r))return{data:{user:null},error:r};throw r}}_decodeJWT(e){return un(e)}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new qe;const t=Date.now()/1e3;let r=t,i=!0,s=null;const o=un(e.access_token);if(o.exp&&(r=o.exp,i=r<=t),i){const{session:a,error:l}=await this._callRefreshToken(e.refresh_token);if(l)return{data:{user:null,session:null},error:l};if(!a)return{data:{user:null,session:null},error:null};s=a}else{const{data:a,error:l}=await this._getUser(e.access_token);if(l)throw l;s={access_token:e.access_token,refresh_token:e.refresh_token,user:a.user,token_type:"bearer",expires_in:r-t,expires_at:r},await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)}return{data:{user:s.user,session:s},error:null}}catch(t){if(C(t))return{data:{session:null,user:null},error:t};throw t}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async t=>{var r;if(!e){const{data:o,error:a}=t;if(a)throw a;e=(r=o.session)!==null&&r!==void 0?r:void 0}if(!(e!=null&&e.refresh_token))throw new qe;const{session:i,error:s}=await this._callRefreshToken(e.refresh_token);return s?{data:{user:null,session:null},error:s}:i?{data:{user:i.user,session:i},error:null}:{data:{user:null,session:null},error:null}})}catch(t){if(C(t))return{data:{user:null,session:null},error:t};throw t}}async _getSessionFromURL(e){try{if(!ue())throw new $t("No browser detected.");if(this.flowType==="implicit"&&!this._isImplicitGrantFlow())throw new $t("Not a valid implicit grant flow url.");if(this.flowType=="pkce"&&!e)throw new hn("Not a valid PKCE flow url.");const t=sr(window.location.href);if(e){if(!t.code)throw new hn("No code detected.");const{data:E,error:A}=await this._exchangeCodeForSession(t.code);if(A)throw A;const k=new URL(window.location.href);return k.searchParams.delete("code"),window.history.replaceState(window.history.state,"",k.toString()),{data:{session:E.session,redirectType:null},error:null}}if(t.error||t.error_description||t.error_code)throw new $t(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});const{provider_token:r,provider_refresh_token:i,access_token:s,refresh_token:o,expires_in:a,expires_at:l,token_type:c}=t;if(!s||!a||!o||!c)throw new $t("No session defined in URL");const u=Math.round(Date.now()/1e3),h=parseInt(a);let d=u+h;l&&(d=parseInt(l));const f=d-u;f*1e3<=ft&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${f}s, should have been closer to ${h}s`);const g=d-h;u-g>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",g,d,u):u-g<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clok for skew",g,d,u);const{data:m,error:p}=await this._getUser(s);if(p)throw p;const b={provider_token:r,provider_refresh_token:i,access_token:s,expires_in:h,expires_at:d,refresh_token:o,token_type:c,user:m.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:b,redirectType:t.type},error:null}}catch(t){if(C(t))return{data:{session:null,redirectType:null},error:t};throw t}}_isImplicitGrantFlow(){const e=sr(window.location.href);return!!(ue()&&(e.access_token||e.error_description))}async _isPKCEFlow(){const e=sr(window.location.href),t=await Ct(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&t)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async t=>{var r;const{data:i,error:s}=t;if(s)return{error:s};const o=(r=i.session)===null||r===void 0?void 0:r.access_token;if(o){const{error:a}=await this.admin.signOut(o,e);if(a&&!(ya(a)&&(a.status===404||a.status===401)))return{error:a}}return e!=="others"&&(await this._removeSession(),await or(this.storage,`${this.storageKey}-code-verifier`),await this._notifyAllSubscribers("SIGNED_OUT",null)),{error:null}})}onAuthStateChange(e){const t=ua(),r={id:t,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",t),this.stateChangeEmitters.delete(t)}};return this._debug("#onAuthStateChange()","registered callback with id",t),this.stateChangeEmitters.set(t,r),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(t)})))(),{data:{subscription:r}}}async _emitInitialSession(e){return await this._useSession(async t=>{var r,i;try{const{data:{session:s},error:o}=t;if(o)throw o;await((r=this.stateChangeEmitters.get(e))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",s)),this._debug("INITIAL_SESSION","callback id",e,"session",s)}catch(s){await((i=this.stateChangeEmitters.get(e))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",s),console.error(s)}})}async resetPasswordForEmail(e,t={}){let r=null,i=null;if(this.flowType==="pkce"){const s=He();await Pe(this.storage,`${this.storageKey}-code-verifier`,`${s}/PASSWORD_RECOVERY`),r=await Ve(s),i=s===r?"plain":"s256"}try{return await $(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:r,code_challenge_method:i,gotrue_meta_security:{captcha_token:t.captchaToken}},headers:this.headers,redirectTo:t.redirectTo})}catch(s){if(C(s))return{data:null,error:s};throw s}}async getUserIdentities(){var e;try{const{data:t,error:r}=await this.getUser();if(r)throw r;return{data:{identities:(e=t.user.identities)!==null&&e!==void 0?e:[]},error:null}}catch(t){if(C(t))return{data:null,error:t};throw t}}async linkIdentity(e){var t;try{const{data:r,error:i}=await this._useSession(async s=>{var o,a,l,c,u;const{data:h,error:d}=s;if(d)throw d;const f=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(o=e.options)===null||o===void 0?void 0:o.redirectTo,scopes:(a=e.options)===null||a===void 0?void 0:a.scopes,queryParams:(l=e.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:!0});return await $(this.fetch,"GET",f,{headers:this.headers,jwt:(u=(c=h.session)===null||c===void 0?void 0:c.access_token)!==null&&u!==void 0?u:void 0})});if(i)throw i;return ue()&&!(!((t=e.options)===null||t===void 0)&&t.skipBrowserRedirect)&&window.location.assign(r==null?void 0:r.url),{data:{provider:e.provider,url:r==null?void 0:r.url},error:null}}catch(r){if(C(r))return{data:{provider:e.provider,url:null},error:r};throw r}}async unlinkIdentity(e){try{return await this._useSession(async t=>{var r,i;const{data:s,error:o}=t;if(o)throw o;return await $(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(i=(r=s.session)===null||r===void 0?void 0:r.access_token)!==null&&i!==void 0?i:void 0})})}catch(t){if(C(t))return{data:null,error:t};throw t}}async _refreshAccessToken(e){const t=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(t,"begin");try{const r=Date.now();return await ga(async i=>(await fa(i*200),this._debug(t,"refreshing attempt",i),await $(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:je})),(i,s,o)=>o&&o.error&&lr(o.error)&&Date.now()+(i+1)*200-r<ft)}catch(r){if(this._debug(t,"error",r),C(r))return{data:{session:null,user:null},error:r};throw r}finally{this._debug(t,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,t){const r=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:t.redirectTo,scopes:t.scopes,queryParams:t.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",t,"url",r),ue()&&!t.skipBrowserRedirect&&window.location.assign(r),{data:{provider:e,url:r},error:null}}async _recoverAndRefresh(){var e;const t="#_recoverAndRefresh()";this._debug(t,"begin");try{const r=await Ct(this.storage,this.storageKey);if(this._debug(t,"session from storage",r),!this._isValidSession(r)){this._debug(t,"session is not valid"),r!==null&&await this._removeSession();return}const i=Math.round(Date.now()/1e3),s=((e=r.expires_at)!==null&&e!==void 0?e:1/0)<i+gn;if(this._debug(t,`session has${s?"":" not"} expired with margin of ${gn}s`),s){if(this.autoRefreshToken&&r.refresh_token){const{error:o}=await this._callRefreshToken(r.refresh_token);o&&(console.error(o),lr(o)||(this._debug(t,"refresh failed with a non-retryable error, removing the session",o),await this._removeSession()))}}else await this._notifyAllSubscribers("SIGNED_IN",r)}catch(r){this._debug(t,"error",r),console.error(r);return}finally{this._debug(t,"end")}}async _callRefreshToken(e){var t,r;if(!e)throw new qe;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const i=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(i,"begin");try{this.refreshingDeferred=new tr;const{data:s,error:o}=await this._refreshAccessToken(e);if(o)throw o;if(!s.session)throw new qe;await this._saveSession(s.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",s.session);const a={session:s.session,error:null};return this.refreshingDeferred.resolve(a),a}catch(s){if(this._debug(i,"error",s),C(s)){const o={session:null,error:s};return lr(s)||(await this._removeSession(),await this._notifyAllSubscribers("SIGNED_OUT",null)),(t=this.refreshingDeferred)===null||t===void 0||t.resolve(o),o}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(s),s}finally{this.refreshingDeferred=null,this._debug(i,"end")}}async _notifyAllSubscribers(e,t,r=!0){const i=`#_notifyAllSubscribers(${e})`;this._debug(i,"begin",t,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:e,session:t});const s=[],o=Array.from(this.stateChangeEmitters.values()).map(async a=>{try{await a.callback(e,t)}catch(l){s.push(l)}});if(await Promise.all(o),s.length>0){for(let a=0;a<s.length;a+=1)console.error(s[a]);throw s[0]}}finally{this._debug(i,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),await Pe(this.storage,this.storageKey,e)}async _removeSession(){this._debug("#_removeSession()"),await or(this.storage,this.storageKey)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&ue()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(t){console.error("removing visibilitychange callback failed",t)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),ft);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async t=>{const{data:{session:r}}=t;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const i=Math.floor((r.expires_at*1e3-e)/ft);this._debug("#_autoRefreshTokenTick()",`access token expires in ${i} ticks, a tick lasts ${ft}ms, refresh threshold is ${pn} ticks`),i<=pn&&await this._callRefreshToken(r.refresh_token)})}catch(t){console.error("Auto refresh tick failed with error. This is likely a transient error.",t)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof gi)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!ue()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const t=`#_onVisibilityChanged(${e})`;this._debug(t,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(t,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,t,r){const i=[`provider=${encodeURIComponent(t)}`];if(r!=null&&r.redirectTo&&i.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r!=null&&r.scopes&&i.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const s=He();await Pe(this.storage,`${this.storageKey}-code-verifier`,s);const o=await Ve(s),a=s===o?"plain":"s256";this._debug("PKCE","code verifier",`${s.substring(0,5)}...`,"code challenge",o,"method",a);const l=new URLSearchParams({code_challenge:`${encodeURIComponent(o)}`,code_challenge_method:`${encodeURIComponent(a)}`});i.push(l.toString())}if(r!=null&&r.queryParams){const s=new URLSearchParams(r.queryParams);i.push(s.toString())}return r!=null&&r.skipBrowserRedirect&&i.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${e}?${i.join("&")}`}async _unenroll(e){try{return await this._useSession(async t=>{var r;const{data:i,error:s}=t;return s?{data:null,error:s}:await $(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token})})}catch(t){if(C(t))return{data:null,error:t};throw t}}async _enroll(e){try{return await this._useSession(async t=>{var r,i;const{data:s,error:o}=t;if(o)return{data:null,error:o};const{data:a,error:l}=await $(this.fetch,"POST",`${this.url}/factors`,{body:{friendly_name:e.friendlyName,factor_type:e.factorType,issuer:e.issuer},headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token});return l?{data:null,error:l}:(!((i=a==null?void 0:a.totp)===null||i===void 0)&&i.qr_code&&(a.totp.qr_code=`data:image/svg+xml;utf-8,${a.totp.qr_code}`),{data:a,error:null})})}catch(t){if(C(t))return{data:null,error:t};throw t}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async t=>{var r;const{data:i,error:s}=t;if(s)return{data:null,error:s};const{data:o,error:a}=await $(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:{code:e.code,challenge_id:e.challengeId},headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token});return a?{data:null,error:a}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+o.expires_in},o)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",o),{data:o,error:a})})}catch(t){if(C(t))return{data:null,error:t};throw t}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async t=>{var r;const{data:i,error:s}=t;return s?{data:null,error:s}:await $(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token})})}catch(t){if(C(t))return{data:null,error:t};throw t}})}async _challengeAndVerify(e){const{data:t,error:r}=await this._challenge({factorId:e.factorId});return r?{data:null,error:r}:await this._verify({factorId:e.factorId,challengeId:t.id,code:e.code})}async _listFactors(){const{data:{user:e},error:t}=await this.getUser();if(t)return{data:null,error:t};const r=(e==null?void 0:e.factors)||[],i=r.filter(s=>s.factor_type==="totp"&&s.status==="verified");return{data:{all:r,totp:i},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async e=>{var t,r;const{data:{session:i},error:s}=e;if(s)return{data:null,error:s};if(!i)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const o=this._decodeJWT(i.access_token);let a=null;o.aal&&(a=o.aal);let l=a;((r=(t=i.user.factors)===null||t===void 0?void 0:t.filter(h=>h.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(l="aal2");const u=o.amr||[];return{data:{currentLevel:a,nextLevel:l,currentAuthenticationMethods:u},error:null}}))}}kt.nextInstanceID=0;class Ma extends kt{constructor(e){super(e)}}var Fa=function(n,e,t,r){function i(s){return s instanceof t?s:new t(function(o){o(s)})}return new(t||(t=Promise))(function(s,o){function a(u){try{c(r.next(u))}catch(h){o(h)}}function l(u){try{c(r.throw(u))}catch(h){o(h)}}function c(u){u.done?s(u.value):i(u.value).then(a,l)}c((r=r.apply(n,e||[])).next())})};class Ba{constructor(e,t,r){var i,s,o,a,l,c,u,h;if(this.supabaseUrl=e,this.supabaseKey=t,!e)throw new Error("supabaseUrl is required.");if(!t)throw new Error("supabaseKey is required.");const d=aa(e);this.realtimeUrl=`${d}/realtime/v1`.replace(/^http/i,"ws"),this.authUrl=`${d}/auth/v1`,this.storageUrl=`${d}/storage/v1`,this.functionsUrl=`${d}/functions/v1`;const f=`sb-${new URL(this.authUrl).hostname.split(".")[0]}-auth-token`,g={db:ea,realtime:ra,auth:Object.assign(Object.assign({},ta),{storageKey:f}),global:Xo},m=la(r??{},g);this.storageKey=(s=(i=m.auth)===null||i===void 0?void 0:i.storageKey)!==null&&s!==void 0?s:"",this.headers=(a=(o=m.global)===null||o===void 0?void 0:o.headers)!==null&&a!==void 0?a:{},this.auth=this._initSupabaseAuthClient((l=m.auth)!==null&&l!==void 0?l:{},this.headers,(c=m.global)===null||c===void 0?void 0:c.fetch),this.fetch=oa(t,this._getAccessToken.bind(this),(u=m.global)===null||u===void 0?void 0:u.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers},m.realtime)),this.rest=new jr(`${d}/rest/v1`,{headers:this.headers,schema:(h=m.db)===null||h===void 0?void 0:h.schema,fetch:this.fetch}),this._listenForAuthEvents()}get functions(){return new fo(this.functionsUrl,{headers:this.headers,customFetch:this.fetch})}get storage(){return new Zo(this.storageUrl,this.headers,this.fetch)}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,t={},r={}){return this.rest.rpc(e,t,r)}channel(e,t={config:{}}){return this.realtime.channel(e,t)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var e,t;return Fa(this,void 0,void 0,function*(){const{data:r}=yield this.auth.getSession();return(t=(e=r.session)===null||e===void 0?void 0:e.access_token)!==null&&t!==void 0?t:null})}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:t,detectSessionInUrl:r,storage:i,storageKey:s,flowType:o,debug:a},l,c){const u={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new Ma({url:this.authUrl,headers:Object.assign(Object.assign({},u),l),storageKey:s,autoRefreshToken:e,persistSession:t,detectSessionInUrl:r,storage:i,flowType:o,debug:a,fetch:c})}_initRealtimeClient(e){return new xo(this.realtimeUrl,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((t,r)=>{this._handleTokenChanged(t,"CLIENT",r==null?void 0:r.access_token)})}_handleTokenChanged(e,t,r){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==r?(this.realtime.setAuth(r??null),this.changedAccessToken=r):e==="SIGNED_OUT"&&(this.realtime.setAuth(this.supabaseKey),t=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const Ga=(n,e,t)=>new Ba(n,e,t),za="https://lwpcpixtrbcdhvktfvas.supabase.co",Ha="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Imx3cGNwaXh0cmJjZGh2a3RmdmFzIiwicm9sZSI6ImFub24iLCJpYXQiOjE3MTY2NTk5NTYsImV4cCI6MjAzMjIzNTk1Nn0.MY2A7T7t9DjfJhRNADoLukGlOfOsXvX3TryKOxI8XDI",Va=Ga(za,Ha),qa=async(n,e)=>{if(e.detail.info.trigger=="droppedIntoZone"){let t=e.detail.info.id,r=n;const i=await Va.from("entries").insert([{artist_id:t,gen:r}],{returning:"minimal"}).select();if(i.error)throw console.log(i.error),new Error("insert failed");return!0}};function _n(n,e,t){const r=n.slice();return r[14]=e[t],r}function yn(n,e,t){const r=n.slice();r[17]=e[t],r[20]=t;const i=r[14].items.length;return r[18]=i,r}function bn(n){let e,t=[],r=new Map,i=Ee(n[1]);const s=o=>o[14].id;for(let o=0;o<i.length;o+=1){let a=_n(n,i,o),l=s(a);r.set(l,t[o]=Sn(l,a))}return{c(){e=D("section");for(let o=0;o<t.length;o+=1)t[o].c();this.h()},l(o){e=I(o,"SECTION",{class:!0,style:!0});var a=ee(e);for(let l=0;l<t.length;l+=1)t[l].l(a);a.forEach(y),this.h()},h(){v(e,"class","board svelte-tzjvm3"),mt(e,"height",n[3].height+"px"),Nt(e,"experienceStarted",n[0])},m(o,a){F(o,e,a);for(let l=0;l<t.length;l+=1)t[l]&&t[l].m(e,null)},p(o,a){a&118&&(i=Ee(o[1]),t=kr(t,a,s,1,o,i,r,e,Ri,Sn,null,_n)),a&8&&mt(e,"height",o[3].height+"px"),a&1&&Nt(e,"experienceStarted",o[0])},d(o){o&&y(e);for(let a=0;a<t.length;a+=1)t[a].d()}}}function wn(n){let e,t,r=n[14].items[n[14].items.length-1].artistId+"",i,s,o=n[14].items[0].artistId+"",a,l,c,u=n[14].items[n[14].items.length-1].name+"",h,d,f,g,m,p=n[14].items[0]["debut year"]+"",b,E,A=n[1][0].items[0]["debut song"]+"",k,O,R;return{c(){e=D("div"),t=D("p"),i=pe(r),s=pe(" of "),a=pe(o),l=be(),c=D("p"),h=pe(u),f=be(),g=D("p"),m=pe("Debuted in "),b=pe(p),E=pe(" with YG and their most-streamed song is "),k=pe(A),this.h()},l(_){e=I(_,"DIV",{});var w=ee(e);t=I(w,"P",{class:!0});var P=ee(t);i=ve(P,r),s=ve(P," of "),a=ve(P,o),P.forEach(y),l=we(w),c=I(w,"P",{class:!0});var H=ee(c);h=ve(H,u),H.forEach(y),f=we(w),g=I(w,"P",{class:!0});var V=ee(g);m=ve(V,"Debuted in "),b=ve(V,p),E=ve(V," with YG and their most-streamed song is "),k=ve(V,A),V.forEach(y),w.forEach(y),this.h()},h(){v(t,"class","count svelte-tzjvm3"),v(c,"class","artist-name svelte-tzjvm3"),v(g,"class","description svelte-tzjvm3")},m(_,w){F(_,e,w),T(e,t),T(t,i),T(t,s),T(t,a),T(e,l),T(e,c),T(c,h),T(e,f),T(e,g),T(g,m),T(g,b),T(g,E),T(g,k),R=!0},p(_,w){(!R||w&2)&&r!==(r=_[14].items[_[14].items.length-1].artistId+"")&&Le(i,r),(!R||w&2)&&o!==(o=_[14].items[0].artistId+"")&&Le(a,o),(!R||w&2)&&u!==(u=_[14].items[_[14].items.length-1].name+"")&&Le(h,u),(!R||w&2)&&p!==(p=_[14].items[0]["debut year"]+"")&&Le(b,p),(!R||w&2)&&A!==(A=_[1][0].items[0]["debut song"]+"")&&Le(k,A)},i(_){R||(_&&xt(()=>{R&&(d||(d=Ze(c,Ye,{y:20,duration:500},!0)),d.run(1))}),_&&xt(()=>{R&&(O||(O=Ze(g,Ye,{y:20,duration:500},!0)),O.run(1))}),R=!0)},o(_){_&&(d||(d=Ze(c,Ye,{y:20,duration:500},!1)),d.run(0)),_&&(O||(O=Ze(g,Ye,{y:20,duration:500},!1)),O.run(0)),R=!1},d(_){_&&y(e),_&&d&&d.end(),_&&O&&O.end()}}}function En(n){let e,t,r=n[17].name+"",i,s;return{c(){e=D("div"),t=D("span"),i=pe(r),this.h()},l(o){e=I(o,"DIV",{class:!0});var a=ee(e);t=I(a,"SPAN",{class:!0});var l=ee(t);i=ve(l,r),l.forEach(y),a.forEach(y),this.h()},h(){v(t,"class","svelte-tzjvm3"),v(e,"class","custom-shadow-item svelte-tzjvm3")},m(o,a){F(o,e,a),T(e,t),T(t,i)},p(o,a){a&2&&r!==(r=o[17].name+"")&&Le(i,r)},i(o){o&&(s||xt(()=>{s=Di(e,Vi,{duration:200,easing:Hi}),s.start()}))},o:ge,d(o){o&&y(e)}}}function Tn(n,e){let t,r,i,s,o,a,l=ge,c,u,h=e[17][it]&&En(e);return{key:n,first:null,c(){t=D("div"),r=D("div"),h&&h.c(),i=be(),this.h()},l(d){t=I(d,"DIV",{class:!0,style:!0,"data-artist":!0});var f=ee(t);r=I(f,"DIV",{class:!0,style:!0});var g=ee(r);h&&h.l(g),g.forEach(y),i=we(f),f.forEach(y),this.h()},h(){v(r,"class","card svelte-tzjvm3"),mt(r,"background-image","url("+xi+"/assets/image.jpg)"),v(t,"class",s="card-container count-"+(e[18]-e[20])+" "+(e[18]-e[20]>3?"bottom-cards":"")+" "+(e[18]-e[20]==1?"top-card":"")+" svelte-tzjvm3"),mt(t,"--count",e[18]-e[20]),v(t,"data-artist",o=e[17].name),this.first=t},m(d,f){F(d,t,f),T(t,r),h&&h.m(r,null),T(t,i),c||(u=[pt(r,"click",cr),pt(t,"click",function(){Tr(cr(e[17]))&&cr(e[17]).apply(this,arguments)})],c=!0)},p(d,f){e=d,e[17][it]?h?(h.p(e,f),f&2&&x(h,1)):(h=En(e),h.c(),x(h,1),h.m(r,null)):h&&(h.d(1),h=null),f&2&&s!==(s="card-container count-"+(e[18]-e[20])+" "+(e[18]-e[20]>3?"bottom-cards":"")+" "+(e[18]-e[20]==1?"top-card":"")+" svelte-tzjvm3")&&v(t,"class",s),f&2&&mt(t,"--count",e[18]-e[20]),f&2&&o!==(o=e[17].name)&&v(t,"data-artist",o)},r(){a=t.getBoundingClientRect()},f(){Mi(t),l()},a(){l(),l=Ui(t,a,Ji,{duration:Er})},d(d){d&&y(t),h&&h.d(),c=!1,Mn(u)}}}function kn(n){let e,t,r=n[14].name+"",i;return{c(){e=D("div"),t=D("p"),i=pe(r),this.h()},l(s){e=I(s,"DIV",{class:!0});var o=ee(e);t=I(o,"P",{class:!0});var a=ee(t);i=ve(a,r),a.forEach(y),o.forEach(y),this.h()},h(){v(t,"class","svelte-tzjvm3"),v(e,"class","column-title svelte-tzjvm3")},m(s,o){F(s,e,o),T(e,t),T(t,i)},p(s,o){o&2&&r!==(r=s[14].name+"")&&Le(i,r)},d(s){s&&y(e)}}}function On(n){let e,t="Which Generation?";return{c(){e=D("p"),e.textContent=t,this.h()},l(r){e=I(r,"P",{class:!0,"data-svelte-h":!0}),bi(e)!=="svelte-70121c"&&(e.textContent=t),this.h()},h(){v(e,"class","which svelte-tzjvm3")},m(r,i){F(r,e,i)},d(r){r&&y(e)}}}function Sn(n,e){let t,r,i,s,o=[],a=new Map,l,c,u,h,d,f,g,m=e[14].id==0&&wn(e),p=Ee(e[14].items);const b=_=>_[17].id;for(let _=0;_<p.length;_+=1){let w=yn(e,p,_),P=b(w);a.set(P,o[_]=Tn(P,w))}function E(){return e[8](e[14])}function A(..._){return e[9](e[14],..._)}function k(..._){return e[10](e[14],..._)}let O=e[14].id>0&&kn(e),R=e[14].id==0&&On();return{key:n,first:null,c(){t=B(),m&&m.c(),r=be(),i=D("div"),s=D("div");for(let _=0;_<o.length;_+=1)o[_].c();c=be(),O&&O.c(),u=be(),R&&R.c(),h=be(),this.h()},l(_){t=B(),m&&m.l(_),r=we(_),i=I(_,"DIV",{class:!0});var w=ee(i);s=I(w,"DIV",{class:!0});var P=ee(s);for(let H=0;H<o.length;H+=1)o[H].l(P);P.forEach(y),c=we(w),O&&O.l(w),u=we(w),R&&R.l(w),h=we(w),w.forEach(y),this.h()},h(){v(s,"class","column-content svelte-tzjvm3"),v(i,"class",d="column column-"+e[14].id+" "+(e[14].id==0?"column-artists":"column-gen")+" svelte-tzjvm3"),this.first=t},m(_,w){F(_,t,w),m&&m.m(_,w),F(_,r,w),F(_,i,w),T(i,s);for(let P=0;P<o.length;P+=1)o[P]&&o[P].m(s,null);T(i,c),O&&O.m(i,null),T(i,u),R&&R.m(i,null),T(i,h),f||(g=[pt(s,"click",E),yi(l=so.call(null,s,{centreDraggedOnCursor:!0,items:e[14].items,flipDurationMs:Er,morphDisabled:!0,transformDraggedElement:An,dropTargetStyle:e[2]})),pt(s,"consider",A),pt(s,"finalize",k)],f=!0)},p(_,w){if(e=_,e[14].id==0?m?(m.p(e,w),w&2&&x(m,1)):(m=wn(e),m.c(),x(m,1),m.m(r.parentNode,r)):m&&(Me(),J(m,1,1,()=>{m=null}),Fe()),w&2){p=Ee(e[14].items);for(let P=0;P<o.length;P+=1)o[P].r();o=kr(o,w,b,1,e,p,a,s,Ci,Tn,null,yn);for(let P=0;P<o.length;P+=1)o[P].a()}l&&Tr(l.update)&&w&6&&l.update.call(null,{centreDraggedOnCursor:!0,items:e[14].items,flipDurationMs:Er,morphDisabled:!0,transformDraggedElement:An,dropTargetStyle:e[2]}),e[14].id>0?O?O.p(e,w):(O=kn(e),O.c(),O.m(i,u)):O&&(O.d(1),O=null),e[14].id==0?R||(R=On(),R.c(),R.m(i,h)):R&&(R.d(1),R=null),w&2&&d!==(d="column column-"+e[14].id+" "+(e[14].id==0?"column-artists":"column-gen")+" svelte-tzjvm3")&&v(i,"class",d)},d(_){_&&(y(t),y(r),y(i)),m&&m.d(_);for(let w=0;w<o.length;w+=1)o[w].d();O&&O.d(),R&&R.d(),f=!1,Mn(g)}}}function Wa(n){let e,t=n[1]&&bn(n);return{c(){t&&t.c(),e=B()},l(r){t&&t.l(r),e=B()},m(r,i){t&&t.m(r,i),F(r,e,i)},p(r,[i]){r[1]?t?t.p(r,i):(t=bn(r),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},i:ge,o:ge,d(r){r&&y(e),t&&t.d(r)}}}const Er=200;async function cr(n){}function An(n,e,t){}function Ja(n,e,t){let r;_i(n,$i,g=>t(3,r=g));let{data:i}=e,{experienceStarted:s}=e,o={outline:"red solid 2px"};o={};let a=[];i.forEach(g=>{a.push(g)});function l(g,m){const p=a.findIndex(b=>b.id===g);t(1,a[p].items=m.detail.items,a),t(1,a=[...a])}async function c(g,m){const p=a.findIndex(b=>b.id===g);t(1,a[p].items=m.detail.items,a),t(1,a=[...a]),await qa(g,m)}function u(g){a[g].items.push(a[0].items[a[0].items.length-1]),a[0].items.pop(),t(1,a=[...a])}const h=g=>u(g.id),d=(g,m)=>l(g.id,m),f=(g,m)=>c(g.id,m);return n.$$set=g=>{"data"in g&&t(7,i=g.data),"experienceStarted"in g&&t(0,s=g.experienceStarted)},n.$$.update=()=>{n.$$.dirty&2&&console.log(a)},[s,a,o,r,l,c,u,i,h,d,f]}class Ka extends qt{constructor(e){super(),Wt(this,e,Ja,Wa,Vt,{data:7,experienceStarted:0})}}function Dn(n,e,t){const r=n.slice();r[12]=e[t].type,r[13]=e[t].value,r[14]=e[t].component,r[17]=t;const i=r[17]==r[2];return r[15]=i,r}function In(n,e,t){const r=n.slice();return r[18]=e[t],r}function Rn(n){let e,t,r,i,s=n[4].indexOf(n[2])==-1,o;function a(u){n[9](u)}let l={duration:"0",$$slots:{default:[Xa]},$$scope:{ctx:n}};n[2]!==void 0&&(l.current=n[2]),t=new ji({props:l}),n[8](t),Bn.push(()=>Ii(t,"current",a));let c=s&&Ln(n);return{c(){e=D("article"),at(t.$$.fragment),i=be(),c&&c.c(),this.h()},l(u){e=I(u,"ARTICLE",{class:!0});var h=ee(e);lt(t.$$.fragment,h),i=we(h),c&&c.l(h),h.forEach(y),this.h()},h(){v(e,"class","svelte-m8gftx")},m(u,h){F(u,e,h),ct(t,e,null),T(e,i),c&&c.m(e,null),o=!0},p(u,h){const d={};h&2097157&&(d.$$scope={dirty:h,ctx:u}),!r&&h&4&&(r=!0,d.current=u[2],wi(()=>r=!1)),t.$set(d),h&4&&(s=u[4].indexOf(u[2])==-1),s?c?(c.p(u,h),h&4&&x(c,1)):(c=Ln(u),c.c(),x(c,1),c.m(e,null)):c&&(Me(),J(c,1,1,()=>{c=null}),Fe())},i(u){o||(x(t.$$.fragment,u),x(c),o=!0)},o(u){J(t.$$.fragment,u),J(c),o=!1},d(u){u&&y(e),n[8](null),ut(t),c&&c.d()}}}function Za(n){let e,t,r=n[15]&&n[5]&&Cn(n);return{c(){r&&r.c(),e=B()},l(i){r&&r.l(i),e=B()},m(i,s){r&&r.m(i,s),F(i,e,s),t=!0},p(i,s){i[15]&&i[5]?r?(r.p(i,s),s&4&&x(r,1)):(r=Cn(i),r.c(),x(r,1),r.m(e.parentNode,e)):r&&(Me(),J(r,1,1,()=>{r=null}),Fe())},i(i){t||(x(r),t=!0)},o(i){J(r),t=!1},d(i){i&&y(e),r&&r.d(i)}}}function Ya(n){let e,t=Ee(n[13]),r=[];for(let i=0;i<t.length;i+=1)r[i]=$n(In(n,t,i));return{c(){for(let i=0;i<r.length;i+=1)r[i].c();e=B()},l(i){for(let s=0;s<r.length;s+=1)r[s].l(i);e=B()},m(i,s){for(let o=0;o<r.length;o+=1)r[o]&&r[o].m(i,s);F(i,e,s)},p(i,s){if(s&4){t=Ee(i[13]);let o;for(o=0;o<t.length;o+=1){const a=In(i,t,o);r[o]?r[o].p(a,s):(r[o]=$n(a),r[o].c(),r[o].m(e.parentNode,e))}for(;o<r.length;o+=1)r[o].d(1);r.length=t.length}},i:ge,o:ge,d(i){i&&y(e),Un(r,i)}}}function Cn(n){let e,t;return e=new Ka({props:{experienceStarted:n[0],data:n[5]}}),{c(){at(e.$$.fragment)},l(r){lt(e.$$.fragment,r)},m(r,i){ct(e,r,i),t=!0},p(r,i){const s={};i&1&&(s.experienceStarted=r[0]),e.$set(s)},i(r){t||(x(e.$$.fragment,r),t=!0)},o(r){J(e.$$.fragment,r),t=!1},d(r){ut(e,r)}}}function Pn(n){let e,t,r=n[18].value+"",i,s;return{c(){e=D("p"),t=new Ei(!1),this.h()},l(o){e=I(o,"P",{class:!0});var a=ee(e);t=Ti(a,!1),a.forEach(y),this.h()},h(){t.a=null,v(e,"class","text svelte-m8gftx"),Nt(e,"isActive",n[15])},m(o,a){F(o,e,a),t.m(r,e),s=!0},p(o,a){(!s||a&4)&&Nt(e,"isActive",o[15])},i(o){s||(o&&xt(()=>{s&&(i||(i=Ze(e,Ye,{y:20,duration:500},!0)),i.run(1))}),s=!0)},o(o){o&&(i||(i=Ze(e,Ye,{y:20,duration:500},!1)),i.run(0)),s=!1},d(o){o&&y(e),o&&i&&i.end()}}}function $n(n){let e,t=n[15]&&Pn(n);return{c(){t&&t.c(),e=B()},l(r){t&&t.l(r),e=B()},m(r,i){t&&t.m(r,i),F(r,e,i)},p(r,i){r[15]?t?(t.p(r,i),i&4&&x(t,1)):(t=Pn(r),t.c(),x(t,1),t.m(e.parentNode,e)):t&&(Me(),J(t,1,1,()=>{t=null}),Fe())},d(r){r&&y(e),t&&t.d(r)}}}function Qa(n){let e,t,r,i;const s=[Ya,Za],o=[];function a(l,c){return l[12]==="section"?0:l[12]=="voting"?1:-1}return~(e=a(n))&&(t=o[e]=s[e](n)),{c(){t&&t.c(),r=B()},l(l){t&&t.l(l),r=B()},m(l,c){~e&&o[e].m(l,c),F(l,r,c),i=!0},p(l,c){t&&t.p(l,c)},i(l){i||(x(t),i=!0)},o(l){J(t),i=!1},d(l){l&&y(r),~e&&o[e].d(l)}}}function jn(n,e){let t,r,i,s;return r=new Ni({props:{index:e[17],$$slots:{default:[Qa]},$$scope:{ctx:e}}}),{key:n,first:null,c(){t=B(),at(r.$$.fragment),i=be(),this.h()},l(o){t=B(),lt(r.$$.fragment,o),i=we(o),this.h()},h(){this.first=t},m(o,a){F(o,t,a),ct(r,o,a),F(o,i,a),s=!0},p(o,a){e=o;const l={};a&2097157&&(l.$$scope={dirty:a,ctx:e}),r.$set(l)},i(o){s||(x(r.$$.fragment,o),s=!0)},o(o){J(r.$$.fragment,o),s=!1},d(o){o&&(y(t),y(i)),ut(r,o)}}}function Xa(n){let e=[],t=new Map,r,i,s=Ee(bt.body.index||[]);const o=a=>a[17];for(let a=0;a<s.length;a+=1){let l=Dn(n,s,a),c=o(l);t.set(c,e[a]=jn(c,l))}return{c(){for(let a=0;a<e.length;a+=1)e[a].c();r=B()},l(a){for(let l=0;l<e.length;l+=1)e[l].l(a);r=B()},m(a,l){for(let c=0;c<e.length;c+=1)e[c]&&e[c].m(a,l);F(a,r,l),i=!0},p(a,l){l&37&&(s=Ee(bt.body.index||[]),Me(),e=kr(e,l,o,1,a,s,t,r.parentNode,Pi,jn,r,Dn),Fe())},i(a){if(!i){for(let l=0;l<s.length;l+=1)x(e[l]);i=!0}},o(a){for(let l=0;l<e.length;l+=1)J(e[l]);i=!1},d(a){a&&y(r);for(let l=0;l<e.length;l+=1)e[l].d(a)}}}function Ln(n){let e,t;return e=new Li({props:{debug:!1,full:!0,directions:n[2]===0?["right"]:["left","right"],size:n[2]===0?"100%":["33%","67%"],enableKeyboard:!0,marginTop:0,showArrows:!0}}),e.$on("tap",n[6]),{c(){at(e.$$.fragment)},l(r){lt(e.$$.fragment,r)},m(r,i){ct(e,r,i),t=!0},p(r,i){const s={};i&4&&(s.directions=r[2]===0?["right"]:["left","right"]),i&4&&(s.size=r[2]===0?"100%":["33%","67%"]),e.$set(s)},i(r){t||(x(e.$$.fragment,r),t=!0)},o(r){J(e.$$.fragment,r),t=!1},d(r){ut(e,r)}}}function el(n){let e,t,r=n[3]&&Rn(n);return{c(){r&&r.c(),e=B()},l(i){r&&r.l(i),e=B()},m(i,s){r&&r.m(i,s),F(i,e,s),t=!0},p(i,[s]){i[3]?r?(r.p(i,s),s&8&&x(r,1)):(r=Rn(i),r.c(),x(r,1),r.m(e.parentNode,e)):r&&(Me(),J(r,1,1,()=>{r=null}),Fe())},i(i){t||(x(r),t=!0)},o(i){J(r),t=!1},d(i){i&&y(e),r&&r.d(i)}}}function tl(n,e,t){let{artists:r}=e,i,s=0,o=[2],a=[{id:0,name:"artists",items:r.reverse()},{id:1,name:"1st",items:[]},{id:2,name:"2nd",items:[]},{id:3,name:"3rd",items:[]},{id:4,name:"4th",items:[]},{id:5,name:"5th",items:[]},{id:6,name:"I don't know",items:[]}],l=!1,c=!1;const u=({detail:f})=>{f==="right"?i.next():i.prev(),window.scrollTo(0,0)};Fn(async()=>{t(3,c=!0),console.log(bt)});function h(f){Bn[f?"unshift":"push"](()=>{i=f,t(1,i)})}function d(f){s=f,t(2,s)}return n.$$set=f=>{"artists"in f&&t(7,r=f.artists)},n.$$.update=()=>{n.$$.dirty&1&&console.log(l)},[l,i,s,c,o,a,u,r,h,d]}class rl extends qt{constructor(e){super(),Wt(this,e,tl,el,Vt,{artists:7})}}function nl(){console.log("--- --- --- --- --- ---"),console.log("svelte-starter: 5.17.0"),console.log("build: 2024-06-18-08:27"),console.log("--- --- --- --- --- ---")}const mi=[{name:"Seo Taiji & Kids (서태지와 아이들)",id:"1","debut year":"1992","debut song":"I Know (난 알아요)","debut song link":"https://www.youtube.com/watch?v=OEDHEzs5kyk","highest mv views":"Come Back Home","highest mv link":"https://youtu.be/q3xy4p2JTfU?si=ykWzTIrIAda-Ttn5",image:"NEED TO FIND","":""},{name:"H.O.T",id:"2","debut year":"1996","debut song":"Age of Violence (전사의 후예)","debut song link":"https://www.youtube.com/watch?v=7ggXa28ADLE","highest mv views":"Candy","highest mv link":"https://youtu.be/3NUaXU1d-NY?si=guXk0ojaXtw4DSKl",image:"ntf","":"REMOVE"},{name:"S.E.S.",id:"3","debut year":"1997","debut song":"('Cause) I'm Your Girl","debut song link":"https://www.youtube.com/watch?v=fBge8oUfFwU","highest mv views":"Dreams Come True","highest mv link":"https://youtu.be/8uiR4SrDGZk?si=1KPA6DJk7Y7VQR0d",image:"small","":"FIND OR REMOVE"},{name:"TVXQ! (동방신기)",id:"4","debut year":"2003","debut song":"Hug","debut song link":"https://www.youtube.com/watch?v=xQ635vE2RQI","highest mv views":"Mirotic (주문)","highest mv link":"https://youtu.be/HtJS32n6LNQ?si=Wrycm3J7W8dCvKhS",image:"DISCUSS","":""},{name:"Super Junior",id:"5","debut year":"2005","debut song":"Twins (Knock Out)","debut song link":"https://www.youtube.com/watch?v=SrazFGFRnhM","highest mv views":"Mr. Simple","highest mv link":"https://youtu.be/r6TwzSGYycM?si=5pJQL-PKNHicXXQD",image:"","":"REMOVE"},{name:"BIGBANG",id:"6","debut year":"2006","debut song":"LA-LA-LA","debut song link":"https://www.youtube.com/watch?v=rc-cHSzK5-U","highest mv views":"BANG BANG BANG","highest mv link":"https://youtu.be/2ips2mM7Zqw?si=-QTJrxsJdsaeZXyi",image:"NEED TO FIND","":""},{name:"Girls' Generation (소녀시대)",id:"7","debut year":"2007","debut song":"Into The New World (다시 만난 세계)","debut song link":"https://www.youtube.com/watch?v=0k2Zzkw_-0I&list=RD0k2Zzkw_-0I&start_radio=1","highest mv views":"Gee","highest mv link":"https://youtu.be/U7mPqycQ0tQ?si=-yR2pROXaf8CTGZI",image:"","":""},{name:"Wonder Girls",id:"8","debut year":"2007","debut song":"Irony","debut song link":"https://www.youtube.com/watch?v=uxFxoLxmcdg","highest mv views":"Nobody","highest mv link":"https://youtu.be/BA7fdSkp8ds?si=CKwWVeS6cKLQjYf1",image:"","":""},{name:"2PM",id:"9","debut year":"2008","debut song":"10 out of 10 (10점 만점에 10점)","debut song link":"https://www.youtube.com/watch?v=YEmRoYV8vMs","highest mv views":"Hands Up","highest mv link":"https://youtu.be/KgrB2KBZws4?si=IbFU-25G968a5O9C",image:"","":""},{name:"SHINee",id:"10","debut year":"2008","debut song":"Replay (누난 너무 예뻐)","debut song link":"https://www.youtube.com/watch?v=VTASffPQGhY","highest mv views":"Ring Ding Dong","highest mv link":"https://www.youtube.com/watch?v=roughtzsCDI",image:"","":""},{name:"2NE1",id:"11","debut year":"2009","debut song":"FIRE","debut song link":"https://www.youtube.com/watch?v=49AfuuRbgGo","highest mv views":"I AM THE BEST (내가 제일 잘 나가)","highest mv link":"https://youtu.be/j7_lSP8Vc3o?si=oXben2BqG_scXRi7",image:"FIND OR CROP SQUARE","":""},{name:"BEAST",id:"12","debut year":"2009","debut song":"BAD GIRL","debut song link":"https://www.youtube.com/watch?v=fA_rXpyF67s","highest mv views":"FICTION","highest mv link":"https://youtu.be/ZAzWT8mRoR0?si=JkI2xh7yrkCY6i96",image:"DISCUSS - 6 member og B2ST or 4 member HIGHLIGHT","":"REMOVE"},{name:"f(x)",id:"13","debut year":"2009","debut song":"LA chA TA","debut song link":"https://www.youtube.com/watch?v=H7MHZpSNJQc","highest mv views":"Electric Shock","highest mv link":"https://youtu.be/n8I8QGFA1oM?si=yciZ5UmZCkxwp-Ay",image:"","":"REMOVE"},{name:"miss A",id:"14","debut year":"2010","debut song":"Bad Girl, Good Girl","debut song link":"https://www.youtube.com/watch?v=8TeeJvcBdLA","highest mv views":"Only You (다른 남자 말고 너)","highest mv link":"https://youtu.be/zO9RzrhYR-I?si=e7EcbKbf3Bm0MhEI",image:"","":"REMOVE"},{name:"SISTAR",id:"15","debut year":"2010","debut song":"Push Push","debut song link":"https://www.youtube.com/watch?v=75y5iN7z-08","highest mv views":"Alone (나혼자)","highest mv link":"https://youtu.be/E0ZHXVp_wUE?feature=shared",image:"","":"REMOVE"},{name:"EXO",id:"16","debut year":"2012","debut song":"Mama","debut song link":"https://www.youtube.com/watch?v=KH6ZwnqZ7Wo","highest mv views":"Love Shot","highest mv link":"https://www.youtube.com/watch?v=pSudEWBAYRE",image:"","":""},{name:"BTS (방탄소년단)",id:"17","debut year":"2013","debut song":"No More Dream","debut song link":"https://www.youtube.com/watch?v=rBG5L7UsUxA","highest mv views":"Dynamite","highest mv link":"https://www.youtube.com/watch?v=gdZLi9oWNZg",image:"","":""},{name:"GOT7",id:"18","debut year":"2014","debut song":"Girls Girls Girls","debut song link":"https://www.youtube.com/watch?v=2sAoKmg7qPI","highest mv views":"Just right","highest mv link":"https://youtu.be/vrdk3IGcau8?feature=shared",image:"","":""},{name:"MAMAMOO",id:"19","debut year":"2014","debut song":"Mr. Ambiguous (Mr.애매모호)","debut song link":"https://www.youtube.com/watch?v=QwjWP2Tnsjk","highest mv views":"HIP","highest mv link":"https://youtu.be/KhTeiaCezwM?feature=shared",image:"","":""},{name:"Red Velvet",id:"20","debut year":"2014","debut song":"Happiness (행복)","debut song link":"https://youtu.be/JFgv8bKfxEs?si=Bg8hr6quDJP9Inug","highest mv views":"Bad Boy","highest mv link":"https://youtu.be/J_CFBjAyPWE?feature=shared",image:"","":""},{name:"WINNER",id:"21","debut year":"2014","debut song":"Empty (공허해)","debut song link":"https://youtu.be/gEqlF5N8UMs?si=9bijM1O3ZHlW2hHl","highest mv views":"REALLY REALLY","highest mv link":"https://youtu.be/4tBnF46ybZk?feature=shared",image:"","":""},{name:"GFRIEND (여자친구)",id:"22","debut year":"2015","debut song":"Glass Bead (유리구슬)","debut song link":"https://youtu.be/GU7icQFVzHo?si=BMHMgRNRXJ21JqNv","highest mv views":"MAGO","highest mv link":"https://youtu.be/LmBYPXGqtss?feature=shared",image:"","":"REMOVE"},{name:"iKON",id:"23","debut year":"2015","debut song":"MY TYPE (취향저격)","debut song link":"https://youtu.be/ZS6vfv4sszg?si=gYgMU0_fU1nY57-Q","highest mv views":"Love Scenario","highest mv link":"https://youtu.be/vecSVX1QYbQ?feature=shared",image:"","":"REMOVE"},{name:"OH MY GIRL",id:"24","debut year":"2015","debut song":"CUPID","debut song link":"https://youtu.be/fCrCUv6rQ7I?si=76PQlXLQx60PzA_8","highest mv views":"Nonstop","highest mv link":"https://www.youtube.com/watch?v=iDjQSdN_ig8",image:"","":"REMOVE"},{name:"SEVENTEEN",id:"25","debut year":"2015","debut song":"Adore U (아낀다)","debut song link":"https://youtu.be/9rUFQJrCT7M?si=C61CfBTQ_dhAj8ZN","highest mv views":"Don't Wanna Cry (울고 싶지 않아)","highest mv link":"https://youtu.be/zEkg4GBQumc?feature=shared",image:"","":""},{name:"TWICE",id:"26","debut year":"2015","debut song":"Like OOH-AHH (OOH-AHH하게)","debut song link":"https://youtu.be/0rtV5esQT6I?si=zv-CbcDtfQjYJX4k","highest mv views":"What is Love?","highest mv link":"https://www.youtube.com/watch?v=2sAoKmg7qPI",image:"","":""},{name:"NCT",id:"27","debut year":"2016","debut song":"The 7th Sense (일곱 번째 감각)","debut song link":"https://youtu.be/3UGMDJ9kZCA?si=UmuCEnMzhDtVSeI4","highest mv views":"Make A Wish (Birthday Song)","highest mv link":"https://youtu.be/tyrVtwE8Gv0?feature=shared",image:"","":""},{name:"I.O.I",id:"28","debut year":"2016","debut song":"Dream Girls","debut song link":"https://youtu.be/8Zu_yO4pNEY?si=JT0XwnUpANJ-EG9c","highest mv views":"Very Very Very (너무 너무 너무)","highest mv link":"https://youtu.be/GdxvD7r58ng?feature=shared",image:"small + low qual","":"REMOVE"},{name:"BLACKPINK",id:"29","debut year":"2016","debut song":"BOOMBAYAH","debut song link":"https://youtu.be/bwmSjveL3Lc?si=mbhaB5WSFjqzQV3W","highest mv views":"DDU-DU DDU-DU (뚜두뚜두) https://www.youtube.com/watch?v=IHNzOHi8sJs","highest mv link":"https://www.youtube.com/watch?v=IHNzOHi8sJs",image:"","":""},{name:"Wanna One",id:"30","debut year":"2017","debut song":"Energetic","debut song link":"https://youtu.be/EVaV7AwqBWg?si=a_nadrDDFLqZVa1G","highest mv views":"Energetic","highest mv link":"https://youtu.be/EVaV7AwqBWg?si=a_nadrDDFLqZVa1G",image:"small + low qual","":"REMOVE"},{name:"Stray Kids",id:"31","debut year":"2018","debut song":"District 9","debut song link":"https://youtu.be/u6unJQownW4?si=JlN0wr_QLhKewSN-","highest mv views":"God's Menu (神메뉴)","highest mv link":"https://www.youtube.com/watch?v=TQTlCHxyuu8",image:"","":""},{name:"(G)I-DLE ((여자)아이들)",id:"32","debut year":"2018","debut song":"LATATA","debut song link":"https://youtu.be/p4RIhcY7V3c?si=c_K87xUxsjn5BQGm","highest mv views":"Queencard (퀸카)","highest mv link":"https://youtu.be/7HDeem-JaSY?feature=shared",image:"","":""},{name:"IZ*ONE",id:"33","debut year":"2018","debut song":"La Vie en Rose (라비앙로즈)","debut song link":"https://youtu.be/WZwr2a_lFWY?si=EcUcpAfwJMyE57i5","highest mv views":"Fiesta","highest mv link":"https://www.youtube.com/watch?v=eDEFolvLn0A",image:"small + low qual","":"REMOVE"},{name:"ITZY",id:"34","debut year":"2019","debut song":"DALLA DALLA (달라달라)","debut song link":"https://youtu.be/pNfTK39k55U?si=b6ESkvjDTKImWhY9","highest mv views":"WANNABE","highest mv link":"https://www.youtube.com/watch?v=fE2h3lGlOsk",image:"","":""},{name:"TXT (TOMORROW X TOGETHER)",id:"35","debut year":"2019","debut song":"CROWN (어느날 머리에서 뿔이 자랐다)","debut song link":"https://youtu.be/W3iSnJ663II?si=fJMsbm94kuqfwpRs","highest mv views":"Blue Hour","highest mv link":"https://youtu.be/Vd9QkWsd5p4?feature=shared",image:"CROP TO SQUARE","":""},{name:"TREASURE",id:"36","debut year":"2020","debut song":"BOY","debut song link":"https://youtu.be/JSAfPh1A25E?si=SbasbZ41-BLJYBnL","highest mv views":"JIKJIN (직진)","highest mv link":"https://youtu.be/ZJaKdBBzUYk?feature=shared",image:"","":""},{name:"aespa",id:"37","debut year":"2020","debut song":"Black Mamba","debut song link":"https://youtu.be/ZeerrnuLi5E?si=S-gqX_sQc_hYSHz9","highest mv views":"Next Level","highest mv link":"https://youtu.be/4TWR90KJl84?feature=shared",image:"","":""},{name:"ENHYPEN",id:"38","debut year":"2020","debut song":"Given-Taken","debut song link":"https://youtu.be/nQ6wLuYvGd4?si=eUedkwc1OFPAU8iH","highest mv views":"Drunk-Dazed","highest mv link":"https://youtu.be/Fc7-Oe0tj5k?si=KQnSczgAk-4sCDFq",image:"small","":""},{name:"IVE",id:"39","debut year":"2021","debut song":"ELEVEN","debut song link":"https://youtu.be/--FmExEAsM8?si=MDcAyaT_NVInfrBf","highest mv views":"After LIKE","highest mv link":"https://www.youtube.com/watch?v=F0B7HDiY-10&list=PLw6GjJYVtN0zhT0vdt1mWeBkgNr0sNwpp&index=3",image:"","":""},{name:"Kep1er",id:"40","debut year":"2022","debut song":"WA DA DA","debut song link":"https://youtu.be/n0j5NPptyM0?si=436Z9gkZvSacjRUh","highest mv views":"WA DA DA","highest mv link":"https://youtu.be/n0j5NPptyM0?si=436Z9gkZvSacjRUh",image:"","":"REMOVE"},{name:"NMIXX",id:"41","debut year":"2022","debut song":"O.O","debut song link":"https://youtu.be/3GWscde8rM8?si=RprVx2q7st8GycEk","highest mv views":"DICE","highest mv link":"https://youtu.be/p1bjnyDqI9k?si=jDucukb0Qvs-xs9h",image:"","":""},{name:"LE SSERAFIM",id:"42","debut year":"2022","debut song":"FEARLESS","debut song link":"https://youtu.be/4vbDFu0PUew?si=2wiF8J4MbiNHfXIB","highest mv views":"ANTIFRAGILE","highest mv link":"https://youtu.be/pyf8cbqyfPs?si=pFVJTZDp_zxxe5eP",image:"","":""},{name:"NewJeans",id:"43","debut year":"2022","debut song":"Attention","debut song link":"https://youtu.be/js1CtxSY38I?si=HHYtXwITAk5O8KvJ","highest mv views":"Super Shy","highest mv link":"https://youtu.be/ArmDp-zijuc?si=dgUEWpUVN1lWOran",image:"small","":""},{name:"BOYNEXTDOOR",id:"44","debut year":"2023","debut song":"Serenade","debut song link":"https://youtu.be/Uyq9OE8lIz8?si=oxaR8pLU5zieqlpC","highest mv views":"Earth, Wind & Fire","highest mv link":"https://www.youtube.com/watch?v=u9nP3qXQA4o",image:"","":"REMOVE"},{name:"ZEROBASEONE",id:"45","debut year":"2023","debut song":"In Bloom","debut song link":"https://youtu.be/trzeUClQIIg?si=LxiBZRZ1Sv8SdG4g","highest mv views":"CRUSH (가시)","highest mv link":"https://www.youtube.com/watch?v=AZoZbtI67Yk",image:"","":""},{name:"RIIZE",id:"46","debut year":"2023","debut song":"Get A Guitar","debut song link":"https://youtu.be/iUw3LPM7OBU?si=v1PxZ1HQOecnbFri","highest mv views":"Get A Guitar","highest mv link":"https://youtu.be/iUw3LPM7OBU?si=v1PxZ1HQOecnbFri",image:"","":""},{name:"BABYMONSTER",id:"47","debut year":"2023","debut song":"Batter Up","debut song link":"https://youtu.be/olDWm2veCrM?si=hnAU6SGWrZJr9sUM","highest mv views":"Batter Up","highest mv link":"https://youtu.be/olDWm2veCrM?si=hnAU6SGWrZJr9sUM",image:"","":""},{name:"TWS (투어스)",id:"48","debut year":"2024","debut song":"plot twist (첫 만남은 계획대로 되지 않아)","debut song link":"https://youtu.be/hVAc1Vf2ITU?si=E4eRB4Xt7zqx5xE4","highest mv views":"plot twist (첫 만남은 계획대로 되지 않아)","highest mv link":"https://youtu.be/hVAc1Vf2ITU?si=E4eRB4Xt7zqx5xE4",image:"CROP TO SQUARE","":""},{name:"VCHA",id:"49","debut year":"2024","debut song":"Girls of the Year","debut song link":"https://youtu.be/rBHK8Z8cwmQ?si=azCvDC_7u-ZaancM","highest mv views":"Y.O.Universe","highest mv link":"https://youtu.be/M8EsxRh0zOc?si=WmBHbfOFxLClfNQg",image:"","":"REMOVE"},{name:"ILLIT",id:"50","debut year":"2024","debut song":"Magnetic","debut song link":"https://www.youtube.com/watch?v=Vk5-c_v4gMU","highest mv views":"Magnetic","highest mv link":"https://www.youtube.com/watch?v=Vk5-c_v4gMU",image:"","":""}];function Nn(n){let e,t;return e=new rl({props:{artists:mi}}),{c(){at(e.$$.fragment)},l(r){lt(e.$$.fragment,r)},m(r,i){ct(e,r,i),t=!0},i(r){t||(x(e.$$.fragment,r),t=!0)},o(r){J(e.$$.fragment,r),t=!1},d(r){ut(e,r)}}}function il(n){let e,t,r,i;e=new zi({props:{title:n[2],description:n[3],url:n[4],preloadFont:n[1],keywords:n[5]}});let s=n[0]&&Nn();return{c(){at(e.$$.fragment),t=be(),s&&s.c(),r=B()},l(o){lt(e.$$.fragment,o),t=we(o),s&&s.l(o),r=B()},m(o,a){ct(e,o,a),F(o,t,a),s&&s.m(o,a),F(o,r,a),i=!0},p(o,[a]){o[0]?s?a&1&&x(s,1):(s=Nn(),s.c(),x(s,1),s.m(r.parentNode,r)):s&&(Me(),J(s,1,1,()=>{s=null}),Fe())},i(o){i||(x(e.$$.fragment,o),x(s),i=!0)},o(o){J(e.$$.fragment,o),J(s),i=!1},d(o){o&&(y(t),y(r)),ut(e,o),s&&s.d(o)}}}function sl(n,e,t){let{data:r}=e,i=!1;nl();const s=[],{title:o,description:a,url:l,keywords:c}=bt;return Fr("copy",bt),Fr("data",r.data),Fn(()=>{mi.forEach(u=>{u.artistId=u.id}),t(0,i=!0)}),n.$$set=u=>{"data"in u&&t(6,r=u.data)},[i,s,o,a,l,c,r]}class dl extends qt{constructor(e){super(),Wt(this,e,sl,il,Vt,{data:6})}}export{dl as component};
